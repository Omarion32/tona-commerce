function IM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var SM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function TM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var gR={exports:{}},Qp={},yR={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd=Symbol.for("react.element"),RM=Symbol.for("react.portal"),PM=Symbol.for("react.fragment"),AM=Symbol.for("react.strict_mode"),bM=Symbol.for("react.profiler"),kM=Symbol.for("react.provider"),CM=Symbol.for("react.context"),xM=Symbol.for("react.forward_ref"),DM=Symbol.for("react.suspense"),NM=Symbol.for("react.memo"),OM=Symbol.for("react.lazy"),mI=Symbol.iterator;function MM(t){return t===null||typeof t!="object"?null:(t=mI&&t[mI]||t["@@iterator"],typeof t=="function"?t:null)}var vR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_R=Object.assign,wR={};function tu(t,e,n){this.props=t,this.context=e,this.refs=wR,this.updater=n||vR}tu.prototype.isReactComponent={};tu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ER(){}ER.prototype=tu.prototype;function n0(t,e,n){this.props=t,this.context=e,this.refs=wR,this.updater=n||vR}var r0=n0.prototype=new ER;r0.constructor=n0;_R(r0,tu.prototype);r0.isPureReactComponent=!0;var gI=Array.isArray,IR=Object.prototype.hasOwnProperty,i0={current:null},SR={key:!0,ref:!0,__self:!0,__source:!0};function TR(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)IR.call(e,r)&&!SR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Cd,type:t,key:s,ref:o,props:i,_owner:i0.current}}function VM(t,e){return{$$typeof:Cd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function s0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cd}function LM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yI=/\/+/g;function jg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LM(""+t.key):e.toString(36)}function Sf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cd:case RM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+jg(o,0):r,gI(i)?(n="",t!=null&&(n=t.replace(yI,"$&/")+"/"),Sf(i,e,n,"",function(d){return d})):i!=null&&(s0(i)&&(i=VM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(yI,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",gI(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+jg(s,a);o+=Sf(s,e,n,l,i)}else if(l=MM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+jg(s,a++),o+=Sf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Kh(t,e,n){if(t==null)return t;var r=[],i=0;return Sf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function FM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tn={current:null},Tf={transition:null},UM={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:Tf,ReactCurrentOwner:i0};function RR(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:Kh,forEach:function(t,e,n){Kh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kh(t,function(){e++}),e},toArray:function(t){return Kh(t,function(e){return e})||[]},only:function(t){if(!s0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=tu;Re.Fragment=PM;Re.Profiler=bM;Re.PureComponent=n0;Re.StrictMode=AM;Re.Suspense=DM;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UM;Re.act=RR;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_R({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=i0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)IR.call(e,l)&&!SR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Cd,type:t.type,key:i,ref:s,props:r,_owner:o}};Re.createContext=function(t){return t={$$typeof:CM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kM,_context:t},t.Consumer=t};Re.createElement=TR;Re.createFactory=function(t){var e=TR.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:xM,render:t}};Re.isValidElement=s0;Re.lazy=function(t){return{$$typeof:OM,_payload:{_status:-1,_result:t},_init:FM}};Re.memo=function(t,e){return{$$typeof:NM,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=Tf.transition;Tf.transition={};try{t()}finally{Tf.transition=e}};Re.unstable_act=RR;Re.useCallback=function(t,e){return Tn.current.useCallback(t,e)};Re.useContext=function(t){return Tn.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return Tn.current.useDeferredValue(t)};Re.useEffect=function(t,e){return Tn.current.useEffect(t,e)};Re.useId=function(){return Tn.current.useId()};Re.useImperativeHandle=function(t,e,n){return Tn.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return Tn.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return Tn.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return Tn.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return Tn.current.useReducer(t,e,n)};Re.useRef=function(t){return Tn.current.useRef(t)};Re.useState=function(t){return Tn.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return Tn.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return Tn.current.useTransition()};Re.version="18.3.1";yR.exports=Re;var Q=yR.exports;const ge=kd(Q),jM=IM({__proto__:null,default:ge},[Q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BM=Q,zM=Symbol.for("react.element"),$M=Symbol.for("react.fragment"),WM=Object.prototype.hasOwnProperty,qM=BM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GM={key:!0,ref:!0,__self:!0,__source:!0};function PR(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WM.call(e,r)&&!GM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zM,type:t,key:s,ref:o,props:i,_owner:qM.current}}Qp.Fragment=$M;Qp.jsx=PR;Qp.jsxs=PR;gR.exports=Qp;var O=gR.exports,Zy={},AR={exports:{}},Kn={},bR={exports:{}},kR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ne,pe){var de=ne.length;ne.push(pe);e:for(;0<de;){var Ie=de-1>>>1,Ve=ne[Ie];if(0<i(Ve,pe))ne[Ie]=pe,ne[de]=Ve,de=Ie;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var pe=ne[0],de=ne.pop();if(de!==pe){ne[0]=de;e:for(var Ie=0,Ve=ne.length,Xe=Ve>>>1;Ie<Xe;){var sn=2*(Ie+1)-1,le=ne[sn],pr=sn+1,mr=ne[pr];if(0>i(le,de))pr<Ve&&0>i(mr,le)?(ne[Ie]=mr,ne[pr]=de,Ie=pr):(ne[Ie]=le,ne[sn]=de,Ie=sn);else if(pr<Ve&&0>i(mr,de))ne[Ie]=mr,ne[pr]=de,Ie=pr;else break e}}return pe}function i(ne,pe){var de=ne.sortIndex-pe.sortIndex;return de!==0?de:ne.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],d=[],f=1,p=null,v=3,w=!1,I=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(ne){for(var pe=n(d);pe!==null;){if(pe.callback===null)r(d);else if(pe.startTime<=ne)r(d),pe.sortIndex=pe.expirationTime,e(l,pe);else break;pe=n(d)}}function U(ne){if(A=!1,P(ne),!I)if(n(l)!==null)I=!0,fr(B);else{var pe=n(d);pe!==null&&gt(U,pe.startTime-ne)}}function B(ne,pe){I=!1,A&&(A=!1,b(T),T=-1),w=!0;var de=v;try{for(P(pe),p=n(l);p!==null&&(!(p.expirationTime>pe)||ne&&!V());){var Ie=p.callback;if(typeof Ie=="function"){p.callback=null,v=p.priorityLevel;var Ve=Ie(p.expirationTime<=pe);pe=t.unstable_now(),typeof Ve=="function"?p.callback=Ve:p===n(l)&&r(l),P(pe)}else r(l);p=n(l)}if(p!==null)var Xe=!0;else{var sn=n(d);sn!==null&&gt(U,sn.startTime-pe),Xe=!1}return Xe}finally{p=null,v=de,w=!1}}var G=!1,C=null,T=-1,x=5,D=-1;function V(){return!(t.unstable_now()-D<x)}function L(){if(C!==null){var ne=t.unstable_now();D=ne;var pe=!0;try{pe=C(!0,ne)}finally{pe?N():(G=!1,C=null)}}else G=!1}var N;if(typeof R=="function")N=function(){R(L)};else if(typeof MessageChannel<"u"){var Xt=new MessageChannel,Ke=Xt.port2;Xt.port1.onmessage=L,N=function(){Ke.postMessage(null)}}else N=function(){k(L,0)};function fr(ne){C=ne,G||(G=!0,N())}function gt(ne,pe){T=k(function(){ne(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){I||w||(I=!0,fr(B))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ne){switch(v){case 1:case 2:case 3:var pe=3;break;default:pe=v}var de=v;v=pe;try{return ne()}finally{v=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,pe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var de=v;v=ne;try{return pe()}finally{v=de}},t.unstable_scheduleCallback=function(ne,pe,de){var Ie=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ie+de:Ie):de=Ie,ne){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=de+Ve,ne={id:f++,callback:pe,priorityLevel:ne,startTime:de,expirationTime:Ve,sortIndex:-1},de>Ie?(ne.sortIndex=de,e(d,ne),n(l)===null&&ne===n(d)&&(A?(b(T),T=-1):A=!0,gt(U,de-Ie))):(ne.sortIndex=Ve,e(l,ne),I||w||(I=!0,fr(B))),ne},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(ne){var pe=v;return function(){var de=v;v=pe;try{return ne.apply(this,arguments)}finally{v=de}}}})(kR);bR.exports=kR;var HM=bR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KM=Q,Gn=HM;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CR=new Set,$c={};function sa(t,e){Rl(t,e),Rl(t+"Capture",e)}function Rl(t,e){for($c[t]=e,t=0;t<e.length;t++)CR.add(e[t])}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ev=Object.prototype.hasOwnProperty,YM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vI={},_I={};function QM(t){return ev.call(_I,t)?!0:ev.call(vI,t)?!1:YM.test(t)?_I[t]=!0:(vI[t]=!0,!1)}function JM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XM(t,e,n,r){if(e===null||typeof e>"u"||JM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rn[t]=new Rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rn[e]=new Rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rn[t]=new Rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rn[t]=new Rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rn[t]=new Rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rn[t]=new Rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rn[t]=new Rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rn[t]=new Rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rn[t]=new Rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var o0=/[\-:]([a-z])/g;function a0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(o0,a0);rn[e]=new Rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(o0,a0);rn[e]=new Rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(o0,a0);rn[e]=new Rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rn[t]=new Rn(t,1,!1,t.toLowerCase(),null,!1,!1)});rn.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rn[t]=new Rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function l0(t,e,n,r){var i=rn.hasOwnProperty(e)?rn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XM(e,n,i,r)&&(n=null),r||i===null?QM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mi=KM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yh=Symbol.for("react.element"),Xa=Symbol.for("react.portal"),Za=Symbol.for("react.fragment"),u0=Symbol.for("react.strict_mode"),tv=Symbol.for("react.profiler"),xR=Symbol.for("react.provider"),DR=Symbol.for("react.context"),c0=Symbol.for("react.forward_ref"),nv=Symbol.for("react.suspense"),rv=Symbol.for("react.suspense_list"),d0=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),NR=Symbol.for("react.offscreen"),wI=Symbol.iterator;function Wu(t){return t===null||typeof t!="object"?null:(t=wI&&t[wI]||t["@@iterator"],typeof t=="function"?t:null)}var mt=Object.assign,Bg;function cc(t){if(Bg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bg=e&&e[1]||""}return`
`+Bg+t}var zg=!1;function $g(t,e){if(!t||zg)return"";zg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{zg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?cc(t):""}function ZM(t){switch(t.tag){case 5:return cc(t.type);case 16:return cc("Lazy");case 13:return cc("Suspense");case 19:return cc("SuspenseList");case 0:case 2:case 15:return t=$g(t.type,!1),t;case 11:return t=$g(t.type.render,!1),t;case 1:return t=$g(t.type,!0),t;default:return""}}function iv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Za:return"Fragment";case Xa:return"Portal";case tv:return"Profiler";case u0:return"StrictMode";case nv:return"Suspense";case rv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case DR:return(t.displayName||"Context")+".Consumer";case xR:return(t._context.displayName||"Context")+".Provider";case c0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case d0:return e=t.displayName||null,e!==null?e:iv(t.type)||"Memo";case is:e=t._payload,t=t._init;try{return iv(t(e))}catch{}}return null}function eV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iv(e);case 8:return e===u0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function As(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tV(t){var e=OR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qh(t){t._valueTracker||(t._valueTracker=tV(t))}function MR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sv(t,e){var n=e.checked;return mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function EI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=As(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VR(t,e){e=e.checked,e!=null&&l0(t,"checked",e,!1)}function ov(t,e){VR(t,e);var n=As(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?av(t,e.type,n):e.hasOwnProperty("defaultValue")&&av(t,e.type,As(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function II(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function av(t,e,n){(e!=="number"||Jf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var dc=Array.isArray;function fl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+As(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function lv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function SI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(dc(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:As(n)}}function LR(t,e){var n=As(e.value),r=As(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function TI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function FR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?FR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jh,UR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jh=Jh||document.createElement("div"),Jh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nV=["Webkit","ms","Moz","O"];Object.keys(Sc).forEach(function(t){nV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sc[e]=Sc[t]})});function jR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sc.hasOwnProperty(t)&&Sc[t]?(""+e).trim():e+"px"}function BR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rV=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cv(t,e){if(e){if(rV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function dv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hv=null;function h0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fv=null,pl=null,ml=null;function RI(t){if(t=Nd(t)){if(typeof fv!="function")throw Error(J(280));var e=t.stateNode;e&&(e=tm(e),fv(t.stateNode,t.type,e))}}function zR(t){pl?ml?ml.push(t):ml=[t]:pl=t}function $R(){if(pl){var t=pl,e=ml;if(ml=pl=null,RI(t),e)for(t=0;t<e.length;t++)RI(e[t])}}function WR(t,e){return t(e)}function qR(){}var Wg=!1;function GR(t,e,n){if(Wg)return t(e,n);Wg=!0;try{return WR(t,e,n)}finally{Wg=!1,(pl!==null||ml!==null)&&(qR(),$R())}}function qc(t,e){var n=t.stateNode;if(n===null)return null;var r=tm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var pv=!1;if(Ai)try{var qu={};Object.defineProperty(qu,"passive",{get:function(){pv=!0}}),window.addEventListener("test",qu,qu),window.removeEventListener("test",qu,qu)}catch{pv=!1}function iV(t,e,n,r,i,s,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var Tc=!1,Xf=null,Zf=!1,mv=null,sV={onError:function(t){Tc=!0,Xf=t}};function oV(t,e,n,r,i,s,o,a,l){Tc=!1,Xf=null,iV.apply(sV,arguments)}function aV(t,e,n,r,i,s,o,a,l){if(oV.apply(this,arguments),Tc){if(Tc){var d=Xf;Tc=!1,Xf=null}else throw Error(J(198));Zf||(Zf=!0,mv=d)}}function oa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function HR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function PI(t){if(oa(t)!==t)throw Error(J(188))}function lV(t){var e=t.alternate;if(!e){if(e=oa(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return PI(i),t;if(s===r)return PI(i),e;s=s.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function KR(t){return t=lV(t),t!==null?YR(t):null}function YR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=YR(t);if(e!==null)return e;t=t.sibling}return null}var QR=Gn.unstable_scheduleCallback,AI=Gn.unstable_cancelCallback,uV=Gn.unstable_shouldYield,cV=Gn.unstable_requestPaint,Tt=Gn.unstable_now,dV=Gn.unstable_getCurrentPriorityLevel,f0=Gn.unstable_ImmediatePriority,JR=Gn.unstable_UserBlockingPriority,ep=Gn.unstable_NormalPriority,hV=Gn.unstable_LowPriority,XR=Gn.unstable_IdlePriority,Jp=null,Zr=null;function fV(t){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(Jp,t,void 0,(t.current.flags&128)===128)}catch{}}var br=Math.clz32?Math.clz32:gV,pV=Math.log,mV=Math.LN2;function gV(t){return t>>>=0,t===0?32:31-(pV(t)/mV|0)|0}var Xh=64,Zh=4194304;function hc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=hc(a):(s&=o,s!==0&&(r=hc(s)))}else o=n&~i,o!==0?r=hc(o):s!==0&&(r=hc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-br(e),i=1<<n,r|=t[n],e&=~i;return r}function yV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-br(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=yV(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function gv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ZR(){var t=Xh;return Xh<<=1,!(Xh&4194240)&&(Xh=64),t}function qg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-br(e),t[e]=n}function _V(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-br(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function p0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-br(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ze=0;function eP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tP,m0,nP,rP,iP,yv=!1,ef=[],ms=null,gs=null,ys=null,Gc=new Map,Hc=new Map,os=[],wV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bI(t,e){switch(t){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":Gc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(e.pointerId)}}function Gu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Nd(e),e!==null&&m0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function EV(t,e,n,r,i){switch(e){case"focusin":return ms=Gu(ms,t,e,n,r,i),!0;case"dragenter":return gs=Gu(gs,t,e,n,r,i),!0;case"mouseover":return ys=Gu(ys,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Gc.set(s,Gu(Gc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Hc.set(s,Gu(Hc.get(s)||null,t,e,n,r,i)),!0}return!1}function sP(t){var e=bo(t.target);if(e!==null){var n=oa(e);if(n!==null){if(e=n.tag,e===13){if(e=HR(n),e!==null){t.blockedOn=e,iP(t.priority,function(){nP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hv=r,n.target.dispatchEvent(r),hv=null}else return e=Nd(n),e!==null&&m0(e),t.blockedOn=n,!1;e.shift()}return!0}function kI(t,e,n){Rf(t)&&n.delete(e)}function IV(){yv=!1,ms!==null&&Rf(ms)&&(ms=null),gs!==null&&Rf(gs)&&(gs=null),ys!==null&&Rf(ys)&&(ys=null),Gc.forEach(kI),Hc.forEach(kI)}function Hu(t,e){t.blockedOn===e&&(t.blockedOn=null,yv||(yv=!0,Gn.unstable_scheduleCallback(Gn.unstable_NormalPriority,IV)))}function Kc(t){function e(i){return Hu(i,t)}if(0<ef.length){Hu(ef[0],t);for(var n=1;n<ef.length;n++){var r=ef[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ms!==null&&Hu(ms,t),gs!==null&&Hu(gs,t),ys!==null&&Hu(ys,t),Gc.forEach(e),Hc.forEach(e),n=0;n<os.length;n++)r=os[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<os.length&&(n=os[0],n.blockedOn===null);)sP(n),n.blockedOn===null&&os.shift()}var gl=Mi.ReactCurrentBatchConfig,np=!0;function SV(t,e,n,r){var i=ze,s=gl.transition;gl.transition=null;try{ze=1,g0(t,e,n,r)}finally{ze=i,gl.transition=s}}function TV(t,e,n,r){var i=ze,s=gl.transition;gl.transition=null;try{ze=4,g0(t,e,n,r)}finally{ze=i,gl.transition=s}}function g0(t,e,n,r){if(np){var i=vv(t,e,n,r);if(i===null)ty(t,e,r,rp,n),bI(t,r);else if(EV(i,t,e,n,r))r.stopPropagation();else if(bI(t,r),e&4&&-1<wV.indexOf(t)){for(;i!==null;){var s=Nd(i);if(s!==null&&tP(s),s=vv(t,e,n,r),s===null&&ty(t,e,r,rp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ty(t,e,r,null,n)}}var rp=null;function vv(t,e,n,r){if(rp=null,t=h0(r),t=bo(t),t!==null)if(e=oa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=HR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rp=t,null}function oP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dV()){case f0:return 1;case JR:return 4;case ep:case hV:return 16;case XR:return 536870912;default:return 16}default:return 16}}var cs=null,y0=null,Pf=null;function aP(){if(Pf)return Pf;var t,e=y0,n=e.length,r,i="value"in cs?cs.value:cs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Pf=i.slice(t,1<r?1-r:void 0)}function Af(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tf(){return!0}function CI(){return!1}function Yn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tf:CI,this.isPropagationStopped=CI,this}return mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tf)},persist:function(){},isPersistent:tf}),e}var nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},v0=Yn(nu),Dd=mt({},nu,{view:0,detail:0}),RV=Yn(Dd),Gg,Hg,Ku,Xp=mt({},Dd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ku&&(Ku&&t.type==="mousemove"?(Gg=t.screenX-Ku.screenX,Hg=t.screenY-Ku.screenY):Hg=Gg=0,Ku=t),Gg)},movementY:function(t){return"movementY"in t?t.movementY:Hg}}),xI=Yn(Xp),PV=mt({},Xp,{dataTransfer:0}),AV=Yn(PV),bV=mt({},Dd,{relatedTarget:0}),Kg=Yn(bV),kV=mt({},nu,{animationName:0,elapsedTime:0,pseudoElement:0}),CV=Yn(kV),xV=mt({},nu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DV=Yn(xV),NV=mt({},nu,{data:0}),DI=Yn(NV),OV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VV[t])?!!e[t]:!1}function _0(){return LV}var FV=mt({},Dd,{key:function(t){if(t.key){var e=OV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Af(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_0,charCode:function(t){return t.type==="keypress"?Af(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Af(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UV=Yn(FV),jV=mt({},Xp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NI=Yn(jV),BV=mt({},Dd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_0}),zV=Yn(BV),$V=mt({},nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),WV=Yn($V),qV=mt({},Xp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GV=Yn(qV),HV=[9,13,27,32],w0=Ai&&"CompositionEvent"in window,Rc=null;Ai&&"documentMode"in document&&(Rc=document.documentMode);var KV=Ai&&"TextEvent"in window&&!Rc,lP=Ai&&(!w0||Rc&&8<Rc&&11>=Rc),OI=" ",MI=!1;function uP(t,e){switch(t){case"keyup":return HV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var el=!1;function YV(t,e){switch(t){case"compositionend":return cP(e);case"keypress":return e.which!==32?null:(MI=!0,OI);case"textInput":return t=e.data,t===OI&&MI?null:t;default:return null}}function QV(t,e){if(el)return t==="compositionend"||!w0&&uP(t,e)?(t=aP(),Pf=y0=cs=null,el=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lP&&e.locale!=="ko"?null:e.data;default:return null}}var JV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JV[t.type]:e==="textarea"}function dP(t,e,n,r){zR(r),e=ip(e,"onChange"),0<e.length&&(n=new v0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pc=null,Yc=null;function XV(t){IP(t,0)}function Zp(t){var e=rl(t);if(MR(e))return t}function ZV(t,e){if(t==="change")return e}var hP=!1;if(Ai){var Yg;if(Ai){var Qg="oninput"in document;if(!Qg){var LI=document.createElement("div");LI.setAttribute("oninput","return;"),Qg=typeof LI.oninput=="function"}Yg=Qg}else Yg=!1;hP=Yg&&(!document.documentMode||9<document.documentMode)}function FI(){Pc&&(Pc.detachEvent("onpropertychange",fP),Yc=Pc=null)}function fP(t){if(t.propertyName==="value"&&Zp(Yc)){var e=[];dP(e,Yc,t,h0(t)),GR(XV,e)}}function e2(t,e,n){t==="focusin"?(FI(),Pc=e,Yc=n,Pc.attachEvent("onpropertychange",fP)):t==="focusout"&&FI()}function t2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zp(Yc)}function n2(t,e){if(t==="click")return Zp(e)}function r2(t,e){if(t==="input"||t==="change")return Zp(e)}function i2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dr=typeof Object.is=="function"?Object.is:i2;function Qc(t,e){if(Dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ev.call(e,i)||!Dr(t[i],e[i]))return!1}return!0}function UI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jI(t,e){var n=UI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=UI(n)}}function pP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mP(){for(var t=window,e=Jf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jf(t.document)}return e}function E0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function s2(t){var e=mP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pP(n.ownerDocument.documentElement,n)){if(r!==null&&E0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=jI(n,s);var o=jI(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var o2=Ai&&"documentMode"in document&&11>=document.documentMode,tl=null,_v=null,Ac=null,wv=!1;function BI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wv||tl==null||tl!==Jf(r)||(r=tl,"selectionStart"in r&&E0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ac&&Qc(Ac,r)||(Ac=r,r=ip(_v,"onSelect"),0<r.length&&(e=new v0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=tl)))}function nf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var nl={animationend:nf("Animation","AnimationEnd"),animationiteration:nf("Animation","AnimationIteration"),animationstart:nf("Animation","AnimationStart"),transitionend:nf("Transition","TransitionEnd")},Jg={},gP={};Ai&&(gP=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function em(t){if(Jg[t])return Jg[t];if(!nl[t])return t;var e=nl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gP)return Jg[t]=e[n];return t}var yP=em("animationend"),vP=em("animationiteration"),_P=em("animationstart"),wP=em("transitionend"),EP=new Map,zI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(t,e){EP.set(t,e),sa(e,[t])}for(var Xg=0;Xg<zI.length;Xg++){var Zg=zI[Xg],a2=Zg.toLowerCase(),l2=Zg[0].toUpperCase()+Zg.slice(1);zs(a2,"on"+l2)}zs(yP,"onAnimationEnd");zs(vP,"onAnimationIteration");zs(_P,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(wP,"onTransitionEnd");Rl("onMouseEnter",["mouseout","mouseover"]);Rl("onMouseLeave",["mouseout","mouseover"]);Rl("onPointerEnter",["pointerout","pointerover"]);Rl("onPointerLeave",["pointerout","pointerover"]);sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u2=new Set("cancel close invalid load scroll toggle".split(" ").concat(fc));function $I(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aV(r,e,void 0,t),t.currentTarget=null}function IP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;$I(i,a,d),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;$I(i,a,d),s=l}}}if(Zf)throw t=mv,Zf=!1,mv=null,t}function Ze(t,e){var n=e[Rv];n===void 0&&(n=e[Rv]=new Set);var r=t+"__bubble";n.has(r)||(SP(e,t,2,!1),n.add(r))}function ey(t,e,n){var r=0;e&&(r|=4),SP(n,t,r,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function Jc(t){if(!t[rf]){t[rf]=!0,CR.forEach(function(n){n!=="selectionchange"&&(u2.has(n)||ey(n,!1,t),ey(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rf]||(e[rf]=!0,ey("selectionchange",!1,e))}}function SP(t,e,n,r){switch(oP(e)){case 1:var i=SV;break;case 4:i=TV;break;default:i=g0}n=i.bind(null,e,n,t),i=void 0,!pv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ty(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=bo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}GR(function(){var d=s,f=h0(n),p=[];e:{var v=EP.get(t);if(v!==void 0){var w=v0,I=t;switch(t){case"keypress":if(Af(n)===0)break e;case"keydown":case"keyup":w=UV;break;case"focusin":I="focus",w=Kg;break;case"focusout":I="blur",w=Kg;break;case"beforeblur":case"afterblur":w=Kg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=xI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=AV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=zV;break;case yP:case vP:case _P:w=CV;break;case wP:w=WV;break;case"scroll":w=RV;break;case"wheel":w=GV;break;case"copy":case"cut":case"paste":w=DV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=NI}var A=(e&4)!==0,k=!A&&t==="scroll",b=A?v!==null?v+"Capture":null:v;A=[];for(var R=d,P;R!==null;){P=R;var U=P.stateNode;if(P.tag===5&&U!==null&&(P=U,b!==null&&(U=qc(R,b),U!=null&&A.push(Xc(R,U,P)))),k)break;R=R.return}0<A.length&&(v=new w(v,I,null,n,f),p.push({event:v,listeners:A}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",v&&n!==hv&&(I=n.relatedTarget||n.fromElement)&&(bo(I)||I[bi]))break e;if((w||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,w?(I=n.relatedTarget||n.toElement,w=d,I=I?bo(I):null,I!==null&&(k=oa(I),I!==k||I.tag!==5&&I.tag!==6)&&(I=null)):(w=null,I=d),w!==I)){if(A=xI,U="onMouseLeave",b="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(A=NI,U="onPointerLeave",b="onPointerEnter",R="pointer"),k=w==null?v:rl(w),P=I==null?v:rl(I),v=new A(U,R+"leave",w,n,f),v.target=k,v.relatedTarget=P,U=null,bo(f)===d&&(A=new A(b,R+"enter",I,n,f),A.target=P,A.relatedTarget=k,U=A),k=U,w&&I)t:{for(A=w,b=I,R=0,P=A;P;P=Ua(P))R++;for(P=0,U=b;U;U=Ua(U))P++;for(;0<R-P;)A=Ua(A),R--;for(;0<P-R;)b=Ua(b),P--;for(;R--;){if(A===b||b!==null&&A===b.alternate)break t;A=Ua(A),b=Ua(b)}A=null}else A=null;w!==null&&WI(p,v,w,A,!1),I!==null&&k!==null&&WI(p,k,I,A,!0)}}e:{if(v=d?rl(d):window,w=v.nodeName&&v.nodeName.toLowerCase(),w==="select"||w==="input"&&v.type==="file")var B=ZV;else if(VI(v))if(hP)B=r2;else{B=t2;var G=e2}else(w=v.nodeName)&&w.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(B=n2);if(B&&(B=B(t,d))){dP(p,B,n,f);break e}G&&G(t,v,d),t==="focusout"&&(G=v._wrapperState)&&G.controlled&&v.type==="number"&&av(v,"number",v.value)}switch(G=d?rl(d):window,t){case"focusin":(VI(G)||G.contentEditable==="true")&&(tl=G,_v=d,Ac=null);break;case"focusout":Ac=_v=tl=null;break;case"mousedown":wv=!0;break;case"contextmenu":case"mouseup":case"dragend":wv=!1,BI(p,n,f);break;case"selectionchange":if(o2)break;case"keydown":case"keyup":BI(p,n,f)}var C;if(w0)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else el?uP(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(lP&&n.locale!=="ko"&&(el||T!=="onCompositionStart"?T==="onCompositionEnd"&&el&&(C=aP()):(cs=f,y0="value"in cs?cs.value:cs.textContent,el=!0)),G=ip(d,T),0<G.length&&(T=new DI(T,t,null,n,f),p.push({event:T,listeners:G}),C?T.data=C:(C=cP(n),C!==null&&(T.data=C)))),(C=KV?YV(t,n):QV(t,n))&&(d=ip(d,"onBeforeInput"),0<d.length&&(f=new DI("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=C))}IP(p,e)})}function Xc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ip(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=qc(t,n),s!=null&&r.unshift(Xc(t,s,i)),s=qc(t,e),s!=null&&r.push(Xc(t,s,i))),t=t.return}return r}function Ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function WI(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,i?(l=qc(n,s),l!=null&&o.unshift(Xc(n,l,a))):i||(l=qc(n,s),l!=null&&o.push(Xc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var c2=/\r\n?/g,d2=/\u0000|\uFFFD/g;function qI(t){return(typeof t=="string"?t:""+t).replace(c2,`
`).replace(d2,"")}function sf(t,e,n){if(e=qI(e),qI(t)!==e&&n)throw Error(J(425))}function sp(){}var Ev=null,Iv=null;function Sv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tv=typeof setTimeout=="function"?setTimeout:void 0,h2=typeof clearTimeout=="function"?clearTimeout:void 0,GI=typeof Promise=="function"?Promise:void 0,f2=typeof queueMicrotask=="function"?queueMicrotask:typeof GI<"u"?function(t){return GI.resolve(null).then(t).catch(p2)}:Tv;function p2(t){setTimeout(function(){throw t})}function ny(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Kc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Kc(e)}function vs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function HI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ru=Math.random().toString(36).slice(2),qr="__reactFiber$"+ru,Zc="__reactProps$"+ru,bi="__reactContainer$"+ru,Rv="__reactEvents$"+ru,m2="__reactListeners$"+ru,g2="__reactHandles$"+ru;function bo(t){var e=t[qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bi]||n[qr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=HI(t);t!==null;){if(n=t[qr])return n;t=HI(t)}return e}t=n,n=t.parentNode}return null}function Nd(t){return t=t[qr]||t[bi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function tm(t){return t[Zc]||null}var Pv=[],il=-1;function $s(t){return{current:t}}function tt(t){0>il||(t.current=Pv[il],Pv[il]=null,il--)}function Qe(t,e){il++,Pv[il]=t.current,t.current=e}var bs={},cn=$s(bs),Mn=$s(!1),Bo=bs;function Pl(t,e){var n=t.type.contextTypes;if(!n)return bs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Vn(t){return t=t.childContextTypes,t!=null}function op(){tt(Mn),tt(cn)}function KI(t,e,n){if(cn.current!==bs)throw Error(J(168));Qe(cn,e),Qe(Mn,n)}function TP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,eV(t)||"Unknown",i));return mt({},n,r)}function ap(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bs,Bo=cn.current,Qe(cn,t),Qe(Mn,Mn.current),!0}function YI(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=TP(t,e,Bo),r.__reactInternalMemoizedMergedChildContext=t,tt(Mn),tt(cn),Qe(cn,t)):tt(Mn),Qe(Mn,n)}var _i=null,nm=!1,ry=!1;function RP(t){_i===null?_i=[t]:_i.push(t)}function y2(t){nm=!0,RP(t)}function Ws(){if(!ry&&_i!==null){ry=!0;var t=0,e=ze;try{var n=_i;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}_i=null,nm=!1}catch(i){throw _i!==null&&(_i=_i.slice(t+1)),QR(f0,Ws),i}finally{ze=e,ry=!1}}return null}var sl=[],ol=0,lp=null,up=0,rr=[],ir=0,zo=null,wi=1,Ei="";function yo(t,e){sl[ol++]=up,sl[ol++]=lp,lp=t,up=e}function PP(t,e,n){rr[ir++]=wi,rr[ir++]=Ei,rr[ir++]=zo,zo=t;var r=wi;t=Ei;var i=32-br(r)-1;r&=~(1<<i),n+=1;var s=32-br(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wi=1<<32-br(e)+i|n<<i|r,Ei=s+t}else wi=1<<s|n<<i|r,Ei=t}function I0(t){t.return!==null&&(yo(t,1),PP(t,1,0))}function S0(t){for(;t===lp;)lp=sl[--ol],sl[ol]=null,up=sl[--ol],sl[ol]=null;for(;t===zo;)zo=rr[--ir],rr[ir]=null,Ei=rr[--ir],rr[ir]=null,wi=rr[--ir],rr[ir]=null}var qn=null,$n=null,st=!1,Ar=null;function AP(t,e){var n=sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function QI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qn=t,$n=vs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qn=t,$n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zo!==null?{id:wi,overflow:Ei}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qn=t,$n=null,!0):!1;default:return!1}}function Av(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bv(t){if(st){var e=$n;if(e){var n=e;if(!QI(t,e)){if(Av(t))throw Error(J(418));e=vs(n.nextSibling);var r=qn;e&&QI(t,e)?AP(r,n):(t.flags=t.flags&-4097|2,st=!1,qn=t)}}else{if(Av(t))throw Error(J(418));t.flags=t.flags&-4097|2,st=!1,qn=t}}}function JI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qn=t}function of(t){if(t!==qn)return!1;if(!st)return JI(t),st=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sv(t.type,t.memoizedProps)),e&&(e=$n)){if(Av(t))throw bP(),Error(J(418));for(;e;)AP(t,e),e=vs(e.nextSibling)}if(JI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$n=vs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$n=null}}else $n=qn?vs(t.stateNode.nextSibling):null;return!0}function bP(){for(var t=$n;t;)t=vs(t.nextSibling)}function Al(){$n=qn=null,st=!1}function T0(t){Ar===null?Ar=[t]:Ar.push(t)}var v2=Mi.ReactCurrentBatchConfig;function Yu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function af(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function XI(t){var e=t._init;return e(t._payload)}function kP(t){function e(b,R){if(t){var P=b.deletions;P===null?(b.deletions=[R],b.flags|=16):P.push(R)}}function n(b,R){if(!t)return null;for(;R!==null;)e(b,R),R=R.sibling;return null}function r(b,R){for(b=new Map;R!==null;)R.key!==null?b.set(R.key,R):b.set(R.index,R),R=R.sibling;return b}function i(b,R){return b=Is(b,R),b.index=0,b.sibling=null,b}function s(b,R,P){return b.index=P,t?(P=b.alternate,P!==null?(P=P.index,P<R?(b.flags|=2,R):P):(b.flags|=2,R)):(b.flags|=1048576,R)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,R,P,U){return R===null||R.tag!==6?(R=cy(P,b.mode,U),R.return=b,R):(R=i(R,P),R.return=b,R)}function l(b,R,P,U){var B=P.type;return B===Za?f(b,R,P.props.children,U,P.key):R!==null&&(R.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===is&&XI(B)===R.type)?(U=i(R,P.props),U.ref=Yu(b,R,P),U.return=b,U):(U=Of(P.type,P.key,P.props,null,b.mode,U),U.ref=Yu(b,R,P),U.return=b,U)}function d(b,R,P,U){return R===null||R.tag!==4||R.stateNode.containerInfo!==P.containerInfo||R.stateNode.implementation!==P.implementation?(R=dy(P,b.mode,U),R.return=b,R):(R=i(R,P.children||[]),R.return=b,R)}function f(b,R,P,U,B){return R===null||R.tag!==7?(R=Mo(P,b.mode,U,B),R.return=b,R):(R=i(R,P),R.return=b,R)}function p(b,R,P){if(typeof R=="string"&&R!==""||typeof R=="number")return R=cy(""+R,b.mode,P),R.return=b,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Yh:return P=Of(R.type,R.key,R.props,null,b.mode,P),P.ref=Yu(b,null,R),P.return=b,P;case Xa:return R=dy(R,b.mode,P),R.return=b,R;case is:var U=R._init;return p(b,U(R._payload),P)}if(dc(R)||Wu(R))return R=Mo(R,b.mode,P,null),R.return=b,R;af(b,R)}return null}function v(b,R,P,U){var B=R!==null?R.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return B!==null?null:a(b,R,""+P,U);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Yh:return P.key===B?l(b,R,P,U):null;case Xa:return P.key===B?d(b,R,P,U):null;case is:return B=P._init,v(b,R,B(P._payload),U)}if(dc(P)||Wu(P))return B!==null?null:f(b,R,P,U,null);af(b,P)}return null}function w(b,R,P,U,B){if(typeof U=="string"&&U!==""||typeof U=="number")return b=b.get(P)||null,a(R,b,""+U,B);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Yh:return b=b.get(U.key===null?P:U.key)||null,l(R,b,U,B);case Xa:return b=b.get(U.key===null?P:U.key)||null,d(R,b,U,B);case is:var G=U._init;return w(b,R,P,G(U._payload),B)}if(dc(U)||Wu(U))return b=b.get(P)||null,f(R,b,U,B,null);af(R,U)}return null}function I(b,R,P,U){for(var B=null,G=null,C=R,T=R=0,x=null;C!==null&&T<P.length;T++){C.index>T?(x=C,C=null):x=C.sibling;var D=v(b,C,P[T],U);if(D===null){C===null&&(C=x);break}t&&C&&D.alternate===null&&e(b,C),R=s(D,R,T),G===null?B=D:G.sibling=D,G=D,C=x}if(T===P.length)return n(b,C),st&&yo(b,T),B;if(C===null){for(;T<P.length;T++)C=p(b,P[T],U),C!==null&&(R=s(C,R,T),G===null?B=C:G.sibling=C,G=C);return st&&yo(b,T),B}for(C=r(b,C);T<P.length;T++)x=w(C,b,T,P[T],U),x!==null&&(t&&x.alternate!==null&&C.delete(x.key===null?T:x.key),R=s(x,R,T),G===null?B=x:G.sibling=x,G=x);return t&&C.forEach(function(V){return e(b,V)}),st&&yo(b,T),B}function A(b,R,P,U){var B=Wu(P);if(typeof B!="function")throw Error(J(150));if(P=B.call(P),P==null)throw Error(J(151));for(var G=B=null,C=R,T=R=0,x=null,D=P.next();C!==null&&!D.done;T++,D=P.next()){C.index>T?(x=C,C=null):x=C.sibling;var V=v(b,C,D.value,U);if(V===null){C===null&&(C=x);break}t&&C&&V.alternate===null&&e(b,C),R=s(V,R,T),G===null?B=V:G.sibling=V,G=V,C=x}if(D.done)return n(b,C),st&&yo(b,T),B;if(C===null){for(;!D.done;T++,D=P.next())D=p(b,D.value,U),D!==null&&(R=s(D,R,T),G===null?B=D:G.sibling=D,G=D);return st&&yo(b,T),B}for(C=r(b,C);!D.done;T++,D=P.next())D=w(C,b,T,D.value,U),D!==null&&(t&&D.alternate!==null&&C.delete(D.key===null?T:D.key),R=s(D,R,T),G===null?B=D:G.sibling=D,G=D);return t&&C.forEach(function(L){return e(b,L)}),st&&yo(b,T),B}function k(b,R,P,U){if(typeof P=="object"&&P!==null&&P.type===Za&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Yh:e:{for(var B=P.key,G=R;G!==null;){if(G.key===B){if(B=P.type,B===Za){if(G.tag===7){n(b,G.sibling),R=i(G,P.props.children),R.return=b,b=R;break e}}else if(G.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===is&&XI(B)===G.type){n(b,G.sibling),R=i(G,P.props),R.ref=Yu(b,G,P),R.return=b,b=R;break e}n(b,G);break}else e(b,G);G=G.sibling}P.type===Za?(R=Mo(P.props.children,b.mode,U,P.key),R.return=b,b=R):(U=Of(P.type,P.key,P.props,null,b.mode,U),U.ref=Yu(b,R,P),U.return=b,b=U)}return o(b);case Xa:e:{for(G=P.key;R!==null;){if(R.key===G)if(R.tag===4&&R.stateNode.containerInfo===P.containerInfo&&R.stateNode.implementation===P.implementation){n(b,R.sibling),R=i(R,P.children||[]),R.return=b,b=R;break e}else{n(b,R);break}else e(b,R);R=R.sibling}R=dy(P,b.mode,U),R.return=b,b=R}return o(b);case is:return G=P._init,k(b,R,G(P._payload),U)}if(dc(P))return I(b,R,P,U);if(Wu(P))return A(b,R,P,U);af(b,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,R!==null&&R.tag===6?(n(b,R.sibling),R=i(R,P),R.return=b,b=R):(n(b,R),R=cy(P,b.mode,U),R.return=b,b=R),o(b)):n(b,R)}return k}var bl=kP(!0),CP=kP(!1),cp=$s(null),dp=null,al=null,R0=null;function P0(){R0=al=dp=null}function A0(t){var e=cp.current;tt(cp),t._currentValue=e}function kv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yl(t,e){dp=t,R0=al=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xn=!0),t.firstContext=null)}function cr(t){var e=t._currentValue;if(R0!==t)if(t={context:t,memoizedValue:e,next:null},al===null){if(dp===null)throw Error(J(308));al=t,dp.dependencies={lanes:0,firstContext:t}}else al=al.next=t;return e}var ko=null;function b0(t){ko===null?ko=[t]:ko.push(t)}function xP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,b0(e)):(n.next=i.next,i.next=n),e.interleaved=n,ki(t,r)}function ki(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ss=!1;function k0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _s(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ki(t,n)}return i=r.interleaved,i===null?(e.next=e,b0(r)):(e.next=i.next,i.next=e),r.interleaved=e,ki(t,n)}function bf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,p0(t,n)}}function ZI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hp(t,e,n,r){var i=t.updateQueue;ss=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?s=d:o.next=d,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=d:a.next=d,f.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,f=d=l=null,a=s;do{var v=a.lane,w=a.eventTime;if((r&v)===v){f!==null&&(f=f.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,A=a;switch(v=e,w=n,A.tag){case 1:if(I=A.payload,typeof I=="function"){p=I.call(w,p,v);break e}p=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=A.payload,v=typeof I=="function"?I.call(w,p,v):I,v==null)break e;p=mt({},p,v);break e;case 2:ss=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[a]:v.push(a))}else w={eventTime:w,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(d=f=w,l=p):f=f.next=w,o|=v;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;v=a,a=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(f===null&&(l=p),i.baseState=l,i.firstBaseUpdate=d,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Wo|=o,t.lanes=o,t.memoizedState=p}}function eS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var Od={},ei=$s(Od),ed=$s(Od),td=$s(Od);function Co(t){if(t===Od)throw Error(J(174));return t}function C0(t,e){switch(Qe(td,e),Qe(ed,t),Qe(ei,Od),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=uv(e,t)}tt(ei),Qe(ei,e)}function kl(){tt(ei),tt(ed),tt(td)}function NP(t){Co(td.current);var e=Co(ei.current),n=uv(e,t.type);e!==n&&(Qe(ed,t),Qe(ei,n))}function x0(t){ed.current===t&&(tt(ei),tt(ed))}var ht=$s(0);function fp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var iy=[];function D0(){for(var t=0;t<iy.length;t++)iy[t]._workInProgressVersionPrimary=null;iy.length=0}var kf=Mi.ReactCurrentDispatcher,sy=Mi.ReactCurrentBatchConfig,$o=0,ft=null,Ot=null,$t=null,pp=!1,bc=!1,nd=0,_2=0;function on(){throw Error(J(321))}function N0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dr(t[n],e[n]))return!1;return!0}function O0(t,e,n,r,i,s){if($o=s,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kf.current=t===null||t.memoizedState===null?S2:T2,t=n(r,i),bc){s=0;do{if(bc=!1,nd=0,25<=s)throw Error(J(301));s+=1,$t=Ot=null,e.updateQueue=null,kf.current=R2,t=n(r,i)}while(bc)}if(kf.current=mp,e=Ot!==null&&Ot.next!==null,$o=0,$t=Ot=ft=null,pp=!1,e)throw Error(J(300));return t}function M0(){var t=nd!==0;return nd=0,t}function Wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?ft.memoizedState=$t=t:$t=$t.next=t,$t}function dr(){if(Ot===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=$t===null?ft.memoizedState:$t.next;if(e!==null)$t=e,Ot=t;else{if(t===null)throw Error(J(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},$t===null?ft.memoizedState=$t=t:$t=$t.next=t}return $t}function rd(t,e){return typeof e=="function"?e(t):e}function oy(t){var e=dr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Ot,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,d=s;do{var f=d.lane;if(($o&f)===f)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,ft.lanes|=f,Wo|=f}d=d.next}while(d!==null&&d!==s);l===null?o=r:l.next=a,Dr(r,e.memoizedState)||(xn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ft.lanes|=s,Wo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ay(t){var e=dr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Dr(s,e.memoizedState)||(xn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function OP(){}function MP(t,e){var n=ft,r=dr(),i=e(),s=!Dr(r.memoizedState,i);if(s&&(r.memoizedState=i,xn=!0),r=r.queue,V0(FP.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||$t!==null&&$t.memoizedState.tag&1){if(n.flags|=2048,id(9,LP.bind(null,n,r,i,e),void 0,null),qt===null)throw Error(J(349));$o&30||VP(n,e,i)}return i}function VP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LP(t,e,n,r){e.value=n,e.getSnapshot=r,UP(e)&&jP(t)}function FP(t,e,n){return n(function(){UP(e)&&jP(t)})}function UP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dr(t,n)}catch{return!0}}function jP(t){var e=ki(t,1);e!==null&&kr(e,t,1,-1)}function tS(t){var e=Wr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rd,lastRenderedState:t},e.queue=t,t=t.dispatch=I2.bind(null,ft,t),[e.memoizedState,t]}function id(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function BP(){return dr().memoizedState}function Cf(t,e,n,r){var i=Wr();ft.flags|=t,i.memoizedState=id(1|e,n,void 0,r===void 0?null:r)}function rm(t,e,n,r){var i=dr();r=r===void 0?null:r;var s=void 0;if(Ot!==null){var o=Ot.memoizedState;if(s=o.destroy,r!==null&&N0(r,o.deps)){i.memoizedState=id(e,n,s,r);return}}ft.flags|=t,i.memoizedState=id(1|e,n,s,r)}function nS(t,e){return Cf(8390656,8,t,e)}function V0(t,e){return rm(2048,8,t,e)}function zP(t,e){return rm(4,2,t,e)}function $P(t,e){return rm(4,4,t,e)}function WP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qP(t,e,n){return n=n!=null?n.concat([t]):null,rm(4,4,WP.bind(null,e,t),n)}function L0(){}function GP(t,e){var n=dr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&N0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HP(t,e){var n=dr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&N0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function KP(t,e,n){return $o&21?(Dr(n,e)||(n=ZR(),ft.lanes|=n,Wo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xn=!0),t.memoizedState=n)}function w2(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=sy.transition;sy.transition={};try{t(!1),e()}finally{ze=n,sy.transition=r}}function YP(){return dr().memoizedState}function E2(t,e,n){var r=Es(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QP(t))JP(e,n);else if(n=xP(t,e,n,r),n!==null){var i=_n();kr(n,t,r,i),XP(n,e,r)}}function I2(t,e,n){var r=Es(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QP(t))JP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Dr(a,o)){var l=e.interleaved;l===null?(i.next=i,b0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=xP(t,e,i,r),n!==null&&(i=_n(),kr(n,t,r,i),XP(n,e,r))}}function QP(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function JP(t,e){bc=pp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,p0(t,n)}}var mp={readContext:cr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},S2={readContext:cr,useCallback:function(t,e){return Wr().memoizedState=[t,e===void 0?null:e],t},useContext:cr,useEffect:nS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cf(4194308,4,WP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cf(4,2,t,e)},useMemo:function(t,e){var n=Wr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=E2.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=Wr();return t={current:t},e.memoizedState=t},useState:tS,useDebugValue:L0,useDeferredValue:function(t){return Wr().memoizedState=t},useTransition:function(){var t=tS(!1),e=t[0];return t=w2.bind(null,t[1]),Wr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=Wr();if(st){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),qt===null)throw Error(J(349));$o&30||VP(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,nS(FP.bind(null,r,s,t),[t]),r.flags|=2048,id(9,LP.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Wr(),e=qt.identifierPrefix;if(st){var n=Ei,r=wi;n=(r&~(1<<32-br(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},T2={readContext:cr,useCallback:GP,useContext:cr,useEffect:V0,useImperativeHandle:qP,useInsertionEffect:zP,useLayoutEffect:$P,useMemo:HP,useReducer:oy,useRef:BP,useState:function(){return oy(rd)},useDebugValue:L0,useDeferredValue:function(t){var e=dr();return KP(e,Ot.memoizedState,t)},useTransition:function(){var t=oy(rd)[0],e=dr().memoizedState;return[t,e]},useMutableSource:OP,useSyncExternalStore:MP,useId:YP,unstable_isNewReconciler:!1},R2={readContext:cr,useCallback:GP,useContext:cr,useEffect:V0,useImperativeHandle:qP,useInsertionEffect:zP,useLayoutEffect:$P,useMemo:HP,useReducer:ay,useRef:BP,useState:function(){return ay(rd)},useDebugValue:L0,useDeferredValue:function(t){var e=dr();return Ot===null?e.memoizedState=t:KP(e,Ot.memoizedState,t)},useTransition:function(){var t=ay(rd)[0],e=dr().memoizedState;return[t,e]},useMutableSource:OP,useSyncExternalStore:MP,useId:YP,unstable_isNewReconciler:!1};function Rr(t,e){if(t&&t.defaultProps){e=mt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var im={isMounted:function(t){return(t=t._reactInternals)?oa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_n(),i=Es(t),s=Ri(r,i);s.payload=e,n!=null&&(s.callback=n),e=_s(t,s,i),e!==null&&(kr(e,t,i,r),bf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_n(),i=Es(t),s=Ri(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=_s(t,s,i),e!==null&&(kr(e,t,i,r),bf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_n(),r=Es(t),i=Ri(n,r);i.tag=2,e!=null&&(i.callback=e),e=_s(t,i,r),e!==null&&(kr(e,t,r,n),bf(e,t,r))}};function rS(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Qc(n,r)||!Qc(i,s):!0}function ZP(t,e,n){var r=!1,i=bs,s=e.contextType;return typeof s=="object"&&s!==null?s=cr(s):(i=Vn(e)?Bo:cn.current,r=e.contextTypes,s=(r=r!=null)?Pl(t,i):bs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=im,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function iS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&im.enqueueReplaceState(e,e.state,null)}function xv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},k0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=cr(s):(s=Vn(e)?Bo:cn.current,i.context=Pl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Cv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&im.enqueueReplaceState(i,i.state,null),hp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Cl(t,e){try{var n="",r=e;do n+=ZM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ly(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Dv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var P2=typeof WeakMap=="function"?WeakMap:Map;function eA(t,e,n){n=Ri(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yp||(yp=!0,zv=r),Dv(t,e)},n}function tA(t,e,n){n=Ri(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Dv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Dv(t,e),typeof r!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function sS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new P2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=j2.bind(null,t,e,n),e.then(t,t))}function oS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function aS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ri(-1,1),e.tag=2,_s(n,e,1))),n.lanes|=1),t)}var A2=Mi.ReactCurrentOwner,xn=!1;function gn(t,e,n,r){e.child=t===null?CP(e,null,n,r):bl(e,t.child,n,r)}function lS(t,e,n,r,i){n=n.render;var s=e.ref;return yl(e,i),r=O0(t,e,n,r,s,i),n=M0(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ci(t,e,i)):(st&&n&&I0(e),e.flags|=1,gn(t,e,r,i),e.child)}function uS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!q0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,nA(t,e,s,r,i)):(t=Of(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Qc,n(o,r)&&t.ref===e.ref)return Ci(t,e,i)}return e.flags|=1,t=Is(s,r),t.ref=e.ref,t.return=e,e.child=t}function nA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Qc(s,r)&&t.ref===e.ref)if(xn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(xn=!0);else return e.lanes=t.lanes,Ci(t,e,i)}return Nv(t,e,n,r,i)}function rA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(ul,Bn),Bn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(ul,Bn),Bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Qe(ul,Bn),Bn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Qe(ul,Bn),Bn|=r;return gn(t,e,i,n),e.child}function iA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Nv(t,e,n,r,i){var s=Vn(n)?Bo:cn.current;return s=Pl(e,s),yl(e,i),n=O0(t,e,n,r,s,i),r=M0(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ci(t,e,i)):(st&&r&&I0(e),e.flags|=1,gn(t,e,n,i),e.child)}function cS(t,e,n,r,i){if(Vn(n)){var s=!0;ap(e)}else s=!1;if(yl(e,i),e.stateNode===null)xf(t,e),ZP(e,n,r),xv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=cr(d):(d=Vn(n)?Bo:cn.current,d=Pl(e,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&iS(e,o,r,d),ss=!1;var v=e.memoizedState;o.state=v,hp(e,r,o,i),l=e.memoizedState,a!==r||v!==l||Mn.current||ss?(typeof f=="function"&&(Cv(e,n,f,r),l=e.memoizedState),(a=ss||rS(e,n,a,r,v,l,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,DP(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Rr(e.type,a),o.props=d,p=e.pendingProps,v=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=cr(l):(l=Vn(n)?Bo:cn.current,l=Pl(e,l));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||v!==l)&&iS(e,o,r,l),ss=!1,v=e.memoizedState,o.state=v,hp(e,r,o,i);var I=e.memoizedState;a!==p||v!==I||Mn.current||ss?(typeof w=="function"&&(Cv(e,n,w,r),I=e.memoizedState),(d=ss||rS(e,n,d,r,v,I,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return Ov(t,e,n,r,s,i)}function Ov(t,e,n,r,i,s){iA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&YI(e,n,!1),Ci(t,e,s);r=e.stateNode,A2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bl(e,t.child,null,s),e.child=bl(e,null,a,s)):gn(t,e,a,s),e.memoizedState=r.state,i&&YI(e,n,!0),e.child}function sA(t){var e=t.stateNode;e.pendingContext?KI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&KI(t,e.context,!1),C0(t,e.containerInfo)}function dS(t,e,n,r,i){return Al(),T0(i),e.flags|=256,gn(t,e,n,r),e.child}var Mv={dehydrated:null,treeContext:null,retryLane:0};function Vv(t){return{baseLanes:t,cachePool:null,transitions:null}}function oA(t,e,n){var r=e.pendingProps,i=ht.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qe(ht,i&1),t===null)return bv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=am(o,r,0,null),t=Mo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Vv(n),e.memoizedState=Mv,t):F0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return b2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Is(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Is(a,s):(s=Mo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Vv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Mv,r}return s=t.child,t=s.sibling,r=Is(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function F0(t,e){return e=am({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lf(t,e,n,r){return r!==null&&T0(r),bl(e,t.child,null,n),t=F0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function b2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ly(Error(J(422))),lf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=am({mode:"visible",children:r.children},i,0,null),s=Mo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&bl(e,t.child,null,o),e.child.memoizedState=Vv(o),e.memoizedState=Mv,s);if(!(e.mode&1))return lf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(J(419)),r=ly(s,r,void 0),lf(t,e,o,r)}if(a=(o&t.childLanes)!==0,xn||a){if(r=qt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ki(t,i),kr(r,t,i,-1))}return W0(),r=ly(Error(J(421))),lf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=B2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,$n=vs(i.nextSibling),qn=e,st=!0,Ar=null,t!==null&&(rr[ir++]=wi,rr[ir++]=Ei,rr[ir++]=zo,wi=t.id,Ei=t.overflow,zo=e),e=F0(e,r.children),e.flags|=4096,e)}function hS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),kv(t.return,e,n)}function uy(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function aA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(gn(t,e,r.children,n),r=ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hS(t,n,e);else if(t.tag===19)hS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qe(ht,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),uy(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}uy(e,!0,n,null,s);break;case"together":uy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ci(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Is(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Is(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function k2(t,e,n){switch(e.tag){case 3:sA(e),Al();break;case 5:NP(e);break;case 1:Vn(e.type)&&ap(e);break;case 4:C0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qe(cp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(ht,ht.current&1),e.flags|=128,null):n&e.child.childLanes?oA(t,e,n):(Qe(ht,ht.current&1),t=Ci(t,e,n),t!==null?t.sibling:null);Qe(ht,ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return aA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(ht,ht.current),r)break;return null;case 22:case 23:return e.lanes=0,rA(t,e,n)}return Ci(t,e,n)}var lA,Lv,uA,cA;lA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lv=function(){};uA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Co(ei.current);var s=null;switch(n){case"input":i=sv(t,i),r=sv(t,r),s=[];break;case"select":i=mt({},i,{value:void 0}),r=mt({},r,{value:void 0}),s=[];break;case"textarea":i=lv(t,i),r=lv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sp)}cv(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&($c.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(a=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&($c.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Ze("scroll",t),s||a===l||(s=[])):(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};cA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qu(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function C2(t,e,n){var r=e.pendingProps;switch(S0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return Vn(e.type)&&op(),an(e),null;case 3:return r=e.stateNode,kl(),tt(Mn),tt(cn),D0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(of(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ar!==null&&(qv(Ar),Ar=null))),Lv(t,e),an(e),null;case 5:x0(e);var i=Co(td.current);if(n=e.type,t!==null&&e.stateNode!=null)uA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return an(e),null}if(t=Co(ei.current),of(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qr]=e,r[Zc]=s,t=(e.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(i=0;i<fc.length;i++)Ze(fc[i],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":EI(r,s),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ze("invalid",r);break;case"textarea":SI(r,s),Ze("invalid",r)}cv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&sf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&sf(r.textContent,a,t),i=["children",""+a]):$c.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ze("scroll",r)}switch(n){case"input":Qh(r),II(r,s,!0);break;case"textarea":Qh(r),TI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=sp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=FR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qr]=e,t[Zc]=r,lA(t,e,!1,!1),e.stateNode=t;e:{switch(o=dv(n,r),n){case"dialog":Ze("cancel",t),Ze("close",t),i=r;break;case"iframe":case"object":case"embed":Ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<fc.length;i++)Ze(fc[i],t);i=r;break;case"source":Ze("error",t),i=r;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),i=r;break;case"details":Ze("toggle",t),i=r;break;case"input":EI(t,r),i=sv(t,r),Ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mt({},r,{value:void 0}),Ze("invalid",t);break;case"textarea":SI(t,r),i=lv(t,r),Ze("invalid",t);break;default:i=r}cv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?BR(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&UR(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wc(t,l):typeof l=="number"&&Wc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&($c.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ze("scroll",t):l!=null&&l0(t,s,l,o))}switch(n){case"input":Qh(t),II(t,r,!1);break;case"textarea":Qh(t),TI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+As(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?fl(t,!!r.multiple,s,!1):r.defaultValue!=null&&fl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)cA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Co(td.current),Co(ei.current),of(e)){if(r=e.stateNode,n=e.memoizedProps,r[qr]=e,(s=r.nodeValue!==n)&&(t=qn,t!==null))switch(t.tag){case 3:sf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qr]=e,e.stateNode=r}return an(e),null;case 13:if(tt(ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&$n!==null&&e.mode&1&&!(e.flags&128))bP(),Al(),e.flags|=98560,s=!1;else if(s=of(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[qr]=e}else Al(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),s=!1}else Ar!==null&&(qv(Ar),Ar=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?Mt===0&&(Mt=3):W0())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return kl(),Lv(t,e),t===null&&Jc(e.stateNode.containerInfo),an(e),null;case 10:return A0(e.type._context),an(e),null;case 17:return Vn(e.type)&&op(),an(e),null;case 19:if(tt(ht),s=e.memoizedState,s===null)return an(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Qu(s,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=fp(t),o!==null){for(e.flags|=128,Qu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qe(ht,ht.current&1|2),e.child}t=t.sibling}s.tail!==null&&Tt()>xl&&(e.flags|=128,r=!0,Qu(s,!1),e.lanes=4194304)}else{if(!r)if(t=fp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!st)return an(e),null}else 2*Tt()-s.renderingStartTime>xl&&n!==1073741824&&(e.flags|=128,r=!0,Qu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Tt(),e.sibling=null,n=ht.current,Qe(ht,r?n&1|2:n&1),e):(an(e),null);case 22:case 23:return $0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bn&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function x2(t,e){switch(S0(e),e.tag){case 1:return Vn(e.type)&&op(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return kl(),tt(Mn),tt(cn),D0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return x0(e),null;case 13:if(tt(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Al()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(ht),null;case 4:return kl(),null;case 10:return A0(e.type._context),null;case 22:case 23:return $0(),null;case 24:return null;default:return null}}var uf=!1,un=!1,D2=typeof WeakSet=="function"?WeakSet:Set,ae=null;function ll(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function Fv(t,e,n){try{n()}catch(r){yt(t,e,r)}}var fS=!1;function N2(t,e){if(Ev=np,t=mP(),E0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,f=0,p=t,v=null;t:for(;;){for(var w;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(w=p.firstChild)!==null;)v=p,p=w;for(;;){if(p===t)break t;if(v===n&&++d===i&&(a=o),v===s&&++f===r&&(l=o),(w=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Iv={focusedElem:t,selectionRange:n},np=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var A=I.memoizedProps,k=I.memoizedState,b=e.stateNode,R=b.getSnapshotBeforeUpdate(e.elementType===e.type?A:Rr(e.type,A),k);b.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(U){yt(e,e.return,U)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return I=fS,fS=!1,I}function kc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Fv(e,n,s)}i=i.next}while(i!==r)}}function sm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Uv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dA(t){var e=t.alternate;e!==null&&(t.alternate=null,dA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qr],delete e[Zc],delete e[Rv],delete e[m2],delete e[g2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hA(t){return t.tag===5||t.tag===3||t.tag===4}function pS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sp));else if(r!==4&&(t=t.child,t!==null))for(jv(t,e,n),t=t.sibling;t!==null;)jv(t,e,n),t=t.sibling}function Bv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Bv(t,e,n),t=t.sibling;t!==null;)Bv(t,e,n),t=t.sibling}var Zt=null,Pr=!1;function Qi(t,e,n){for(n=n.child;n!==null;)fA(t,e,n),n=n.sibling}function fA(t,e,n){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(Jp,n)}catch{}switch(n.tag){case 5:un||ll(n,e);case 6:var r=Zt,i=Pr;Zt=null,Qi(t,e,n),Zt=r,Pr=i,Zt!==null&&(Pr?(t=Zt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Zt.removeChild(n.stateNode));break;case 18:Zt!==null&&(Pr?(t=Zt,n=n.stateNode,t.nodeType===8?ny(t.parentNode,n):t.nodeType===1&&ny(t,n),Kc(t)):ny(Zt,n.stateNode));break;case 4:r=Zt,i=Pr,Zt=n.stateNode.containerInfo,Pr=!0,Qi(t,e,n),Zt=r,Pr=i;break;case 0:case 11:case 14:case 15:if(!un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Fv(n,e,o),i=i.next}while(i!==r)}Qi(t,e,n);break;case 1:if(!un&&(ll(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yt(n,e,a)}Qi(t,e,n);break;case 21:Qi(t,e,n);break;case 22:n.mode&1?(un=(r=un)||n.memoizedState!==null,Qi(t,e,n),un=r):Qi(t,e,n);break;default:Qi(t,e,n)}}function mS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new D2),e.forEach(function(r){var i=z2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Sr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Zt=a.stateNode,Pr=!1;break e;case 3:Zt=a.stateNode.containerInfo,Pr=!0;break e;case 4:Zt=a.stateNode.containerInfo,Pr=!0;break e}a=a.return}if(Zt===null)throw Error(J(160));fA(s,o,i),Zt=null,Pr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(d){yt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pA(e,t),e=e.sibling}function pA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sr(e,t),$r(t),r&4){try{kc(3,t,t.return),sm(3,t)}catch(A){yt(t,t.return,A)}try{kc(5,t,t.return)}catch(A){yt(t,t.return,A)}}break;case 1:Sr(e,t),$r(t),r&512&&n!==null&&ll(n,n.return);break;case 5:if(Sr(e,t),$r(t),r&512&&n!==null&&ll(n,n.return),t.flags&32){var i=t.stateNode;try{Wc(i,"")}catch(A){yt(t,t.return,A)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&VR(i,s),dv(a,o);var d=dv(a,s);for(o=0;o<l.length;o+=2){var f=l[o],p=l[o+1];f==="style"?BR(i,p):f==="dangerouslySetInnerHTML"?UR(i,p):f==="children"?Wc(i,p):l0(i,f,p,d)}switch(a){case"input":ov(i,s);break;case"textarea":LR(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?fl(i,!!s.multiple,w,!1):v!==!!s.multiple&&(s.defaultValue!=null?fl(i,!!s.multiple,s.defaultValue,!0):fl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zc]=s}catch(A){yt(t,t.return,A)}}break;case 6:if(Sr(e,t),$r(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(A){yt(t,t.return,A)}}break;case 3:if(Sr(e,t),$r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kc(e.containerInfo)}catch(A){yt(t,t.return,A)}break;case 4:Sr(e,t),$r(t);break;case 13:Sr(e,t),$r(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(B0=Tt())),r&4&&mS(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(un=(d=un)||f,Sr(e,t),un=d):Sr(e,t),$r(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(ae=t,f=t.child;f!==null;){for(p=ae=f;ae!==null;){switch(v=ae,w=v.child,v.tag){case 0:case 11:case 14:case 15:kc(4,v,v.return);break;case 1:ll(v,v.return);var I=v.stateNode;if(typeof I.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(A){yt(r,n,A)}}break;case 5:ll(v,v.return);break;case 22:if(v.memoizedState!==null){yS(p);continue}}w!==null?(w.return=v,ae=w):yS(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jR("display",o))}catch(A){yt(t,t.return,A)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(A){yt(t,t.return,A)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Sr(e,t),$r(t),r&4&&mS(t);break;case 21:break;default:Sr(e,t),$r(t)}}function $r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hA(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wc(i,""),r.flags&=-33);var s=pS(t);Bv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=pS(t);jv(t,a,o);break;default:throw Error(J(161))}}catch(l){yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function O2(t,e,n){ae=t,mA(t)}function mA(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var i=ae,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||uf;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||un;a=uf;var d=un;if(uf=o,(un=l)&&!d)for(ae=i;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?vS(i):l!==null?(l.return=o,ae=l):vS(i);for(;s!==null;)ae=s,mA(s),s=s.sibling;ae=i,uf=a,un=d}gS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ae=s):gS(t)}}function gS(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||sm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!un)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&eS(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}eS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Kc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}un||e.flags&512&&Uv(e)}catch(v){yt(e,e.return,v)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function yS(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function vS(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sm(4,e)}catch(l){yt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yt(e,i,l)}}var s=e.return;try{Uv(e)}catch(l){yt(e,s,l)}break;case 5:var o=e.return;try{Uv(e)}catch(l){yt(e,o,l)}}}catch(l){yt(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var M2=Math.ceil,gp=Mi.ReactCurrentDispatcher,U0=Mi.ReactCurrentOwner,ar=Mi.ReactCurrentBatchConfig,Oe=0,qt=null,kt=null,nn=0,Bn=0,ul=$s(0),Mt=0,sd=null,Wo=0,om=0,j0=0,Cc=null,Cn=null,B0=0,xl=1/0,vi=null,yp=!1,zv=null,ws=null,cf=!1,ds=null,vp=0,xc=0,$v=null,Df=-1,Nf=0;function _n(){return Oe&6?Tt():Df!==-1?Df:Df=Tt()}function Es(t){return t.mode&1?Oe&2&&nn!==0?nn&-nn:v2.transition!==null?(Nf===0&&(Nf=ZR()),Nf):(t=ze,t!==0||(t=window.event,t=t===void 0?16:oP(t.type)),t):1}function kr(t,e,n,r){if(50<xc)throw xc=0,$v=null,Error(J(185));xd(t,n,r),(!(Oe&2)||t!==qt)&&(t===qt&&(!(Oe&2)&&(om|=n),Mt===4&&as(t,nn)),Ln(t,r),n===1&&Oe===0&&!(e.mode&1)&&(xl=Tt()+500,nm&&Ws()))}function Ln(t,e){var n=t.callbackNode;vV(t,e);var r=tp(t,t===qt?nn:0);if(r===0)n!==null&&AI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&AI(n),e===1)t.tag===0?y2(_S.bind(null,t)):RP(_S.bind(null,t)),f2(function(){!(Oe&6)&&Ws()}),n=null;else{switch(eP(r)){case 1:n=f0;break;case 4:n=JR;break;case 16:n=ep;break;case 536870912:n=XR;break;default:n=ep}n=SA(n,gA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gA(t,e){if(Df=-1,Nf=0,Oe&6)throw Error(J(327));var n=t.callbackNode;if(vl()&&t.callbackNode!==n)return null;var r=tp(t,t===qt?nn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_p(t,r);else{e=r;var i=Oe;Oe|=2;var s=vA();(qt!==t||nn!==e)&&(vi=null,xl=Tt()+500,Oo(t,e));do try{F2();break}catch(a){yA(t,a)}while(!0);P0(),gp.current=s,Oe=i,kt!==null?e=0:(qt=null,nn=0,e=Mt)}if(e!==0){if(e===2&&(i=gv(t),i!==0&&(r=i,e=Wv(t,i))),e===1)throw n=sd,Oo(t,0),as(t,r),Ln(t,Tt()),n;if(e===6)as(t,r);else{if(i=t.current.alternate,!(r&30)&&!V2(i)&&(e=_p(t,r),e===2&&(s=gv(t),s!==0&&(r=s,e=Wv(t,s))),e===1))throw n=sd,Oo(t,0),as(t,r),Ln(t,Tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:vo(t,Cn,vi);break;case 3:if(as(t,r),(r&130023424)===r&&(e=B0+500-Tt(),10<e)){if(tp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Tv(vo.bind(null,t,Cn,vi),e);break}vo(t,Cn,vi);break;case 4:if(as(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-br(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*M2(r/1960))-r,10<r){t.timeoutHandle=Tv(vo.bind(null,t,Cn,vi),r);break}vo(t,Cn,vi);break;case 5:vo(t,Cn,vi);break;default:throw Error(J(329))}}}return Ln(t,Tt()),t.callbackNode===n?gA.bind(null,t):null}function Wv(t,e){var n=Cc;return t.current.memoizedState.isDehydrated&&(Oo(t,e).flags|=256),t=_p(t,e),t!==2&&(e=Cn,Cn=n,e!==null&&qv(e)),t}function qv(t){Cn===null?Cn=t:Cn.push.apply(Cn,t)}function V2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Dr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function as(t,e){for(e&=~j0,e&=~om,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-br(e),r=1<<n;t[n]=-1,e&=~r}}function _S(t){if(Oe&6)throw Error(J(327));vl();var e=tp(t,0);if(!(e&1))return Ln(t,Tt()),null;var n=_p(t,e);if(t.tag!==0&&n===2){var r=gv(t);r!==0&&(e=r,n=Wv(t,r))}if(n===1)throw n=sd,Oo(t,0),as(t,e),Ln(t,Tt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vo(t,Cn,vi),Ln(t,Tt()),null}function z0(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(xl=Tt()+500,nm&&Ws())}}function qo(t){ds!==null&&ds.tag===0&&!(Oe&6)&&vl();var e=Oe;Oe|=1;var n=ar.transition,r=ze;try{if(ar.transition=null,ze=1,t)return t()}finally{ze=r,ar.transition=n,Oe=e,!(Oe&6)&&Ws()}}function $0(){Bn=ul.current,tt(ul)}function Oo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,h2(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(S0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&op();break;case 3:kl(),tt(Mn),tt(cn),D0();break;case 5:x0(r);break;case 4:kl();break;case 13:tt(ht);break;case 19:tt(ht);break;case 10:A0(r.type._context);break;case 22:case 23:$0()}n=n.return}if(qt=t,kt=t=Is(t.current,null),nn=Bn=e,Mt=0,sd=null,j0=om=Wo=0,Cn=Cc=null,ko!==null){for(e=0;e<ko.length;e++)if(n=ko[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ko=null}return t}function yA(t,e){do{var n=kt;try{if(P0(),kf.current=mp,pp){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pp=!1}if($o=0,$t=Ot=ft=null,bc=!1,nd=0,U0.current=null,n===null||n.return===null){Mt=1,sd=e,kt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=nn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=oS(o);if(w!==null){w.flags&=-257,aS(w,o,a,s,e),w.mode&1&&sS(s,d,e),e=w,l=d;var I=e.updateQueue;if(I===null){var A=new Set;A.add(l),e.updateQueue=A}else I.add(l);break e}else{if(!(e&1)){sS(s,d,e),W0();break e}l=Error(J(426))}}else if(st&&a.mode&1){var k=oS(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),aS(k,o,a,s,e),T0(Cl(l,a));break e}}s=l=Cl(l,a),Mt!==4&&(Mt=2),Cc===null?Cc=[s]:Cc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=eA(s,l,e);ZI(s,b);break e;case 1:a=l;var R=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof R.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(ws===null||!ws.has(P)))){s.flags|=65536,e&=-e,s.lanes|=e;var U=tA(s,a,e);ZI(s,U);break e}}s=s.return}while(s!==null)}wA(n)}catch(B){e=B,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function vA(){var t=gp.current;return gp.current=mp,t===null?mp:t}function W0(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),qt===null||!(Wo&268435455)&&!(om&268435455)||as(qt,nn)}function _p(t,e){var n=Oe;Oe|=2;var r=vA();(qt!==t||nn!==e)&&(vi=null,Oo(t,e));do try{L2();break}catch(i){yA(t,i)}while(!0);if(P0(),Oe=n,gp.current=r,kt!==null)throw Error(J(261));return qt=null,nn=0,Mt}function L2(){for(;kt!==null;)_A(kt)}function F2(){for(;kt!==null&&!uV();)_A(kt)}function _A(t){var e=IA(t.alternate,t,Bn);t.memoizedProps=t.pendingProps,e===null?wA(t):kt=e,U0.current=null}function wA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=x2(n,e),n!==null){n.flags&=32767,kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,kt=null;return}}else if(n=C2(n,e,Bn),n!==null){kt=n;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);Mt===0&&(Mt=5)}function vo(t,e,n){var r=ze,i=ar.transition;try{ar.transition=null,ze=1,U2(t,e,n,r)}finally{ar.transition=i,ze=r}return null}function U2(t,e,n,r){do vl();while(ds!==null);if(Oe&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(_V(t,s),t===qt&&(kt=qt=null,nn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cf||(cf=!0,SA(ep,function(){return vl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ar.transition,ar.transition=null;var o=ze;ze=1;var a=Oe;Oe|=4,U0.current=null,N2(t,n),pA(n,t),s2(Iv),np=!!Ev,Iv=Ev=null,t.current=n,O2(n),cV(),Oe=a,ze=o,ar.transition=s}else t.current=n;if(cf&&(cf=!1,ds=t,vp=i),s=t.pendingLanes,s===0&&(ws=null),fV(n.stateNode),Ln(t,Tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(yp)throw yp=!1,t=zv,zv=null,t;return vp&1&&t.tag!==0&&vl(),s=t.pendingLanes,s&1?t===$v?xc++:(xc=0,$v=t):xc=0,Ws(),null}function vl(){if(ds!==null){var t=eP(vp),e=ar.transition,n=ze;try{if(ar.transition=null,ze=16>t?16:t,ds===null)var r=!1;else{if(t=ds,ds=null,vp=0,Oe&6)throw Error(J(331));var i=Oe;for(Oe|=4,ae=t.current;ae!==null;){var s=ae,o=s.child;if(ae.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(ae=d;ae!==null;){var f=ae;switch(f.tag){case 0:case 11:case 15:kc(8,f,s)}var p=f.child;if(p!==null)p.return=f,ae=p;else for(;ae!==null;){f=ae;var v=f.sibling,w=f.return;if(dA(f),f===d){ae=null;break}if(v!==null){v.return=w,ae=v;break}ae=w}}}var I=s.alternate;if(I!==null){var A=I.child;if(A!==null){I.child=null;do{var k=A.sibling;A.sibling=null,A=k}while(A!==null)}}ae=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ae=o;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:kc(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,ae=b;break e}ae=s.return}}var R=t.current;for(ae=R;ae!==null;){o=ae;var P=o.child;if(o.subtreeFlags&2064&&P!==null)P.return=o,ae=P;else e:for(o=R;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sm(9,a)}}catch(B){yt(a,a.return,B)}if(a===o){ae=null;break e}var U=a.sibling;if(U!==null){U.return=a.return,ae=U;break e}ae=a.return}}if(Oe=i,Ws(),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(Jp,t)}catch{}r=!0}return r}finally{ze=n,ar.transition=e}}return!1}function wS(t,e,n){e=Cl(n,e),e=eA(t,e,1),t=_s(t,e,1),e=_n(),t!==null&&(xd(t,1,e),Ln(t,e))}function yt(t,e,n){if(t.tag===3)wS(t,t,n);else for(;e!==null;){if(e.tag===3){wS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ws===null||!ws.has(r))){t=Cl(n,t),t=tA(e,t,1),e=_s(e,t,1),t=_n(),e!==null&&(xd(e,1,t),Ln(e,t));break}}e=e.return}}function j2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&n,qt===t&&(nn&n)===n&&(Mt===4||Mt===3&&(nn&130023424)===nn&&500>Tt()-B0?Oo(t,0):j0|=n),Ln(t,e)}function EA(t,e){e===0&&(t.mode&1?(e=Zh,Zh<<=1,!(Zh&130023424)&&(Zh=4194304)):e=1);var n=_n();t=ki(t,e),t!==null&&(xd(t,e,n),Ln(t,n))}function B2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),EA(t,n)}function z2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),EA(t,n)}var IA;IA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)xn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xn=!1,k2(t,e,n);xn=!!(t.flags&131072)}else xn=!1,st&&e.flags&1048576&&PP(e,up,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xf(t,e),t=e.pendingProps;var i=Pl(e,cn.current);yl(e,n),i=O0(null,e,r,t,i,n);var s=M0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vn(r)?(s=!0,ap(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,k0(e),i.updater=im,e.stateNode=i,i._reactInternals=e,xv(e,r,t,n),e=Ov(null,e,r,!0,s,n)):(e.tag=0,st&&s&&I0(e),gn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=W2(r),t=Rr(r,t),i){case 0:e=Nv(null,e,r,t,n);break e;case 1:e=cS(null,e,r,t,n);break e;case 11:e=lS(null,e,r,t,n);break e;case 14:e=uS(null,e,r,Rr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),Nv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),cS(t,e,r,i,n);case 3:e:{if(sA(e),t===null)throw Error(J(387));r=e.pendingProps,s=e.memoizedState,i=s.element,DP(t,e),hp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Cl(Error(J(423)),e),e=dS(t,e,r,n,i);break e}else if(r!==i){i=Cl(Error(J(424)),e),e=dS(t,e,r,n,i);break e}else for($n=vs(e.stateNode.containerInfo.firstChild),qn=e,st=!0,Ar=null,n=CP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Al(),r===i){e=Ci(t,e,n);break e}gn(t,e,r,n)}e=e.child}return e;case 5:return NP(e),t===null&&bv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Sv(r,i)?o=null:s!==null&&Sv(r,s)&&(e.flags|=32),iA(t,e),gn(t,e,o,n),e.child;case 6:return t===null&&bv(e),null;case 13:return oA(t,e,n);case 4:return C0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bl(e,null,r,n):gn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),lS(t,e,r,i,n);case 7:return gn(t,e,e.pendingProps,n),e.child;case 8:return gn(t,e,e.pendingProps.children,n),e.child;case 12:return gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Qe(cp,r._currentValue),r._currentValue=o,s!==null)if(Dr(s.value,o)){if(s.children===i.children&&!Mn.current){e=Ci(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ri(-1,n&-n),l.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?l.next=l:(l.next=f.next,f.next=l),d.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),kv(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),kv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yl(e,n),i=cr(i),r=r(i),e.flags|=1,gn(t,e,r,n),e.child;case 14:return r=e.type,i=Rr(r,e.pendingProps),i=Rr(r.type,i),uS(t,e,r,i,n);case 15:return nA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rr(r,i),xf(t,e),e.tag=1,Vn(r)?(t=!0,ap(e)):t=!1,yl(e,n),ZP(e,r,i),xv(e,r,i,n),Ov(null,e,r,!0,t,n);case 19:return aA(t,e,n);case 22:return rA(t,e,n)}throw Error(J(156,e.tag))};function SA(t,e){return QR(t,e)}function $2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,e,n,r){return new $2(t,e,n,r)}function q0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function W2(t){if(typeof t=="function")return q0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===c0)return 11;if(t===d0)return 14}return 2}function Is(t,e){var n=t.alternate;return n===null?(n=sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Of(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")q0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Za:return Mo(n.children,i,s,e);case u0:o=8,i|=8;break;case tv:return t=sr(12,n,e,i|2),t.elementType=tv,t.lanes=s,t;case nv:return t=sr(13,n,e,i),t.elementType=nv,t.lanes=s,t;case rv:return t=sr(19,n,e,i),t.elementType=rv,t.lanes=s,t;case NR:return am(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xR:o=10;break e;case DR:o=9;break e;case c0:o=11;break e;case d0:o=14;break e;case is:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=sr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Mo(t,e,n,r){return t=sr(7,t,r,e),t.lanes=n,t}function am(t,e,n,r){return t=sr(22,t,r,e),t.elementType=NR,t.lanes=n,t.stateNode={isHidden:!1},t}function cy(t,e,n){return t=sr(6,t,null,e),t.lanes=n,t}function dy(t,e,n){return e=sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qg(0),this.expirationTimes=qg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function G0(t,e,n,r,i,s,o,a,l){return t=new q2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=sr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},k0(s),t}function G2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TA(t){if(!t)return bs;t=t._reactInternals;e:{if(oa(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Vn(n))return TP(t,n,e)}return e}function RA(t,e,n,r,i,s,o,a,l){return t=G0(n,r,!0,t,i,s,o,a,l),t.context=TA(null),n=t.current,r=_n(),i=Es(n),s=Ri(r,i),s.callback=e??null,_s(n,s,i),t.current.lanes=i,xd(t,i,r),Ln(t,r),t}function lm(t,e,n,r){var i=e.current,s=_n(),o=Es(i);return n=TA(n),e.context===null?e.context=n:e.pendingContext=n,e=Ri(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_s(i,e,o),t!==null&&(kr(t,i,o,s),bf(t,i,o)),o}function wp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ES(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function H0(t,e){ES(t,e),(t=t.alternate)&&ES(t,e)}function H2(){return null}var PA=typeof reportError=="function"?reportError:function(t){console.error(t)};function K0(t){this._internalRoot=t}um.prototype.render=K0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));lm(t,e,null,null)};um.prototype.unmount=K0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qo(function(){lm(null,t,null,null)}),e[bi]=null}};function um(t){this._internalRoot=t}um.prototype.unstable_scheduleHydration=function(t){if(t){var e=rP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<os.length&&e!==0&&e<os[n].priority;n++);os.splice(n,0,t),n===0&&sP(t)}};function Y0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function IS(){}function K2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=wp(o);s.call(d)}}var o=RA(e,r,t,0,null,!1,!1,"",IS);return t._reactRootContainer=o,t[bi]=o.current,Jc(t.nodeType===8?t.parentNode:t),qo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var d=wp(l);a.call(d)}}var l=G0(t,0,!1,null,null,!1,!1,"",IS);return t._reactRootContainer=l,t[bi]=l.current,Jc(t.nodeType===8?t.parentNode:t),qo(function(){lm(e,l,n,r)}),l}function dm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=wp(o);a.call(l)}}lm(e,o,t,i)}else o=K2(n,e,t,i,r);return wp(o)}tP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hc(e.pendingLanes);n!==0&&(p0(e,n|1),Ln(e,Tt()),!(Oe&6)&&(xl=Tt()+500,Ws()))}break;case 13:qo(function(){var r=ki(t,1);if(r!==null){var i=_n();kr(r,t,1,i)}}),H0(t,1)}};m0=function(t){if(t.tag===13){var e=ki(t,134217728);if(e!==null){var n=_n();kr(e,t,134217728,n)}H0(t,134217728)}};nP=function(t){if(t.tag===13){var e=Es(t),n=ki(t,e);if(n!==null){var r=_n();kr(n,t,e,r)}H0(t,e)}};rP=function(){return ze};iP=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};fv=function(t,e,n){switch(e){case"input":if(ov(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=tm(r);if(!i)throw Error(J(90));MR(r),ov(r,i)}}}break;case"textarea":LR(t,n);break;case"select":e=n.value,e!=null&&fl(t,!!n.multiple,e,!1)}};WR=z0;qR=qo;var Y2={usingClientEntryPoint:!1,Events:[Nd,rl,tm,zR,$R,z0]},Ju={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q2={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=KR(t),t===null?null:t.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||H2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{Jp=df.inject(Q2),Zr=df}catch{}}Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y2;Kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Y0(e))throw Error(J(200));return G2(t,e,null,n)};Kn.createRoot=function(t,e){if(!Y0(t))throw Error(J(299));var n=!1,r="",i=PA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=G0(t,1,!1,null,null,n,!1,r,i),t[bi]=e.current,Jc(t.nodeType===8?t.parentNode:t),new K0(e)};Kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=KR(e),t=t===null?null:t.stateNode,t};Kn.flushSync=function(t){return qo(t)};Kn.hydrate=function(t,e,n){if(!cm(e))throw Error(J(200));return dm(null,t,e,!0,n)};Kn.hydrateRoot=function(t,e,n){if(!Y0(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=PA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=RA(e,null,t,1,n??null,i,!1,s,o),t[bi]=e.current,Jc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new um(e)};Kn.render=function(t,e,n){if(!cm(e))throw Error(J(200));return dm(null,t,e,!1,n)};Kn.unmountComponentAtNode=function(t){if(!cm(t))throw Error(J(40));return t._reactRootContainer?(qo(function(){dm(null,null,t,!1,function(){t._reactRootContainer=null,t[bi]=null})}),!0):!1};Kn.unstable_batchedUpdates=z0;Kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cm(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return dm(t,e,n,!1,r)};Kn.version="18.3.1-next-f1338f8080-20240426";function AA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AA)}catch(t){console.error(t)}}AA(),AR.exports=Kn;var bA=AR.exports,SS=bA;Zy.createRoot=SS.createRoot,Zy.hydrateRoot=SS.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function od(){return od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},od.apply(this,arguments)}var hs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hs||(hs={}));const TS="popstate";function J2(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Gv("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ep(i)}return Z2(e,n,null,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X2(){return Math.random().toString(36).substr(2,8)}function RS(t,e){return{usr:t.state,key:t.key,idx:e}}function Gv(t,e,n,r){return n===void 0&&(n=null),od({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?iu(e):e,{state:n,key:e&&e.key||r||X2()})}function Ep(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function iu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Z2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=hs.Pop,l=null,d=f();d==null&&(d=0,o.replaceState(od({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function p(){a=hs.Pop;let k=f(),b=k==null?null:k-d;d=k,l&&l({action:a,location:A.location,delta:b})}function v(k,b){a=hs.Push;let R=Gv(A.location,k,b);d=f()+1;let P=RS(R,d),U=A.createHref(R);try{o.pushState(P,"",U)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(U)}s&&l&&l({action:a,location:A.location,delta:1})}function w(k,b){a=hs.Replace;let R=Gv(A.location,k,b);d=f();let P=RS(R,d),U=A.createHref(R);o.replaceState(P,"",U),s&&l&&l({action:a,location:A.location,delta:0})}function I(k){let b=i.location.origin!=="null"?i.location.origin:i.location.href,R=typeof k=="string"?k:Ep(k);return R=R.replace(/ $/,"%20"),Ct(b,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,b)}let A={get action(){return a},get location(){return t(i,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(TS,p),l=k,()=>{i.removeEventListener(TS,p),l=null}},createHref(k){return e(i,k)},createURL:I,encodeLocation(k){let b=I(k);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:v,replace:w,go(k){return o.go(k)}};return A}var PS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(PS||(PS={}));function eL(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?iu(e):e,i=Q0(r.pathname||"/",n);if(i==null)return null;let s=CA(t);tL(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=fL(i);o=cL(s[a],l)}return o}function CA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ct(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=Ss([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(Ct(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),CA(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:lL(d,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of xA(s.path))i(s,o,l)}),e}function xA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=xA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function tL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nL=/^:[\w-]+$/,rL=3,iL=2,sL=1,oL=10,aL=-2,AS=t=>t==="*";function lL(t,e){let n=t.split("/"),r=n.length;return n.some(AS)&&(r+=aL),e&&(r+=iL),n.filter(i=>!AS(i)).reduce((i,s)=>i+(nL.test(s)?rL:s===""?sL:oL),r)}function uL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function cL(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=dL({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},d);if(!f)return null;Object.assign(r,f.params);let p=a.route;s.push({params:r,pathname:Ss([i,f.pathname]),pathnameBase:yL(Ss([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Ss([i,f.pathnameBase]))}return s}function dL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((d,f,p)=>{let{paramName:v,isOptional:w}=f;if(v==="*"){let A=a[p]||"";o=s.slice(0,s.length-A.length).replace(/(.)\/+$/,"$1")}const I=a[p];return w&&!I?d[v]=void 0:d[v]=(I||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function hL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function fL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Q0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function pL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?iu(t):t;return{pathname:n?n.startsWith("/")?n:mL(n,e):e,search:vL(r),hash:_L(i)}}function mL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function DA(t,e){let n=gL(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function NA(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=iu(t):(i=od({},t),Ct(!i.pathname||!i.pathname.includes("?"),hy("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),hy("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),hy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}a=p>=0?e[p]:"/"}let l=pL(i,a),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||f)&&(l.pathname+="/"),l}const Ss=t=>t.join("/").replace(/\/\/+/g,"/"),yL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_L=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const OA=["post","put","patch","delete"];new Set(OA);const EL=["get",...OA];new Set(EL);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ad.apply(this,arguments)}const J0=Q.createContext(null),IL=Q.createContext(null),aa=Q.createContext(null),hm=Q.createContext(null),qs=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),MA=Q.createContext(null);function SL(t,e){let{relative:n}=e===void 0?{}:e;Md()||Ct(!1);let{basename:r,navigator:i}=Q.useContext(aa),{hash:s,pathname:o,search:a}=LA(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ss([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Md(){return Q.useContext(hm)!=null}function fm(){return Md()||Ct(!1),Q.useContext(hm).location}function VA(t){Q.useContext(aa).static||Q.useLayoutEffect(t)}function pm(){let{isDataRoute:t}=Q.useContext(qs);return t?FL():TL()}function TL(){Md()||Ct(!1);let t=Q.useContext(J0),{basename:e,future:n,navigator:r}=Q.useContext(aa),{matches:i}=Q.useContext(qs),{pathname:s}=fm(),o=JSON.stringify(DA(i,n.v7_relativeSplatPath)),a=Q.useRef(!1);return VA(()=>{a.current=!0}),Q.useCallback(function(d,f){if(f===void 0&&(f={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let p=NA(d,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ss([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,o,s,t])}const RL=Q.createContext(null);function PL(t){let e=Q.useContext(qs).outlet;return e&&Q.createElement(RL.Provider,{value:t},e)}function LA(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=Q.useContext(aa),{matches:i}=Q.useContext(qs),{pathname:s}=fm(),o=JSON.stringify(DA(i,r.v7_relativeSplatPath));return Q.useMemo(()=>NA(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function AL(t,e){return bL(t,e)}function bL(t,e,n,r){Md()||Ct(!1);let{navigator:i}=Q.useContext(aa),{matches:s}=Q.useContext(qs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let d=fm(),f;if(e){var p;let k=typeof e=="string"?iu(e):e;l==="/"||(p=k.pathname)!=null&&p.startsWith(l)||Ct(!1),f=k}else f=d;let v=f.pathname||"/",w=v;if(l!=="/"){let k=l.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let I=eL(t,{pathname:w}),A=NL(I&&I.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:Ss([l,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?l:Ss([l,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r);return e&&A?Q.createElement(hm.Provider,{value:{location:ad({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:hs.Pop}},A):A}function kL(){let t=LL(),e=wL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:i},n):null,null)}const CL=Q.createElement(kL,null);class xL extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Q.createElement(qs.Provider,{value:this.props.routeContext},Q.createElement(MA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DL(t){let{routeContext:e,match:n,children:r}=t,i=Q.useContext(J0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Q.createElement(qs.Provider,{value:e},r)}function NL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);f>=0||Ct(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:v,errors:w}=n,I=p.route.loader&&v[p.route.id]===void 0&&(!w||w[p.route.id]===void 0);if(p.route.lazy||I){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,v)=>{let w,I=!1,A=null,k=null;n&&(w=a&&p.route.id?a[p.route.id]:void 0,A=p.route.errorElement||CL,l&&(d<0&&v===0?(I=!0,k=null):d===v&&(I=!0,k=p.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,v+1)),R=()=>{let P;return w?P=A:I?P=k:p.route.Component?P=Q.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=f,Q.createElement(DL,{match:p,routeContext:{outlet:f,matches:b,isDataRoute:n!=null},children:P})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?Q.createElement(xL,{location:n.location,revalidation:n.revalidation,component:A,error:w,children:R(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):R()},null)}var FA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(FA||{}),Ip=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ip||{});function OL(t){let e=Q.useContext(J0);return e||Ct(!1),e}function ML(t){let e=Q.useContext(IL);return e||Ct(!1),e}function VL(t){let e=Q.useContext(qs);return e||Ct(!1),e}function UA(t){let e=VL(),n=e.matches[e.matches.length-1];return n.route.id||Ct(!1),n.route.id}function LL(){var t;let e=Q.useContext(MA),n=ML(Ip.UseRouteError),r=UA(Ip.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function FL(){let{router:t}=OL(FA.UseNavigateStable),e=UA(Ip.UseNavigateStable),n=Q.useRef(!1);return VA(()=>{n.current=!0}),Q.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ad({fromRouteId:e},s)))},[t,e])}function UL(t){return PL(t.context)}function _o(t){Ct(!1)}function jL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=hs.Pop,navigator:s,static:o=!1,future:a}=t;Md()&&Ct(!1);let l=e.replace(/^\/*/,"/"),d=Q.useMemo(()=>({basename:l,navigator:s,static:o,future:ad({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=iu(r));let{pathname:f="/",search:p="",hash:v="",state:w=null,key:I="default"}=r,A=Q.useMemo(()=>{let k=Q0(f,l);return k==null?null:{location:{pathname:k,search:p,hash:v,state:w,key:I},navigationType:i}},[l,f,p,v,w,I,i]);return A==null?null:Q.createElement(aa.Provider,{value:d},Q.createElement(hm.Provider,{children:n,value:A}))}function BL(t){let{children:e,location:n}=t;return AL(Hv(e),n)}new Promise(()=>{});function Hv(t,e){e===void 0&&(e=[]);let n=[];return Q.Children.forEach(t,(r,i)=>{if(!Q.isValidElement(r))return;let s=[...e,i];if(r.type===Q.Fragment){n.push.apply(n,Hv(r.props.children,s));return}r.type!==_o&&Ct(!1),!r.props.index||!r.props.children||Ct(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Hv(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kv.apply(this,arguments)}function zL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $L(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WL(t,e){return t.button===0&&(!e||e==="_self")&&!$L(t)}const qL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],GL="6";try{window.__reactRouterVersion=GL}catch{}const HL="startTransition",bS=jM[HL];function KL(t){let{basename:e,children:n,future:r,window:i}=t,s=Q.useRef();s.current==null&&(s.current=J2({window:i,v5Compat:!0}));let o=s.current,[a,l]=Q.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},f=Q.useCallback(p=>{d&&bS?bS(()=>l(p)):l(p)},[l,d]);return Q.useLayoutEffect(()=>o.listen(f),[o,f]),Q.createElement(jL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const YL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cl=Q.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:d,preventScrollReset:f,unstable_viewTransition:p}=e,v=zL(e,qL),{basename:w}=Q.useContext(aa),I,A=!1;if(typeof d=="string"&&QL.test(d)&&(I=d,YL))try{let P=new URL(window.location.href),U=d.startsWith("//")?new URL(P.protocol+d):new URL(d),B=Q0(U.pathname,w);U.origin===P.origin&&B!=null?d=B+U.search+U.hash:A=!0}catch{}let k=SL(d,{relative:i}),b=JL(d,{replace:o,state:a,target:l,preventScrollReset:f,relative:i,unstable_viewTransition:p});function R(P){r&&r(P),P.defaultPrevented||b(P)}return Q.createElement("a",Kv({},v,{href:I||k,onClick:A||s?r:R,ref:n,target:l}))});var kS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kS||(kS={}));var CS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(CS||(CS={}));function JL(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=pm(),d=fm(),f=LA(t,{relative:o});return Q.useCallback(p=>{if(WL(p,n)){p.preventDefault();let v=r!==void 0?r:Ep(d)===Ep(f);l(t,{replace:v,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[d,l,f,r,i,n,t,s,o,a])}const jA=Q.createContext(),XL=({reducer:t,initialState:e,children:n})=>O.jsx(jA.Provider,{value:Q.useReducer(t,e),children:n}),Gs=()=>Q.useContext(jA);var BA="https://js.stripe.com/v3",ZL=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,xS="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",eF=function(){for(var e=document.querySelectorAll('script[src^="'.concat(BA,'"]')),n=0;n<e.length;n++){var r=e[n];if(ZL.test(r.src))return r}return null},DS=function(e){var n="",r=document.createElement("script");r.src="".concat(BA).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},tF=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"3.3.0",startTime:n})},Xu=null,hf=null,ff=null,nF=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},rF=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},iF=function(e){return Xu!==null?Xu:(Xu=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(xS),window.Stripe){n(window.Stripe);return}try{var i=eF();if(i&&e)console.warn(xS);else if(!i)i=DS(e);else if(i&&ff!==null&&hf!==null){var s;i.removeEventListener("load",ff),i.removeEventListener("error",hf),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=DS(e)}ff=rF(n,r),hf=nF(r),i.addEventListener("load",ff),i.addEventListener("error",hf)}catch(o){r(o);return}}),Xu.catch(function(n){return Xu=null,Promise.reject(n)}))},sF=function(e,n,r){if(e===null)return null;var i=e.apply(void 0,n);return tF(i,r),i},Zu,zA=!1,$A=function(){return Zu||(Zu=iF(null).catch(function(e){return Zu=null,Promise.reject(e)}),Zu)};Promise.resolve().then(function(){return $A()}).catch(function(t){zA||console.warn(t)});var oF=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];zA=!0;var i=Date.now();return $A().then(function(s){return sF(s,n,i)})},WA={exports:{}},aF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lF=aF,uF=lF;function qA(){}function GA(){}GA.resetWarningCache=qA;var cF=function(){function t(r,i,s,o,a,l){if(l!==uF){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:GA,resetWarningCache:qA};return n.PropTypes=n,n};WA.exports=cF();var HA=WA.exports;const dt=kd(HA);function NS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NS(Object(n),!0).forEach(function(r){KA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mf(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mf=function(e){return typeof e}:Mf=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function KA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YA(t,e){return dF(t)||hF(t,e)||fF(t,e)||pF()}function dF(t){if(Array.isArray(t))return t}function hF(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function fF(t,e){if(t){if(typeof t=="string")return MS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MS(t,e)}}function MS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var jn=function(e,n,r){var i=!!r,s=ge.useRef(r);ge.useEffect(function(){s.current=r},[r]),ge.useEffect(function(){if(!i||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,o),function(){e.off(n,o)}},[i,n,e,s])},Yv=function(e){var n=ge.useRef(e);return ge.useEffect(function(){n.current=e},[e]),n.current},Dl=function(e){return e!==null&&Mf(e)==="object"},mF=function(e){return Dl(e)&&typeof e.then=="function"},gF=function(e){return Dl(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},VS="[object Object]",yF=function t(e,n){if(!Dl(e)||!Dl(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===VS,o=Object.prototype.toString.call(n)===VS;if(s!==o)return!1;if(!s&&!r)return e===n;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var d={},f=0;f<a.length;f+=1)d[a[f]]=!0;for(var p=0;p<l.length;p+=1)d[l[p]]=!0;var v=Object.keys(d);if(v.length!==a.length)return!1;var w=e,I=n,A=function(b){return t(w[b],I[b])};return v.every(A)},QA=function(e,n,r){return Dl(e)?Object.keys(e).reduce(function(i,s){var o=!Dl(n)||!yF(e[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?OS(OS({},i||{}),{},KA({},s,e[s])):i},null):null},JA="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",LS=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:JA;if(e===null||gF(e))return e;throw new Error(n)},vF=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:JA;if(mF(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return LS(i,n)})};var r=LS(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},_F=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},mm=ge.createContext(null);mm.displayName="ElementsContext";var XA=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},ZA=function(e){var n=e.stripe,r=e.options,i=e.children,s=ge.useMemo(function(){return vF(n)},[n]),o=ge.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=YA(o,2),l=a[0],d=a[1];ge.useEffect(function(){var v=!0,w=function(A){d(function(k){return k.stripe?k:{stripe:A,elements:A.elements(r)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(I){I&&v&&w(I)}):s.tag==="sync"&&!l.stripe&&w(s.stripe),function(){v=!1}},[s,l,r]);var f=Yv(n);ge.useEffect(function(){f!==null&&f!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[f,n]);var p=Yv(r);return ge.useEffect(function(){if(l.elements){var v=QA(r,p,["clientSecret","fonts"]);v&&l.elements.update(v)}},[r,p,l.elements]),ge.useEffect(function(){_F(l.stripe)},[l.stripe]),ge.createElement(mm.Provider,{value:l},i)};ZA.propTypes={stripe:dt.any,options:dt.object};var wF=function(e){var n=ge.useContext(mm);return XA(n,e)},EF=function(){var e=wF("calls useElements()"),n=e.elements;return n};dt.func.isRequired;var eb=ge.createContext(null);eb.displayName="CustomCheckoutSdkContext";var IF=function(e,n){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CustomCheckoutProvider> provider."));return e},SF=ge.createContext(null);SF.displayName="CustomCheckoutContext";dt.any,dt.shape({clientSecret:dt.string.isRequired,elementsOptions:dt.object}).isRequired;var Qv=function(e){var n=ge.useContext(eb),r=ge.useContext(mm);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?IF(n,e):XA(r,e)},TF=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Ft=function(e,n){var r="".concat(TF(e),"Element"),i=function(l){var d=l.id,f=l.className,p=l.options,v=p===void 0?{}:p,w=l.onBlur,I=l.onFocus,A=l.onReady,k=l.onChange,b=l.onEscape,R=l.onClick,P=l.onLoadError,U=l.onLoaderStart,B=l.onNetworksChange,G=l.onConfirm,C=l.onCancel,T=l.onShippingAddressChange,x=l.onShippingRateChange,D=Qv("mounts <".concat(r,">")),V="elements"in D?D.elements:null,L="customCheckoutSdk"in D?D.customCheckoutSdk:null,N=ge.useState(null),Xt=YA(N,2),Ke=Xt[0],fr=Xt[1],gt=ge.useRef(null),ne=ge.useRef(null);jn(Ke,"blur",w),jn(Ke,"focus",I),jn(Ke,"escape",b),jn(Ke,"click",R),jn(Ke,"loaderror",P),jn(Ke,"loaderstart",U),jn(Ke,"networkschange",B),jn(Ke,"confirm",G),jn(Ke,"cancel",C),jn(Ke,"shippingaddresschange",T),jn(Ke,"shippingratechange",x),jn(Ke,"change",k);var pe;A&&(e==="expressCheckout"?pe=A:pe=function(){A(Ke)}),jn(Ke,"ready",pe),ge.useLayoutEffect(function(){if(gt.current===null&&ne.current!==null&&(V||L)){var Ie=null;L?Ie=L.createElement(e,v):V&&(Ie=V.create(e,v)),gt.current=Ie,fr(Ie),Ie&&Ie.mount(ne.current)}},[V,L,v]);var de=Yv(v);return ge.useEffect(function(){if(gt.current){var Ie=QA(v,de,["paymentRequest"]);Ie&&gt.current.update(Ie)}},[v,de]),ge.useLayoutEffect(function(){return function(){if(gt.current&&typeof gt.current.destroy=="function")try{gt.current.destroy(),gt.current=null}catch{}}},[]),ge.createElement("div",{id:d,className:f,ref:ne})},s=function(l){Qv("mounts <".concat(r,">"));var d=l.id,f=l.className;return ge.createElement("div",{id:d,className:f})},o=n?s:i;return o.propTypes={id:dt.string,className:dt.string,onChange:dt.func,onBlur:dt.func,onFocus:dt.func,onReady:dt.func,onEscape:dt.func,onClick:dt.func,onLoadError:dt.func,onLoaderStart:dt.func,onNetworksChange:dt.func,onConfirm:dt.func,onCancel:dt.func,onShippingAddressChange:dt.func,onShippingRateChange:dt.func,options:dt.object},o.displayName=r,o.__elementType=e,o},Ut=typeof window>"u",RF=ge.createContext(null);RF.displayName="EmbeddedCheckoutProviderContext";var PF=function(){var e=Qv("calls useStripe()"),n=e.stripe;return n};Ft("auBankAccount",Ut);var FS=Ft("card",Ut);Ft("cardNumber",Ut);Ft("cardExpiry",Ut);Ft("cardCvc",Ut);Ft("fpxBank",Ut);Ft("iban",Ut);Ft("idealBank",Ut);Ft("p24Bank",Ut);Ft("epsBank",Ut);Ft("payment",Ut);Ft("expressCheckout",Ut);Ft("paymentRequestButton",Ut);Ft("linkAuthentication",Ut);Ft("address",Ut);Ft("shippingAddress",Ut);Ft("paymentMethodMessaging",Ut);Ft("affirmMessage",Ut);Ft("afterpayClearpayMessage",Ut);var US={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},AF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},nb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,d=l?t[i+2]:0,f=s>>2,p=(s&3)<<4|a>>4;let v=(a&15)<<2|d>>6,w=d&63;l||(w=64,o||(v=64)),r.push(n[f],n[p],n[v],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||d==null||p==null)throw new bF;const v=s<<2|a>>4;if(r.push(v),d!==64){const w=a<<4&240|d>>2;if(r.push(w),p!==64){const I=d<<6&192|p;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kF=function(t){const e=tb(t);return nb.encodeByteArray(e,!0)},Sp=function(t){return kF(t).replace(/\./g,"")},rb=function(t){try{return nb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Tp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!CF(n)||(t[n]=Tp(t[n],e[n]));return t}function CF(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=()=>xF().__FIREBASE_DEFAULTS__,NF=()=>{if(typeof process>"u"||typeof US>"u")return;const t=US.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rb(t[1]);return e&&JSON.parse(e)},gm=()=>{try{return DF()||NF()||OF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MF=t=>{var e,n;return(n=(e=gm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ib=()=>{var t;return(t=gm())===null||t===void 0?void 0:t.config},sb=t=>{var e;return(e=gm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sp(JSON.stringify(n)),Sp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function X0(){var t;const e=(t=gm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ob(){return typeof self=="object"&&self.self===self}function ab(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Z0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lb(){const t=ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ub(){return!X0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ld(){try{return typeof indexedDB=="object"}catch{return!1}}function UF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF="FirebaseError";class wn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jF,Object.setPrototypeOf(this,wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,la.prototype.create)}}class la{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?BF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new wn(i,a,r)}}function BF(t,e){return t.replace(zF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const zF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $F(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(BS(s)&&BS(o)){if(!Nl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function BS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function pc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cb(t,e){const n=new WF(t,e);return n.subscribe.bind(n)}class WF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fy),i.error===void 0&&(i.error=fy),i.complete===void 0&&(i.complete=fy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t){return t&&t._delegate?t._delegate:t}class ri{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KF(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HF(t){return t===wo?void 0:t}function KF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=[];var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const hb={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},YF=Te.INFO,QF={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},JF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=QF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ym{constructor(e){this.name=e,this._logLevel=YF,this._logHandler=JF,this._userLogHandler=null,ew.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}function XF(t){ew.forEach(e=>{e.setLogLevel(t)})}function ZF(t,e){for(const n of ew){let r=null;e&&e.level&&(r=hb[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:Te[s].toLowerCase(),message:a,args:o,type:i.name})}}}const eU=(t,e)=>e.some(n=>t instanceof n);let zS,$S;function tU(){return zS||(zS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nU(){return $S||($S=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fb=new WeakMap,Jv=new WeakMap,pb=new WeakMap,py=new WeakMap,tw=new WeakMap;function rU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ts(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fb.set(n,t)}).catch(()=>{}),tw.set(e,t),e}function iU(t){if(Jv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Jv.set(t,e)}let Xv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sU(t){Xv=t(Xv)}function oU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(my(this),e,...n);return pb.set(r,e.sort?e.sort():[e]),Ts(r)}:nU().includes(t)?function(...e){return t.apply(my(this),e),Ts(fb.get(this))}:function(...e){return Ts(t.apply(my(this),e))}}function aU(t){return typeof t=="function"?oU(t):(t instanceof IDBTransaction&&iU(t),eU(t,tU())?new Proxy(t,Xv):t)}function Ts(t){if(t instanceof IDBRequest)return rU(t);if(py.has(t))return py.get(t);const e=aU(t);return e!==t&&(py.set(t,e),tw.set(e,t)),e}const my=t=>tw.get(t);function lU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ts(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ts(o.result),l.oldVersion,l.newVersion,Ts(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const uU=["get","getKey","getAll","getAllKeys","count"],cU=["put","add","delete","clear"],gy=new Map;function WS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gy.get(e))return gy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),i&&l.done]))[0]};return gy.set(e,s),s}sU(t=>({...t,get:(e,n,r)=>WS(e,n)||t.get(e,n,r),has:(e,n)=>!!WS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rp="@firebase/app",Zv="0.10.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new ym("@firebase/app"),fU="@firebase/app-compat",pU="@firebase/analytics-compat",mU="@firebase/analytics",gU="@firebase/app-check-compat",yU="@firebase/app-check",vU="@firebase/auth",_U="@firebase/auth-compat",wU="@firebase/database",EU="@firebase/database-compat",IU="@firebase/functions",SU="@firebase/functions-compat",TU="@firebase/installations",RU="@firebase/installations-compat",PU="@firebase/messaging",AU="@firebase/messaging-compat",bU="@firebase/performance",kU="@firebase/performance-compat",CU="@firebase/remote-config",xU="@firebase/remote-config-compat",DU="@firebase/storage",NU="@firebase/storage-compat",OU="@firebase/firestore",MU="@firebase/vertexai-preview",VU="@firebase/firestore-compat",LU="firebase",FU="10.12.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]",UU={[Rp]:"fire-core",[fU]:"fire-core-compat",[mU]:"fire-analytics",[pU]:"fire-analytics-compat",[yU]:"fire-app-check",[gU]:"fire-app-check-compat",[vU]:"fire-auth",[_U]:"fire-auth-compat",[wU]:"fire-rtdb",[EU]:"fire-rtdb-compat",[IU]:"fire-fn",[SU]:"fire-fn-compat",[TU]:"fire-iid",[RU]:"fire-iid-compat",[PU]:"fire-fcm",[AU]:"fire-fcm-compat",[bU]:"fire-perf",[kU]:"fire-perf-compat",[CU]:"fire-rc",[xU]:"fire-rc-compat",[DU]:"fire-gcs",[NU]:"fire-gcs-compat",[OU]:"fire-fst",[VU]:"fire-fst-compat",[MU]:"fire-vertex","fire-js":"fire-js",[LU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Map,Ol=new Map,Ml=new Map;function ud(t,e){try{t.container.addComponent(e)}catch(n){Go.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mb(t,e){t.container.addOrOverwriteComponent(e)}function xs(t){const e=t.name;if(Ml.has(e))return Go.debug(`There were multiple attempts to register component ${e}.`),!1;Ml.set(e,t);for(const n of Cs.values())ud(n,t);for(const n of Ol.values())ud(n,t);return!0}function vm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jU(t,e,n=ks){vm(t,e).clearInstance(n)}function gb(t){return t.options!==void 0}function _t(t){return t.settings!==void 0}function BU(){Ml.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new la("app","Firebase",zU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yb=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U extends yb{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Cr(Rp,Zv,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){rw(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw lr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=FU;function nw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ks,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw lr.create("bad-app-name",{appName:String(i)});if(n||(n=ib()),!n)throw lr.create("no-options");const s=Cs.get(i);if(s){if(Nl(n,s.options)&&Nl(r,s.config))return s;throw lr.create("duplicate-app",{appName:i})}const o=new db(i);for(const l of Ml.values())o.addComponent(l);const a=new yb(n,r,o);return Cs.set(i,a),a}function WU(t,e){if(ob())throw lr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;gb(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=d=>[...d].reduce((f,p)=>Math.imul(31,f)+p.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw lr.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=Ol.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new db(s);for(const d of Ml.values())a.addComponent(d);const l=new $U(n,e,s,a);return Ol.set(s,l),l}function vb(t=ks){const e=Cs.get(t);if(!e&&t===ks&&ib())return nw();if(!e)throw lr.create("no-app",{appName:t});return e}function qU(){return Array.from(Cs.values())}async function rw(t){let e=!1;const n=t.name;Cs.has(n)?(e=!0,Cs.delete(n)):Ol.has(n)&&t.decRefCount()<=0&&(Ol.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Cr(t,e,n){var r;let i=(r=UU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Go.warn(a.join(" "));return}xs(new ri(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function _b(t,e){if(t!==null&&typeof t!="function")throw lr.create("invalid-log-argument");ZF(t,e)}function wb(t){XF(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU="firebase-heartbeat-database",HU=1,cd="firebase-heartbeat-store";let yy=null;function Eb(){return yy||(yy=lU(GU,HU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cd)}catch(n){console.warn(n)}}}}).catch(t=>{throw lr.create("idb-open",{originalErrorMessage:t.message})})),yy}async function KU(t){try{const n=(await Eb()).transaction(cd),r=await n.objectStore(cd).get(Ib(t));return await n.done,r}catch(e){if(e instanceof wn)Go.warn(e.message);else{const n=lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Go.warn(n.message)}}}async function qS(t,e){try{const r=(await Eb()).transaction(cd,"readwrite");await r.objectStore(cd).put(e,Ib(t)),await r.done}catch(n){if(n instanceof wn)Go.warn(n.message);else{const r=lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Go.warn(r.message)}}}function Ib(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=1024,QU=30*24*60*60*1e3;class JU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=GS();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=QU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=GS(),{heartbeatsToSend:r,unsentEntries:i}=XU(this._heartbeatsCache.heartbeats),s=Sp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function GS(){return new Date().toISOString().substring(0,10)}function XU(t,e=YU){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),HS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),HS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ZU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ld()?UF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function HS(t){return Sp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t){xs(new ri("platform-logger",e=>new dU(e),"PRIVATE")),xs(new ri("heartbeat",e=>new JU(e),"PRIVATE")),Cr(Rp,Zv,t),Cr(Rp,Zv,"esm2017"),Cr("fire-js","")}ej("");const tj=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:wn,SDK_VERSION:Hs,_DEFAULT_ENTRY_NAME:ks,_addComponent:ud,_addOrOverwriteComponent:mb,_apps:Cs,_clearComponents:BU,_components:Ml,_getProvider:vm,_isFirebaseApp:gb,_isFirebaseServerApp:_t,_registerComponent:xs,_removeServiceInstance:jU,_serverApps:Ol,deleteApp:rw,getApp:vb,getApps:qU,initializeApp:nw,initializeServerApp:WU,onLog:_b,registerVersion:Cr,setLogLevel:wb},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n){this._delegate=e,this.firebase=n,ud(e,new ri("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),rw(this._delegate)))}_getService(e,n=ks){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ks){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){ud(this._delegate,e)}_addOrOverwriteComponent(e){mb(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},KS=new la("app-compat","Firebase",rj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Cr,setLogLevel:wb,onLog:_b,apps:null,SDK_VERSION:Hs,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:tj}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(d){delete e[d]}function i(d){if(d=d||ks,!jS(e,d))throw KS.create("no-app",{appName:d});return e[d]}i.App=t;function s(d,f={}){const p=nw(d,f);if(jS(e,p.name))return e[p.name];const v=new t(p,n);return e[p.name]=v,v}function o(){return Object.keys(e).map(d=>e[d])}function a(d){const f=d.name,p=f.replace("-compat","");if(xs(d)&&d.type==="PUBLIC"){const v=(w=i())=>{if(typeof w[p]!="function")throw KS.create("invalid-app-argument",{appName:f});return w[p]()};d.serviceProps!==void 0&&Tp(v,d.serviceProps),n[p]=v,t.prototype[p]=function(...w){return this._getService.bind(this,f).apply(this,d.multipleInstances?w:[])}}return d.type==="PUBLIC"?n[p]:null}function l(d,f){return f==="serverAuth"?null:f}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(){const t=ij(nj);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:Sb,extendNamespace:e,createSubscribe:cb,ErrorFactory:la,deepExtend:Tp});function e(n){Tp(t,n)}return t}const sj=Sb();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=new ym("@firebase/app-compat"),oj="@firebase/app-compat",aj="0.2.33";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){Cr(oj,aj,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(ob()&&self.firebase!==void 0){YS.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&YS.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const ou=sj;lj();var uj="firebase",cj="10.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ou.registerVersion(uj,cj,"app-compat");function iw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const ec={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ja={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function Tb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hj=dj,fj=Tb,Rb=new la("auth","Firebase",Tb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=new ym("@firebase/auth");function pj(t,...e){Pp.logLevel<=Te.WARN&&Pp.warn(`Auth (${Hs}): ${t}`,...e)}function Vf(t,...e){Pp.logLevel<=Te.ERROR&&Pp.error(`Auth (${Hs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,...e){throw ow(t,...e)}function Vt(t,...e){return ow(t,...e)}function sw(t,e,n){const r=Object.assign(Object.assign({},fj()),{[e]:n});return new la("auth","Firebase",r).create(e,{appName:t.name})}function Gt(t){return sw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function au(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Kt(t,"argument-error"),sw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ow(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Rb.create(t,...e)}function Z(t,e,...n){if(!t)throw ow(e,...n)}function Qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vf(e),new Error(e)}function Nr(t,e){t||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aw(){return QS()==="http:"||QS()==="https:"}function QS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aw()||ab()||"connection"in navigator)?navigator.onLine:!0}function gj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nr(n>e,"Short delay should be less than long delay!"),this.isMobile=FF()||Z0()}get(){return mj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t,e){Nr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=new Vd(3e4,6e4);function It(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function St(t,e,n,r,i={}){return Ab(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=su(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Pb.fetch()(bb(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Ab(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yj),e);try{const i=new wj(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw mc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw mc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw mc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw mc(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw sw(t,f,d);Kt(t,f)}}catch(i){if(i instanceof wn)throw i;Kt(t,"network-request-failed",{message:String(i)})}}async function Vi(t,e,n,r,i={}){const s=await St(t,e,n,r,i);return"mfaPendingCredential"in s&&Kt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function bb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?lw(t.config,i):`${t.config.apiScheme}://${i}`}function _j(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vt(this.auth,"network-request-failed")),vj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t){return t!==void 0&&t.getResponse!==void 0}function XS(t){return t!==void 0&&t.enterprise!==void 0}class Ej{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _j(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ij(t){return(await St(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Sj(t,e){return St(t,"GET","/v2/recaptchaConfig",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(t,e){return St(t,"POST","/v1/accounts:delete",e)}async function Rj(t,e){return St(t,"POST","/v1/accounts:update",e)}async function kb(t,e){return St(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Pj(t,e=!1){const n=he(t),r=await n.getIdToken(e),i=_m(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Dc(vy(i.auth_time)),issuedAtTime:Dc(vy(i.iat)),expirationTime:Dc(vy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vy(t){return Number(t)*1e3}function _m(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vf("JWT malformed, contained fewer than 3 sections"),null;try{const i=rb(n);return i?JSON.parse(i):(Vf("Failed to decode base64 JWT payload"),null)}catch(i){return Vf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ZS(t){const e=_m(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wn&&Aj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Aj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dc(this.lastLoginAt),this.creationTime=Dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await xi(t,kb(n,{idToken:r}));Z(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Cb(s.providerUserInfo):[],a=Cj(t.providerData,o),l=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=l?d:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new e_(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function kj(t){const e=he(t);await hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Cj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Cb(t){return t.map(e=>{var{providerId:n}=e,r=iw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(t,e){const n=await Ab(t,{},async()=>{const r=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=bb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Pb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Dj(t,e){return St(t,"POST","/v2/accounts:revokeToken",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=ZS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await xj(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new _l;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ii{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=iw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new e_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await xi(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Pj(this,e)}reload(){return kj(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_t(this.auth.app))return Promise.reject(Gt(this.auth));const e=await this.getIdToken();return await xi(this,Tj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,d,f;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,I=(o=n.photoURL)!==null&&o!==void 0?o:void 0,A=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(d=n.createdAt)!==null&&d!==void 0?d:void 0,R=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:P,emailVerified:U,isAnonymous:B,providerData:G,stsTokenManager:C}=n;Z(P&&C,e,"internal-error");const T=_l.fromJSON(this.name,C);Z(typeof P=="string",e,"internal-error"),Ji(p,e.name),Ji(v,e.name),Z(typeof U=="boolean",e,"internal-error"),Z(typeof B=="boolean",e,"internal-error"),Ji(w,e.name),Ji(I,e.name),Ji(A,e.name),Ji(k,e.name),Ji(b,e.name),Ji(R,e.name);const x=new Ii({uid:P,auth:e,email:v,emailVerified:U,displayName:p,isAnonymous:B,photoURL:I,phoneNumber:w,tenantId:A,stsTokenManager:T,createdAt:b,lastLoginAt:R});return G&&Array.isArray(G)&&(x.providerData=G.map(D=>Object.assign({},D))),k&&(x._redirectEventId=k),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new _l;i.updateFromServerResponse(n);const s=new Ii({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Z(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Cb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new _l;a.updateFromIdToken(r);const l=new Ii({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new e_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=new Map;function Wn(t){Nr(t instanceof Function,"Expected a class definition");let e=eT.get(t);return e?(Nr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xb.type="NONE";const Vl=xb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t,e,n){return`firebase:${t}:${e}:${n}`}class wl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Vo(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vo("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ii._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wl(Wn(Vl),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Wn(Vl);const o=Vo(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const f=await d._get(o);if(f){const p=Ii._fromJSON(e,f);d!==s&&(a=p),s=d;break}}catch{}const l=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new wl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new wl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ob(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Db(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mb(e))return"Blackberry";if(Vb(e))return"Webos";if(uw(e))return"Safari";if((e.includes("chrome/")||Nb(e))&&!e.includes("edge/"))return"Chrome";if(Ld(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Db(t=ut()){return/firefox\//i.test(t)}function uw(t=ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nb(t=ut()){return/crios\//i.test(t)}function Ob(t=ut()){return/iemobile/i.test(t)}function Ld(t=ut()){return/android/i.test(t)}function Mb(t=ut()){return/blackberry/i.test(t)}function Vb(t=ut()){return/webos/i.test(t)}function lu(t=ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Nj(t=ut()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Oj(t=ut()){var e;return lu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Mj(){return lb()&&document.documentMode===10}function Lb(t=ut()){return lu(t)||Ld(t)||Vb(t)||Mb(t)||/windows phone/i.test(t)||Ob(t)}function Vj(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t,e=[]){let n;switch(t){case"Browser":n=tT(ut());break;case"Worker":n=`${tT(ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fj(t,e={}){return St(t,"GET","/v2/passwordPolicy",It(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=6;class jj{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Uj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nT(this),this.idTokenSubscription=new nT(this),this.beforeStateQueue=new Lj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await wl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kb(this,{idToken:e}),r=await Ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_t(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_t(this.app))return Promise.reject(Gt(this));const n=e?he(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _t(this.app)?Promise.reject(Gt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _t(this.app)?Promise.reject(Gt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Fj(this),n=new jj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new la("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Dj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wn(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await wl.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wt(t){return he(t)}class nT{constructor(e){this.auth=e,this.observer=null,this.addObserver=cb(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zj(t){Fd=t}function cw(t){return Fd.loadJS(t)}function $j(){return Fd.recaptchaV2Script}function Wj(){return Fd.recaptchaEnterpriseScript}function qj(){return Fd.gapiScript}function Ub(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Gj="recaptcha-enterprise",Hj="NO_RECAPTCHA";class Kj{constructor(e){this.type=Gj,this.auth=wt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Sj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new Ej(l);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;XS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(Hj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&XS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Wj();l.length!==0&&(l+=a),cw(l).then(()=>{i(a,s,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function rT(t,e,n,r=!1){const i=new Kj(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function fd(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await rT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await rT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t,e){const n=vm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Nl(s,e??{}))return i;Kt(i,"already-initialized")}return n.initialize({options:e})}function Qj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jb(t,e,n){const r=wt(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Bb(e),{host:o,port:a}=Jj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Xj()}function Bb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Jj(t){const e=Bb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:iT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:iT(o)}}}function iT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Xj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zb(t,e){return St(t,"POST","/v1/accounts:resetPassword",It(t,e))}async function Zj(t,e){return St(t,"POST","/v1/accounts:update",e)}async function e4(t,e){return St(t,"POST","/v1/accounts:signUp",e)}async function t4(t,e){return St(t,"POST","/v1/accounts:update",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(t,e){return Vi(t,"POST","/v1/accounts:signInWithPassword",It(t,e))}async function wm(t,e){return St(t,"POST","/v1/accounts:sendOobCode",It(t,e))}async function r4(t,e){return wm(t,e)}async function i4(t,e){return wm(t,e)}async function s4(t,e){return wm(t,e)}async function o4(t,e){return wm(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(t,e){return Vi(t,"POST","/v1/accounts:signInWithEmailLink",It(t,e))}async function l4(t,e){return Vi(t,"POST","/v1/accounts:signInWithEmailLink",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends uu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new pd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fd(e,n,"signInWithPassword",n4);case"emailLink":return a4(e,{email:this._email,oobCode:this._password});default:Kt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fd(e,r,"signUpPassword",e4);case"emailLink":return l4(e,{idToken:n,email:this._email,oobCode:this._password});default:Kt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pi(t,e){return Vi(t,"POST","/v1/accounts:signInWithIdp",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="http://localhost";class ii extends uu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ii(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=iw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ii(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Pi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pi(e,n)}buildRequest(){const e={requestUri:u4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(t,e){return St(t,"POST","/v1/accounts:sendVerificationCode",It(t,e))}async function d4(t,e){return Vi(t,"POST","/v1/accounts:signInWithPhoneNumber",It(t,e))}async function h4(t,e){const n=await Vi(t,"POST","/v1/accounts:signInWithPhoneNumber",It(t,e));if(n.temporaryProof)throw mc(t,"account-exists-with-different-credential",n);return n}const f4={USER_NOT_FOUND:"user-not-found"};async function p4(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Vi(t,"POST","/v1/accounts:signInWithPhoneNumber",It(t,n),f4)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends uu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Lo({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Lo({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return d4(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return h4(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return p4(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Lo({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g4(t){const e=dl(pc(t)).link,n=e?dl(pc(e)).deep_link_id:null,r=dl(pc(t)).deep_link_id;return(r?dl(pc(r)).link:null)||r||n||e||t}class Em{constructor(e){var n,r,i,s,o,a;const l=dl(pc(e)),d=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,p=m4((i=l.mode)!==null&&i!==void 0?i:null);Z(d&&f&&p,"argument-error"),this.apiKey=d,this.operation=p,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=g4(e);try{return new Em(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.providerId=Ks.PROVIDER_ID}static credential(e,n){return pd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Em.parseLink(n);return Z(r,"argument-error"),pd._fromEmailAndCode(e,r.code,r.tenantId)}}Ks.PROVIDER_ID="password";Ks.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ks.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Li{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class El extends cu{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return Z("providerId"in n&&"signInMethod"in n,"argument-error"),ii._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Z(e.idToken||e.accessToken,"argument-error"),ii._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return El.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return El.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new El(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends cu{constructor(){super("facebook.com")}static credential(e){return ii._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ii._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hr.credential(n,r)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends cu{constructor(){super("github.com")}static credential(e){return ii._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="http://localhost";class Ll extends uu{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Pi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Ll(r,s)}static _create(e,n){return new Ll(e,n)}buildRequest(){return{requestUri:y4,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="saml.";class Ap extends Li{constructor(e){Z(e.startsWith(v4),"argument-error"),super(e)}static credentialFromResult(e){return Ap.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ap.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Ll.fromJSON(e);return Z(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Ll._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends cu{constructor(){super("twitter.com")}static credential(e,n){return ii._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Yr.credential(n,r)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $b(t,e){return Vi(t,"POST","/v1/accounts:signUp",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ii._fromIdTokenResponse(e,r,i),o=sT(r);return new hr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sT(r);return new hr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4(t){var e;if(_t(t.app))return Promise.reject(Gt(t));const n=wt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new hr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await $b(n,{returnSecureToken:!0}),i=await hr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends wn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new bp(e,n,r,i)}}function Wb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bp._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(t,e){const n=he(t);await Im(!0,n,e);const{providerUserInfo:r}=await Rj(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=qb(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function dw(t,e,n=!1){const r=await xi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hr._forOperation(t,"link",r)}async function Im(t,e,n){await hd(e);const r=qb(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";Z(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gb(t,e,n=!1){const{auth:r}=t;if(_t(r.app))return Promise.reject(Gt(r));const i="reauthenticate";try{const s=await xi(t,Wb(r,i,e,t),n);Z(s.idToken,r,"internal-error");const o=_m(s.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),hr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Kt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hb(t,e,n=!1){if(_t(t.app))return Promise.reject(Gt(t));const r="signIn",i=await Wb(t,r,e),s=await hr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Sm(t,e){return Hb(wt(t),e)}async function Kb(t,e){const n=he(t);return await Im(!1,n,e.providerId),dw(n,e)}async function Yb(t,e){return Gb(he(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(t,e){return Vi(t,"POST","/v1/accounts:signInWithCustomToken",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(t,e){if(_t(t.app))return Promise.reject(Gt(t));const n=wt(t),r=await E4(n,{token:e,returnSecureToken:!0}),i=await hr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?hw._fromServerResponse(e,n):"totpInfo"in n?fw._fromServerResponse(e,n):Kt(e,"internal-error")}}class hw extends Ud{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new hw(n)}}class fw extends Ud{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new fw(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t,e,n){var r;Z(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Z(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Z(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Z(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pw(t){const e=wt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function S4(t,e,n){const r=wt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Tm(r,i,n),await fd(r,i,"getOobCode",i4)}async function T4(t,e,n){await zb(he(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pw(t),r})}async function R4(t,e){await t4(he(t),{oobCode:e})}async function Qb(t,e){const n=he(t),r=await zb(n,{oobCode:e}),i=r.requestType;switch(Z(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Z(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Z(r.mfaInfo,n,"internal-error");default:Z(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Ud._fromServerResponse(wt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function P4(t,e){const{data:n}=await Qb(he(t),e);return n.email}async function Jb(t,e,n){if(_t(t.app))return Promise.reject(Gt(t));const r=wt(t),o=await fd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$b).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&pw(t),l}),a=await hr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Xb(t,e,n){return _t(t.app)?Promise.reject(Gt(t)):Sm(he(t),Ks.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pw(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,e,n){const r=wt(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){Z(a.handleCodeInApp,r,"argument-error"),a&&Tm(r,o,a)}s(i,n),await fd(r,i,"getOobCode",s4)}function b4(t,e){const n=Em.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function k4(t,e,n){if(_t(t.app))return Promise.reject(Gt(t));const r=he(t),i=Ks.credentialWithLink(e,n||dd());return Z(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Sm(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e){return St(t,"POST","/v1/accounts:createAuthUri",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t,e){const n=aw()?dd():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await C4(he(t),r);return i||[]}async function D4(t,e){const n=he(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Tm(n.auth,i,e);const{email:s}=await r4(n.auth,i);s!==t.email&&await t.reload()}async function N4(t,e,n){const r=he(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Tm(r.auth,s,n);const{email:o}=await o4(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(t,e){return St(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=he(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await xi(r,O4(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function V4(t,e){const n=he(t);return _t(n.auth.app)?Promise.reject(Gt(n.auth)):Zb(n,e,null)}function L4(t,e){return Zb(he(t),null,e)}async function Zb(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await xi(t,Zj(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=_m(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Il(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new U4(s,i);case"github.com":return new j4(s,i);case"google.com":return new B4(s,i);case"twitter.com":return new z4(s,i,t.screenName||null);case"custom":case"anonymous":return new Il(s,null);default:return new Il(s,r,i)}}class Il{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class ek extends Il{constructor(e,n,r,i){super(e,n,r),this.username=i}}class U4 extends Il{constructor(e,n){super(e,"facebook.com",n)}}class j4 extends ek{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class B4 extends Il{constructor(e,n){super(e,"google.com",n)}}class z4 extends ek{constructor(e,n,r){super(e,"twitter.com",n,r)}}function $4(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:F4(n)}function W4(t,e,n,r){return he(t).onIdTokenChanged(e,n,r)}function q4(t,e,n){return he(t).beforeAuthStateChanged(e,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new xo("enroll",e,n)}static _fromMfaPendingCredential(e){return new xo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return xo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return xo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=wt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Ud._fromServerResponse(r,a));Z(i.mfaPendingCredential,r,"internal-error");const o=xo._fromMfaPendingCredential(i.mfaPendingCredential);return new mw(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const d=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const f=await hr._fromIdTokenResponse(r,n.operationType,d);return await r._updateCurrentUser(f.user),f;case"reauthenticate":return Z(n.user,r,"internal-error"),hr._forOperation(n.user,n.operationType,d);default:Kt(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function G4(t,e){var n;const r=he(t),i=e;return Z(e.customData.operationType,r,"argument-error"),Z((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),mw._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t,e){return St(t,"POST","/v2/accounts/mfaEnrollment:start",It(t,e))}function K4(t,e){return St(t,"POST","/v2/accounts/mfaEnrollment:finalize",It(t,e))}function Y4(t,e){return St(t,"POST","/v2/accounts/mfaEnrollment:withdraw",It(t,e))}class gw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Ud._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new gw(e)}async getSession(){return xo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await xi(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await xi(this.user,Y4(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const _y=new WeakMap;function Q4(t){const e=he(t);return _y.has(e)||_y.set(e,gw._fromUser(e)),_y.get(e)}const kp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kp,"1"),this.storage.removeItem(kp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){const t=ut();return uw(t)||lu(t)}const X4=1e3,Z4=10;class nk extends tk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=J4()&&Vj(),this.fallbackToPolling=Lb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Mj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Z4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},X4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nk.type="LOCAL";const Rm=nk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk extends tk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rk.type="SESSION";const Ds=rk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Pm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async d=>d(n.origin,s)),l=await eB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const d=jd("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(v.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return window}function nB(t){bt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(){return typeof bt().WorkerGlobalScope<"u"&&typeof bt().importScripts=="function"}async function rB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sB(){return yw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="firebaseLocalStorageDb",oB=1,Cp="firebaseLocalStorage",sk="fbase_key";class Bd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Am(t,e){return t.transaction([Cp],e?"readwrite":"readonly").objectStore(Cp)}function aB(){const t=indexedDB.deleteDatabase(ik);return new Bd(t).toPromise()}function t_(){const t=indexedDB.open(ik,oB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cp,{keyPath:sk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cp)?e(r):(r.close(),await aB(),e(await t_()))})})}async function oT(t,e,n){const r=Am(t,!0).put({[sk]:e,value:n});return new Bd(r).toPromise()}async function lB(t,e){const n=Am(t,!1).get(e),r=await new Bd(n).toPromise();return r===void 0?null:r.value}function aT(t,e){const n=Am(t,!0).delete(e);return new Bd(n).toPromise()}const uB=800,cB=3;class ok{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await t_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pm._getInstance(sB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rB(),!this.activeServiceWorker)return;this.sender=new tB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await t_();return await oT(e,kp,"1"),await aT(e,kp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Am(i,!1).getAll();return new Bd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ok.type="LOCAL";const Fl=ok;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(t,e){return St(t,"POST","/v2/accounts/mfaSignIn:start",It(t,e))}function hB(t,e){return St(t,"POST","/v2/accounts/mfaSignIn:finalize",It(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB=500,pB=6e4,pf=1e12;class mB{constructor(e){this.auth=e,this.counter=pf,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new gB(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||pf;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||pf;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||pf;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class gB{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;Z(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=yB(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},pB)},fB))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function yB(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=Ub("rcb"),vB=new Vd(3e4,6e4);class _B{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=bt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Z(wB(n),e,"argument-error"),this.shouldResolveImmediately(n)&&JS(bt().grecaptcha)?Promise.resolve(bt().grecaptcha):new Promise((r,i)=>{const s=bt().setTimeout(()=>{i(Vt(e,"network-request-failed"))},vB.get());bt()[wy]=()=>{bt().clearTimeout(s),delete bt()[wy];const a=bt().grecaptcha;if(!a||!JS(a)){i(Vt(e,"internal-error"));return}const l=a.render;a.render=(d,f)=>{const p=l(d,f);return this.counter++,p},this.hostLanguage=n,r(a)};const o=`${$j()}?${su({onload:wy,render:"explicit",hl:n})}`;cw(o).catch(()=>{clearTimeout(s),i(Vt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=bt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function wB(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class EB{async load(e){return new mB(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="recaptcha",IB={theme:"light",type:"image"};let SB=class{constructor(e,n,r=Object.assign({},IB)){this.parameters=r,this.type=ak,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wt(e),this.isInvisible=this.parameters.size==="invisible",Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;Z(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new EB:new _B,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Z(!this.parameters.sitekey,this.auth,"argument-error"),Z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=bt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Z(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Z(aw()&&!yw(),this.auth,"internal-error"),await TB(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Ij(this.auth);Z(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function TB(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Lo._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function RB(t,e,n){if(_t(t.app))return Promise.reject(Gt(t));const r=wt(t),i=await bm(r,e,he(n));return new vw(i,s=>Sm(r,s))}async function PB(t,e,n){const r=he(t);await Im(!1,r,"phone");const i=await bm(r.auth,e,he(n));return new vw(i,s=>Kb(r,s))}async function AB(t,e,n){const r=he(t);if(_t(r.auth.app))return Promise.reject(Gt(r.auth));const i=await bm(r.auth,e,he(n));return new vw(i,s=>Yb(r,s))}async function bm(t,e,n){var r;const i=await n.verify();try{Z(typeof i=="string",t,"argument-error"),Z(n.type===ak,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return Z(o.type==="enroll",t,"internal-error"),(await H4(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{Z(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return Z(a,t,"missing-multi-factor-info"),(await dB(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await c4(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function bB(t,e){const n=he(t);if(_t(n.auth.app))return Promise.reject(Gt(n.auth));await dw(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho=class Lf{constructor(e){this.providerId=Lf.PROVIDER_ID,this.auth=wt(e)}verifyPhoneNumber(e,n){return bm(this.auth,e,he(n))}static credential(e,n){return Lo._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Lf.credentialFromTaggedObject(n)}static credentialFromError(e){return Lf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Lo._fromTokenResponse(n,r):null}};Ho.PROVIDER_ID="phone";Ho.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t,e){return e?Wn(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w extends uu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kB(t){return Hb(t.auth,new _w(t),t.bypassAuthState)}function CB(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),Gb(n,new _w(t),t.bypassAuthState)}async function xB(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),dw(n,new _w(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kB;case"linkViaPopup":case"linkViaRedirect":return xB;case"reauthViaPopup":case"reauthViaRedirect":return CB;default:Kt(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB=new Vd(2e3,1e4);async function NB(t,e,n){if(_t(t.app))return Promise.reject(Vt(t,"operation-not-supported-in-this-environment"));const r=wt(t);au(t,e,Li);const i=ua(r,n);return new Si(r,"signInViaPopup",e,i).executeNotNull()}async function OB(t,e,n){const r=he(t);if(_t(r.auth.app))return Promise.reject(Vt(r.auth,"operation-not-supported-in-this-environment"));au(r.auth,e,Li);const i=ua(r.auth,n);return new Si(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function MB(t,e,n){const r=he(t);au(r.auth,e,Li);const i=ua(r.auth,n);return new Si(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Si extends lk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Si.currentPopupAction&&Si.currentPopupAction.cancel(),Si.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=jd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Si.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DB.get())};e()}}Si.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB="pendingRedirect",Nc=new Map;class LB extends lk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nc.get(this.auth._key());if(!e){try{const r=await FB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nc.set(this.auth._key(),e)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FB(t,e){const n=ck(e),r=uk(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function ww(t,e){return uk(t)._set(ck(e),"true")}function UB(){Nc.clear()}function Ew(t,e){Nc.set(t._key(),e)}function uk(t){return Wn(t._redirectPersistence)}function ck(t){return Vo(VB,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(t,e,n){return BB(t,e,n)}async function BB(t,e,n){if(_t(t.app))return Promise.reject(Gt(t));const r=wt(t);au(t,e,Li),await r._initializationPromise;const i=ua(r,n);return await ww(i,r),i._openRedirect(r,e,"signInViaRedirect")}function zB(t,e,n){return $B(t,e,n)}async function $B(t,e,n){const r=he(t);if(au(r.auth,e,Li),_t(r.auth.app))return Promise.reject(Gt(r.auth));await r.auth._initializationPromise;const i=ua(r.auth,n);await ww(i,r.auth);const s=await dk(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function WB(t,e,n){return qB(t,e,n)}async function qB(t,e,n){const r=he(t);au(r.auth,e,Li),await r.auth._initializationPromise;const i=ua(r.auth,n);await Im(!1,r,e.providerId),await ww(i,r.auth);const s=await dk(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function GB(t,e){return await wt(t)._initializationPromise,km(t,e,!1)}async function km(t,e,n=!1){if(_t(t.app))return Promise.reject(Gt(t));const r=wt(t),i=ua(r,e),o=await new LB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function dk(t){const e=jd(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=10*60*1e3;class hk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HB&&this.cachedEventUids.clear(),this.cachedEventUids.has(lT(e))}saveEventToCache(e){this.cachedEventUids.add(lT(e)),this.lastProcessedEventTime=Date.now()}}function lT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(t,e={}){return St(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QB=/^https?/;async function JB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pk(t);for(const n of e)try{if(XB(n))return}catch{}Kt(t,"unauthorized-domain")}function XB(t){const e=dd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!QB.test(n))return!1;if(YB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=new Vd(3e4,6e4);function uT(){const t=bt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function e5(t){return new Promise((e,n)=>{var r,i,s;function o(){uT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uT(),n(Vt(t,"network-request-failed"))},timeout:ZB.get()})}if(!((i=(r=bt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=bt().gapi)===null||s===void 0)&&s.load)o();else{const a=Ub("iframefcb");return bt()[a]=()=>{gapi.load?o():n(Vt(t,"network-request-failed"))},cw(`${qj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ff=null,e})}let Ff=null;function t5(t){return Ff=Ff||e5(t),Ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=new Vd(5e3,15e3),r5="__/auth/iframe",i5="emulator/auth/iframe",s5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a5(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lw(e,i5):`https://${t.config.authDomain}/${r5}`,r={apiKey:e.apiKey,appName:t.name,v:Hs},i=o5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${su(r).slice(1)}`}async function l5(t){const e=await t5(t),n=bt().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:a5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Vt(t,"network-request-failed"),a=bt().setTimeout(()=>{s(o)},n5.get());function l(){bt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c5=500,d5=600,h5="_blank",f5="http://localhost";class cT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p5(t,e,n,r=c5,i=d5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},u5),{width:r.toString(),height:i.toString(),top:s,left:o}),d=ut().toLowerCase();n&&(a=Nb(d)?h5:n),Db(d)&&(e=e||f5,l.scrollbars="yes");const f=Object.entries(l).reduce((v,[w,I])=>`${v}${w}=${I},`,"");if(Oj(d)&&a!=="_self")return m5(e||"",a),new cT(null);const p=window.open(e||"",a,f);Z(p,t,"popup-blocked");try{p.focus()}catch{}return new cT(p)}function m5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5="__/auth/handler",y5="emulator/auth/handler",v5=encodeURIComponent("fac");async function n_(t,e,n,r,i,s){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hs,eventId:i};if(e instanceof Li){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$F(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof cu){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),d=l?`#${v5}=${encodeURIComponent(l)}`:"";return`${_5(t)}?${su(a).slice(1)}${d}`}function _5({config:t}){return t.emulator?lw(t,y5):`https://${t.authDomain}/${g5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="webStorageSupport";class w5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ds,this._completeRedirectFn=km,this._overrideRedirectResult=Ew}async _openPopup(e,n,r,i){var s;Nr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await n_(e,n,r,dd(),i);return p5(e,o,jd())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await n_(e,n,r,dd(),i);return nB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Nr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await l5(e),r=new hk(e);return n.register("authEvent",i=>(Z(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ey,{type:Ey},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ey];o!==void 0&&n(!!o),Kt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Lb()||uw()||lu()}}const mk=w5;class E5{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Qr("unexpected MultiFactorSessionType")}}}class Iw extends E5{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Iw(e)}_finalizeEnroll(e,n,r){return K4(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return hB(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class gk{constructor(){}static assertion(e){return Iw._fromCredential(e)}}gk.FACTOR_ID="phone";var dT="@firebase/auth",hT="1.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function T5(t){xs(new ri("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fb(t)},d=new Bj(r,i,s,l);return Qj(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xs(new ri("auth-internal",e=>{const n=wt(e.getProvider("auth").getImmediate());return(r=>new I5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(dT,hT,S5(t)),Cr(dT,hT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=5*60,P5=sb("authIdTokenMaxAge")||R5;let fT=null;const A5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>P5)return;const i=n==null?void 0:n.token;fT!==i&&(fT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function b5(t=vb()){const e=vm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Yj(t,{popupRedirectResolver:mk,persistence:[Fl,Rm,Ds]}),r=sb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=A5(s.toString());q4(n,o,()=>o(n.currentUser)),W4(n,a=>o(a))}}const i=MF("auth");return i&&jb(n,`http://${i}`),n}function k5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Vt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",k5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});T5("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=2e3;async function x5(t,e,n){var r;const{BuildInfo:i}=Ko();Nr(e.sessionId,"AuthEvent did not contain a session ID");const s=await V5(e.sessionId),o={};return lu()?o.ibi=i.packageName:Ld()?o.apn=i.packageName:Kt(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,n_(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function D5(t){const{BuildInfo:e}=Ko(),n={};lu()?n.iosBundleId=e.packageName:Ld()?n.androidPackageName=e.packageName:Kt(t,"operation-not-supported-in-this-environment"),await pk(t,n)}function N5(t){const{cordova:e}=Ko();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Nj()?"_blank":"_system","location=yes"),n(i)})})}async function O5(t,e,n){const{cordova:r}=Ko();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var p;s();const v=(p=r.plugins.browsertab)===null||p===void 0?void 0:p.close;typeof v=="function"&&v(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function d(){a||(a=window.setTimeout(()=>{o(Vt(t,"redirect-cancelled-by-user"))},C5))}function f(){(document==null?void 0:document.visibilityState)==="visible"&&d()}e.addPassiveListener(l),document.addEventListener("resume",d,!1),Ld()&&document.addEventListener("visibilitychange",f,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",f,!1),a&&window.clearTimeout(a)}})}finally{i()}}function M5(t){var e,n,r,i,s,o,a,l,d,f;const p=Ko();Z(typeof((e=p==null?void 0:p.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Z(typeof((n=p==null?void 0:p.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Z(typeof((s=(i=(r=p==null?void 0:p.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z(typeof((l=(a=(o=p==null?void 0:p.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z(typeof((f=(d=p==null?void 0:p.cordova)===null||d===void 0?void 0:d.InAppBrowser)===null||f===void 0?void 0:f.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function V5(t){const e=L5(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function L5(t){if(Nr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=20;class U5 extends hk{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function j5(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:$5(),postBody:null,tenantId:t.tenantId,error:Vt(t,"no-auth-event")}}function B5(t,e){return r_()._set(i_(t),e)}async function pT(t){const e=await r_()._get(i_(t));return e&&await r_()._remove(i_(t)),e}function z5(t,e){var n,r;const i=q5(e);if(i.includes("/__/auth/callback")){const s=Uf(i),o=s.firebaseError?W5(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Vt(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function $5(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<F5;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function r_(){return Wn(Rm)}function i_(t){return Vo("authEvent",t.config.apiKey,t.name)}function W5(t){try{return JSON.parse(t)}catch{return null}}function q5(t){const e=Uf(t),n=e.link?decodeURIComponent(e.link):void 0,r=Uf(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Uf(i).link||i||r||n||t}function Uf(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return dl(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=500;class H5{constructor(){this._redirectPersistence=Ds,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=km,this._overrideRedirectResult=Ew}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new U5(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Kt(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){M5(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),UB(),await this._originValidation(e);const o=j5(e,r,i);await B5(e,o);const a=await x5(e,o,n),l=await N5(a);return O5(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=D5(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Ko(),o=setTimeout(async()=>{await pT(e),n.onEvent(mT())},G5),a=async f=>{clearTimeout(o);const p=await pT(e);let v=null;p&&(f!=null&&f.url)&&(v=z5(p,f.url)),n.onEvent(v||mT())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,d=`${s.packageName.toLowerCase()}://`;Ko().handleOpenURL=async f=>{if(f.toLowerCase().startsWith(d)&&a({url:f}),typeof l=="function")try{l(f)}catch(p){console.error(p)}}}}const K5=H5;function mT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Vt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(t,e){wt(t)._logFramework(e)}var Q5="@firebase/auth-compat",J5="0.5.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=1e3;function Oc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function Z5(){return Oc()==="http:"||Oc()==="https:"}function yk(t=ut()){return!!((Oc()==="file:"||Oc()==="ionic:"||Oc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function e3(){return Z0()||X0()}function t3(){return lb()&&(document==null?void 0:document.documentMode)===11}function n3(t=ut()){return/Edge\/\d+/.test(t)}function r3(t=ut()){return t3()||n3(t)}function vk(){try{const t=self.localStorage,e=jd();if(t)return t.setItem(e,"1"),t.removeItem(e),r3()?ld():!0}catch{return Sw()&&ld()}return!1}function Sw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Iy(){return(Z5()||ab()||yk())&&!e3()&&vk()&&!Sw()}function _k(){return yk()&&typeof document<"u"}async function i3(){return _k()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},X5);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function s3(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn={LOCAL:"local",NONE:"none",SESSION:"session"},tc=Z,wk="persistence";function o3(t,e){if(tc(Object.values(zn).includes(e),t,"invalid-persistence-type"),Z0()){tc(e!==zn.SESSION,t,"unsupported-persistence-type");return}if(X0()){tc(e===zn.NONE,t,"unsupported-persistence-type");return}if(Sw()){tc(e===zn.NONE||e===zn.LOCAL&&ld(),t,"unsupported-persistence-type");return}tc(e===zn.NONE||vk(),t,"unsupported-persistence-type")}async function s_(t){await t._initializationPromise;const e=Ek(),n=Vo(wk,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function a3(t,e){const n=Ek();if(!n)return[];const r=Vo(wk,t,e);switch(n.getItem(r)){case zn.NONE:return[Vl];case zn.LOCAL:return[Fl,Ds];case zn.SESSION:return[Ds];default:return[]}}function Ek(){var t;try{return((t=s3())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=Z;class fs{constructor(){this.browserResolver=Wn(mk),this.cordovaResolver=Wn(K5),this.underlyingResolver=null,this._redirectPersistence=Ds,this._completeRedirectFn=km,this._overrideRedirectResult=Ew}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return _k()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return l3(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await i3();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t){return t.unwrap()}function u3(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t){return Sk(t)}function d3(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new h3(t,G4(t,e))}else if(r){const i=Sk(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function Sk(t){const{_tokenResponse:e}=t instanceof wn?t.customData:t;if(!e)return null;if(!(t instanceof wn)&&"temporaryProof"in e&&"phoneNumber"in e)return Ho.credentialFromResult(t);const n=e.providerId;if(!n||n===ec.PASSWORD)return null;let r;switch(n){case ec.GOOGLE:r=Hr;break;case ec.FACEBOOK:r=Gr;break;case ec.GITHUB:r=Kr;break;case ec.TWITTER:r=Yr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Ll._create(n,a):ii._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new El(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof wn?r.credentialFromError(t):r.credentialFromResult(t)}function bn(t,e){return e.catch(n=>{throw n instanceof wn&&d3(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:c3(n),additionalUserInfo:$4(n),user:Cm.getOrCreate(i)}})}async function o_(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>bn(t,n.confirm(r))}}class h3{constructor(e,n){this.resolver=n,this.auth=u3(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return bn(Ik(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm=class gc{constructor(e){this._delegate=e,this.multiFactor=Q4(e)}static getOrCreate(e){return gc.USER_MAP.has(e)||gc.USER_MAP.set(e,new gc(e)),gc.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return bn(this.auth,Kb(this._delegate,e))}async linkWithPhoneNumber(e,n){return o_(this.auth,PB(this._delegate,e,n))}async linkWithPopup(e){return bn(this.auth,MB(this._delegate,e,fs))}async linkWithRedirect(e){return await s_(wt(this.auth)),WB(this._delegate,e,fs)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return bn(this.auth,Yb(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return o_(this.auth,AB(this._delegate,e,n))}reauthenticateWithPopup(e){return bn(this.auth,OB(this._delegate,e,fs))}async reauthenticateWithRedirect(e){return await s_(wt(this.auth)),zB(this._delegate,e,fs)}sendEmailVerification(e){return D4(this._delegate,e)}async unlink(e){return await w4(this._delegate,e),this}updateEmail(e){return V4(this._delegate,e)}updatePassword(e){return L4(this._delegate,e)}updatePhoneNumber(e){return bB(this._delegate,e)}updateProfile(e){return M4(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return N4(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Cm.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=Z;class a_{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;nc(r,"invalid-api-key",{appName:e.name}),nc(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?fs:void 0;this._delegate=n.initialize({options:{persistence:f3(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(hj),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Cm.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){jb(this._delegate,e,n)}applyActionCode(e){return R4(this._delegate,e)}checkActionCode(e){return Qb(this._delegate,e)}confirmPasswordReset(e,n){return T4(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return bn(this._delegate,Jb(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return x4(this._delegate,e)}isSignInWithEmailLink(e){return b4(this._delegate,e)}async getRedirectResult(){nc(Iy(),this._delegate,"operation-not-supported-in-this-environment");const e=await GB(this._delegate,fs);return e?bn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Y5(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=gT(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=gT(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return A4(this._delegate,e,n)}sendPasswordResetEmail(e,n){return S4(this._delegate,e,n||void 0)}async setPersistence(e){o3(this._delegate,e);let n;switch(e){case zn.SESSION:n=Ds;break;case zn.LOCAL:n=await Wn(Fl)._isAvailable()?Fl:Rm;break;case zn.NONE:n=Vl;break;default:return Kt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return bn(this._delegate,_4(this._delegate))}signInWithCredential(e){return bn(this._delegate,Sm(this._delegate,e))}signInWithCustomToken(e){return bn(this._delegate,I4(this._delegate,e))}signInWithEmailAndPassword(e,n){return bn(this._delegate,Xb(this._delegate,e,n))}signInWithEmailLink(e,n){return bn(this._delegate,k4(this._delegate,e,n))}signInWithPhoneNumber(e,n){return o_(this._delegate,RB(this._delegate,e,n))}async signInWithPopup(e){return nc(Iy(),this._delegate,"operation-not-supported-in-this-environment"),bn(this._delegate,NB(this._delegate,e,fs))}async signInWithRedirect(e){return nc(Iy(),this._delegate,"operation-not-supported-in-this-environment"),await s_(this._delegate),jB(this._delegate,e,fs)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return P4(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}a_.Persistence=zn;function gT(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&Cm.getOrCreate(o)),error:e,complete:n}}function f3(t,e){const n=a3(t,e);if(typeof self<"u"&&!n.includes(Fl)&&n.push(Fl),typeof window<"u")for(const r of[Rm,Ds])n.includes(r)||n.push(r);return n.includes(Vl)||n.push(Vl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.providerId="phone",this._delegate=new Ho(Ik(ou.auth()))}static credential(e,n){return Ho.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}Tw.PHONE_SIGN_IN_METHOD=Ho.PHONE_SIGN_IN_METHOD;Tw.PROVIDER_ID=Ho.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=Z;class m3{constructor(e,n,r=ou.app()){var i;p3((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new SB(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3="auth-compat";function y3(t){t.INTERNAL.registerComponent(new ri(g3,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new a_(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ja.EMAIL_SIGNIN,PASSWORD_RESET:ja.PASSWORD_RESET,RECOVER_EMAIL:ja.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ja.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ja.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ja.VERIFY_EMAIL}},EmailAuthProvider:Ks,FacebookAuthProvider:Gr,GithubAuthProvider:Kr,GoogleAuthProvider:Hr,OAuthProvider:El,SAMLAuthProvider:Ap,PhoneAuthProvider:Tw,PhoneMultiFactorGenerator:gk,RecaptchaVerifier:m3,TwitterAuthProvider:Yr,Auth:a_,AuthCredential:uu,Error:wn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Q5,J5)}y3(ou);var yT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fo,Tk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function x(){}x.prototype=T.prototype,C.D=T.prototype,C.prototype=new x,C.prototype.constructor=C,C.C=function(D,V,L){for(var N=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)N[Xt-2]=arguments[Xt];return T.prototype[V].apply(D,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,T,x){x||(x=0);var D=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)D[V]=T.charCodeAt(x++)|T.charCodeAt(x++)<<8|T.charCodeAt(x++)<<16|T.charCodeAt(x++)<<24;else for(V=0;16>V;++V)D[V]=T[x++]|T[x++]<<8|T[x++]<<16|T[x++]<<24;T=C.g[0],x=C.g[1],V=C.g[2];var L=C.g[3],N=T+(L^x&(V^L))+D[0]+3614090360&4294967295;T=x+(N<<7&4294967295|N>>>25),N=L+(V^T&(x^V))+D[1]+3905402710&4294967295,L=T+(N<<12&4294967295|N>>>20),N=V+(x^L&(T^x))+D[2]+606105819&4294967295,V=L+(N<<17&4294967295|N>>>15),N=x+(T^V&(L^T))+D[3]+3250441966&4294967295,x=V+(N<<22&4294967295|N>>>10),N=T+(L^x&(V^L))+D[4]+4118548399&4294967295,T=x+(N<<7&4294967295|N>>>25),N=L+(V^T&(x^V))+D[5]+1200080426&4294967295,L=T+(N<<12&4294967295|N>>>20),N=V+(x^L&(T^x))+D[6]+2821735955&4294967295,V=L+(N<<17&4294967295|N>>>15),N=x+(T^V&(L^T))+D[7]+4249261313&4294967295,x=V+(N<<22&4294967295|N>>>10),N=T+(L^x&(V^L))+D[8]+1770035416&4294967295,T=x+(N<<7&4294967295|N>>>25),N=L+(V^T&(x^V))+D[9]+2336552879&4294967295,L=T+(N<<12&4294967295|N>>>20),N=V+(x^L&(T^x))+D[10]+4294925233&4294967295,V=L+(N<<17&4294967295|N>>>15),N=x+(T^V&(L^T))+D[11]+2304563134&4294967295,x=V+(N<<22&4294967295|N>>>10),N=T+(L^x&(V^L))+D[12]+1804603682&4294967295,T=x+(N<<7&4294967295|N>>>25),N=L+(V^T&(x^V))+D[13]+4254626195&4294967295,L=T+(N<<12&4294967295|N>>>20),N=V+(x^L&(T^x))+D[14]+2792965006&4294967295,V=L+(N<<17&4294967295|N>>>15),N=x+(T^V&(L^T))+D[15]+1236535329&4294967295,x=V+(N<<22&4294967295|N>>>10),N=T+(V^L&(x^V))+D[1]+4129170786&4294967295,T=x+(N<<5&4294967295|N>>>27),N=L+(x^V&(T^x))+D[6]+3225465664&4294967295,L=T+(N<<9&4294967295|N>>>23),N=V+(T^x&(L^T))+D[11]+643717713&4294967295,V=L+(N<<14&4294967295|N>>>18),N=x+(L^T&(V^L))+D[0]+3921069994&4294967295,x=V+(N<<20&4294967295|N>>>12),N=T+(V^L&(x^V))+D[5]+3593408605&4294967295,T=x+(N<<5&4294967295|N>>>27),N=L+(x^V&(T^x))+D[10]+38016083&4294967295,L=T+(N<<9&4294967295|N>>>23),N=V+(T^x&(L^T))+D[15]+3634488961&4294967295,V=L+(N<<14&4294967295|N>>>18),N=x+(L^T&(V^L))+D[4]+3889429448&4294967295,x=V+(N<<20&4294967295|N>>>12),N=T+(V^L&(x^V))+D[9]+568446438&4294967295,T=x+(N<<5&4294967295|N>>>27),N=L+(x^V&(T^x))+D[14]+3275163606&4294967295,L=T+(N<<9&4294967295|N>>>23),N=V+(T^x&(L^T))+D[3]+4107603335&4294967295,V=L+(N<<14&4294967295|N>>>18),N=x+(L^T&(V^L))+D[8]+1163531501&4294967295,x=V+(N<<20&4294967295|N>>>12),N=T+(V^L&(x^V))+D[13]+2850285829&4294967295,T=x+(N<<5&4294967295|N>>>27),N=L+(x^V&(T^x))+D[2]+4243563512&4294967295,L=T+(N<<9&4294967295|N>>>23),N=V+(T^x&(L^T))+D[7]+1735328473&4294967295,V=L+(N<<14&4294967295|N>>>18),N=x+(L^T&(V^L))+D[12]+2368359562&4294967295,x=V+(N<<20&4294967295|N>>>12),N=T+(x^V^L)+D[5]+4294588738&4294967295,T=x+(N<<4&4294967295|N>>>28),N=L+(T^x^V)+D[8]+2272392833&4294967295,L=T+(N<<11&4294967295|N>>>21),N=V+(L^T^x)+D[11]+1839030562&4294967295,V=L+(N<<16&4294967295|N>>>16),N=x+(V^L^T)+D[14]+4259657740&4294967295,x=V+(N<<23&4294967295|N>>>9),N=T+(x^V^L)+D[1]+2763975236&4294967295,T=x+(N<<4&4294967295|N>>>28),N=L+(T^x^V)+D[4]+1272893353&4294967295,L=T+(N<<11&4294967295|N>>>21),N=V+(L^T^x)+D[7]+4139469664&4294967295,V=L+(N<<16&4294967295|N>>>16),N=x+(V^L^T)+D[10]+3200236656&4294967295,x=V+(N<<23&4294967295|N>>>9),N=T+(x^V^L)+D[13]+681279174&4294967295,T=x+(N<<4&4294967295|N>>>28),N=L+(T^x^V)+D[0]+3936430074&4294967295,L=T+(N<<11&4294967295|N>>>21),N=V+(L^T^x)+D[3]+3572445317&4294967295,V=L+(N<<16&4294967295|N>>>16),N=x+(V^L^T)+D[6]+76029189&4294967295,x=V+(N<<23&4294967295|N>>>9),N=T+(x^V^L)+D[9]+3654602809&4294967295,T=x+(N<<4&4294967295|N>>>28),N=L+(T^x^V)+D[12]+3873151461&4294967295,L=T+(N<<11&4294967295|N>>>21),N=V+(L^T^x)+D[15]+530742520&4294967295,V=L+(N<<16&4294967295|N>>>16),N=x+(V^L^T)+D[2]+3299628645&4294967295,x=V+(N<<23&4294967295|N>>>9),N=T+(V^(x|~L))+D[0]+4096336452&4294967295,T=x+(N<<6&4294967295|N>>>26),N=L+(x^(T|~V))+D[7]+1126891415&4294967295,L=T+(N<<10&4294967295|N>>>22),N=V+(T^(L|~x))+D[14]+2878612391&4294967295,V=L+(N<<15&4294967295|N>>>17),N=x+(L^(V|~T))+D[5]+4237533241&4294967295,x=V+(N<<21&4294967295|N>>>11),N=T+(V^(x|~L))+D[12]+1700485571&4294967295,T=x+(N<<6&4294967295|N>>>26),N=L+(x^(T|~V))+D[3]+2399980690&4294967295,L=T+(N<<10&4294967295|N>>>22),N=V+(T^(L|~x))+D[10]+4293915773&4294967295,V=L+(N<<15&4294967295|N>>>17),N=x+(L^(V|~T))+D[1]+2240044497&4294967295,x=V+(N<<21&4294967295|N>>>11),N=T+(V^(x|~L))+D[8]+1873313359&4294967295,T=x+(N<<6&4294967295|N>>>26),N=L+(x^(T|~V))+D[15]+4264355552&4294967295,L=T+(N<<10&4294967295|N>>>22),N=V+(T^(L|~x))+D[6]+2734768916&4294967295,V=L+(N<<15&4294967295|N>>>17),N=x+(L^(V|~T))+D[13]+1309151649&4294967295,x=V+(N<<21&4294967295|N>>>11),N=T+(V^(x|~L))+D[4]+4149444226&4294967295,T=x+(N<<6&4294967295|N>>>26),N=L+(x^(T|~V))+D[11]+3174756917&4294967295,L=T+(N<<10&4294967295|N>>>22),N=V+(T^(L|~x))+D[2]+718787259&4294967295,V=L+(N<<15&4294967295|N>>>17),N=x+(L^(V|~T))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var x=T-this.blockSize,D=this.B,V=this.h,L=0;L<T;){if(V==0)for(;L<=x;)i(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<T;)if(D[V++]=C.charCodeAt(L++),V==this.blockSize){i(this,D),V=0;break}}else for(;L<T;)if(D[V++]=C[L++],V==this.blockSize){i(this,D),V=0;break}}this.h=V,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var x=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=x&255,x/=256;for(this.u(C),C=Array(16),T=x=0;4>T;++T)for(var D=0;32>D;D+=8)C[x++]=this.g[T]>>>D&255;return C};function s(C,T){var x=a;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=T(C)}function o(C,T){this.h=T;for(var x=[],D=!0,V=C.length-1;0<=V;V--){var L=C[V]|0;D&&L==T||(x[V]=L,D=!1)}this.g=x}var a={};function l(C){return-128<=C&&128>C?s(C,function(T){return new o([T|0],0>T?-1:0)}):new o([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return k(d(-C));for(var T=[],x=1,D=0;C>=x;D++)T[D]=C/x|0,x*=4294967296;return new o(T,0)}function f(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return k(f(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=d(Math.pow(T,8)),D=p,V=0;V<C.length;V+=8){var L=Math.min(8,C.length-V),N=parseInt(C.substring(V,V+L),T);8>L?(L=d(Math.pow(T,L)),D=D.j(L).add(d(N))):(D=D.j(x),D=D.add(d(N)))}return D}var p=l(0),v=l(1),w=l(16777216);t=o.prototype,t.m=function(){if(A(this))return-k(this).m();for(var C=0,T=1,x=0;x<this.g.length;x++){var D=this.i(x);C+=(0<=D?D:4294967296+D)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I(this))return"0";if(A(this))return"-"+k(this).toString(C);for(var T=d(Math.pow(C,6)),x=this,D="";;){var V=U(x,T).g;x=b(x,V.j(T));var L=((0<x.g.length?x.g[0]:x.h)>>>0).toString(C);if(x=V,I(x))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function I(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function A(C){return C.h==-1}t.l=function(C){return C=b(this,C),A(C)?-1:I(C)?0:1};function k(C){for(var T=C.g.length,x=[],D=0;D<T;D++)x[D]=~C.g[D];return new o(x,~C.h).add(v)}t.abs=function(){return A(this)?k(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),x=[],D=0,V=0;V<=T;V++){var L=D+(this.i(V)&65535)+(C.i(V)&65535),N=(L>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);D=N>>>16,L&=65535,N&=65535,x[V]=N<<16|L}return new o(x,x[x.length-1]&-2147483648?-1:0)};function b(C,T){return C.add(k(T))}t.j=function(C){if(I(this)||I(C))return p;if(A(this))return A(C)?k(this).j(k(C)):k(k(this).j(C));if(A(C))return k(this.j(k(C)));if(0>this.l(w)&&0>C.l(w))return d(this.m()*C.m());for(var T=this.g.length+C.g.length,x=[],D=0;D<2*T;D++)x[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<C.g.length;V++){var L=this.i(D)>>>16,N=this.i(D)&65535,Xt=C.i(V)>>>16,Ke=C.i(V)&65535;x[2*D+2*V]+=N*Ke,R(x,2*D+2*V),x[2*D+2*V+1]+=L*Ke,R(x,2*D+2*V+1),x[2*D+2*V+1]+=N*Xt,R(x,2*D+2*V+1),x[2*D+2*V+2]+=L*Xt,R(x,2*D+2*V+2)}for(D=0;D<T;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=T;D<2*T;D++)x[D]=0;return new o(x,0)};function R(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function P(C,T){this.g=C,this.h=T}function U(C,T){if(I(T))throw Error("division by zero");if(I(C))return new P(p,p);if(A(C))return T=U(k(C),T),new P(k(T.g),k(T.h));if(A(T))return T=U(C,k(T)),new P(k(T.g),T.h);if(30<C.g.length){if(A(C)||A(T))throw Error("slowDivide_ only works with positive integers.");for(var x=v,D=T;0>=D.l(C);)x=B(x),D=B(D);var V=G(x,1),L=G(D,1);for(D=G(D,2),x=G(x,2);!I(D);){var N=L.add(D);0>=N.l(C)&&(V=V.add(x),L=N),D=G(D,1),x=G(x,1)}return T=b(C,V.j(T)),new P(V,T)}for(V=p;0<=C.l(T);){for(x=Math.max(1,Math.floor(C.m()/T.m())),D=Math.ceil(Math.log(x)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=d(x),N=L.j(T);A(N)||0<N.l(C);)x-=D,L=d(x),N=L.j(T);I(L)&&(L=v),V=V.add(L),C=b(C,N)}return new P(V,C)}t.A=function(C){return U(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),x=[],D=0;D<T;D++)x[D]=this.i(D)&C.i(D);return new o(x,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),x=[],D=0;D<T;D++)x[D]=this.i(D)|C.i(D);return new o(x,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),x=[],D=0;D<T;D++)x[D]=this.i(D)^C.i(D);return new o(x,this.h^C.h)};function B(C){for(var T=C.g.length+1,x=[],D=0;D<T;D++)x[D]=C.i(D)<<1|C.i(D-1)>>>31;return new o(x,C.h)}function G(C,T){var x=T>>5;T%=32;for(var D=C.g.length-x,V=[],L=0;L<D;L++)V[L]=0<T?C.i(L+x)>>>T|C.i(L+x+1)<<32-T:C.i(L+x);return new o(V,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Tk=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Fo=o}).apply(typeof yT<"u"?yT:typeof self<"u"?self:typeof window<"u"?window:{});var mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rk,Pk,yc,Ak,jf,l_,bk,kk,Ck;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,_){return c==Array.prototype||c==Object.prototype||(c[m]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof mf=="object"&&mf];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var F=c[S];if(!(F in _))break e;_=_[F]}c=c[c.length-1],S=_[c],m=m(S),m!=S&&m!=null&&e(_,c,{configurable:!0,writable:!0,value:m})}}function s(c,m){c instanceof String&&(c+="");var _=0,S=!1,F={next:function(){if(!S&&_<c.length){var z=_++;return{value:m(z,c[z]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(c){return c||function(){return s(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function d(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function f(c,m,_){return c.call.apply(c.bind,arguments)}function p(c,m,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),c.apply(m,F)}}return function(){return c.apply(m,arguments)}}function v(c,m,_){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,v.apply(null,arguments)}function w(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function I(c,m){function _(){}_.prototype=m.prototype,c.aa=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,F,z){for(var ee=Array(arguments.length-2),je=2;je<arguments.length;je++)ee[je-2]=arguments[je];return m.prototype[F].apply(S,ee)}}function A(c){const m=c.length;if(0<m){const _=Array(m);for(let S=0;S<m;S++)_[S]=c[S];return _}return[]}function k(c,m){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(l(S)){const F=c.length||0,z=S.length||0;c.length=F+z;for(let ee=0;ee<z;ee++)c[F+ee]=S[ee]}else c.push(S)}}class b{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function R(c){return/^[\s\xa0]*$/.test(c)}function P(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function U(c){return U[" "](c),c}U[" "]=function(){};var B=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function G(c,m,_){for(const S in c)m.call(_,c[S],S,c)}function C(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function T(c){const m={};for(const _ in c)m[_]=c[_];return m}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,m){let _,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(_ in S)c[_]=S[_];for(let z=0;z<x.length;z++)_=x[z],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function V(c){var m=1;c=c.split(":");const _=[];for(;0<m&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function L(c){a.setTimeout(()=>{throw c},0)}function N(){var c=pe;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Xt{constructor(){this.h=this.g=null}add(m,_){const S=Ke.get();S.set(m,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Ke=new b(()=>new fr,c=>c.reset());class fr{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,ne=!1,pe=new Xt,de=()=>{const c=a.Promise.resolve(void 0);gt=()=>{c.then(Ie)}};var Ie=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){L(_)}var m=Ke;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}ne=!1};function Ve(){this.s=this.s,this.C=this.C}Ve.prototype.s=!1,Ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Xe(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var sn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};a.addEventListener("test",_,m),a.removeEventListener("test",_,m)}catch{}return c}();function le(c,m){if(Xe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(B){e:{try{U(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else _=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pr[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&le.aa.h.call(this)}}I(le,Xe);var pr={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var mr="closure_listenable_"+(1e6*Math.random()|0),ma=0;function ih(c,m,_,S,F){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!S,this.ha=F,this.key=++ma,this.da=this.fa=!1}function ga(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ya(c){this.src=c,this.g={},this.h=0}ya.prototype.add=function(c,m,_,S,F){var z=c.toString();c=this.g[z],c||(c=this.g[z]=[],this.h++);var ee=Su(c,m,S,F);return-1<ee?(m=c[ee],_||(m.fa=!1)):(m=new ih(m,this.src,z,!!S,F),m.fa=_,c.push(m)),m};function Iu(c,m){var _=m.type;if(_ in c.g){var S=c.g[_],F=Array.prototype.indexOf.call(S,m,void 0),z;(z=0<=F)&&Array.prototype.splice.call(S,F,1),z&&(ga(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Su(c,m,_,S){for(var F=0;F<c.length;++F){var z=c[F];if(!z.da&&z.listener==m&&z.capture==!!_&&z.ha==S)return F}return-1}var Tu="closure_lm_"+(1e6*Math.random()|0),Ru={};function sh(c,m,_,S,F){if(Array.isArray(m)){for(var z=0;z<m.length;z++)sh(c,m[z],_,S,F);return null}return _=ku(_),c&&c[mr]?c.K(m,_,d(S)?!!S.capture:!!S,F):gg(c,m,_,!1,S,F)}function gg(c,m,_,S,F,z){if(!m)throw Error("Invalid event type");var ee=d(F)?!!F.capture:!!F,je=Au(c);if(je||(c[Tu]=je=new ya(c)),_=je.add(m,_,S,ee,z),_.proxy)return _;if(S=yg(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)sn||(F=ee),F===void 0&&(F=!1),c.addEventListener(m.toString(),S,F);else if(c.attachEvent)c.attachEvent(dn(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function yg(){function c(_){return m.call(c.src,c.listener,_)}const m=Pu;return c}function oh(c,m,_,S,F){if(Array.isArray(m))for(var z=0;z<m.length;z++)oh(c,m[z],_,S,F);else S=d(S)?!!S.capture:!!S,_=ku(_),c&&c[mr]?(c=c.i,m=String(m).toString(),m in c.g&&(z=c.g[m],_=Su(z,_,S,F),-1<_&&(ga(z[_]),Array.prototype.splice.call(z,_,1),z.length==0&&(delete c.g[m],c.h--)))):c&&(c=Au(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Su(m,_,S,F)),(_=-1<c?m[c]:null)&&va(_))}function va(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[mr])Iu(m.i,c);else{var _=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(_,S,c.capture):m.detachEvent?m.detachEvent(dn(_),S):m.addListener&&m.removeListener&&m.removeListener(S),(_=Au(m))?(Iu(_,c),_.h==0&&(_.src=null,m[Tu]=null)):ga(c)}}}function dn(c){return c in Ru?Ru[c]:Ru[c]="on"+c}function Pu(c,m){if(c.da)c=!0;else{m=new le(m,this);var _=c.listener,S=c.ha||c.src;c.fa&&va(c),c=_.call(S,m)}return c}function Au(c){return c=c[Tu],c instanceof ya?c:null}var bu="__closure_events_fn_"+(1e9*Math.random()>>>0);function ku(c){return typeof c=="function"?c:(c[bu]||(c[bu]=function(m){return c.handleEvent(m)}),c[bu])}function Ue(){Ve.call(this),this.i=new ya(this),this.M=this,this.F=null}I(Ue,Ve),Ue.prototype[mr]=!0,Ue.prototype.removeEventListener=function(c,m,_,S){oh(this,c,m,_,S)};function jt(c,m){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new Xe(m,c);else if(m instanceof Xe)m.target=m.target||c;else{var F=m;m=new Xe(S,c),D(m,F)}if(F=!0,_)for(var z=_.length-1;0<=z;z--){var ee=m.g=_[z];F=Bi(ee,S,!0,m)&&F}if(ee=m.g=c,F=Bi(ee,S,!0,m)&&F,F=Bi(ee,S,!1,m)&&F,_)for(z=0;z<_.length;z++)ee=m.g=_[z],F=Bi(ee,S,!1,m)&&F}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var _=c.g[m],S=0;S<_.length;S++)ga(_[S]);delete c.g[m],c.h--}}this.F=null},Ue.prototype.K=function(c,m,_,S){return this.i.add(String(c),m,!1,_,S)},Ue.prototype.L=function(c,m,_,S){return this.i.add(String(c),m,!0,_,S)};function Bi(c,m,_,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,z=0;z<m.length;++z){var ee=m[z];if(ee&&!ee.da&&ee.capture==_){var je=ee.listener,Dt=ee.ha||ee.src;ee.fa&&Iu(c.i,ee),F=je.call(Dt,S)!==!1&&F}}return F&&!S.defaultPrevented}function Zs(c,m,_){if(typeof c=="function")_&&(c=v(c,_));else if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function We(c){c.g=Zs(()=>{c.g=null,c.i&&(c.i=!1,We(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class ah extends Ve{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:We(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zi(c){Ve.call(this),this.h=c,this.g={}}I(zi,Ve);var eo=[];function _a(c){G(c.g,function(m,_){this.g.hasOwnProperty(_)&&va(m)},c),c.g={}}zi.prototype.N=function(){zi.aa.N.call(this),_a(this)},zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $i=a.JSON.stringify,Wi=a.JSON.parse,wa=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Cu(){}Cu.prototype.h=null;function to(c){return c.h||(c.h=c.i())}function lh(){}var gr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){Xe.call(this,"d")}I(Vr,Xe);function no(){Xe.call(this,"c")}I(no,Xe);var Xn={},ie=null;function Ea(){return ie=ie||new Ue}Xn.La="serverreachability";function uh(c){Xe.call(this,Xn.La,c)}I(uh,Xe);function hn(c){const m=Ea();jt(m,new uh(m))}Xn.STAT_EVENT="statevent";function fn(c,m){Xe.call(this,Xn.STAT_EVENT,c),this.stat=m}I(fn,Xe);function fe(c){const m=Ea();jt(m,new fn(m,c))}Xn.Ma="timingevent";function Ia(c,m){Xe.call(this,Xn.Ma,c),this.size=m}I(Ia,Xe);function ke(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function yr(){this.g=!0}yr.prototype.xa=function(){this.g=!1};function vg(c,m,_,S,F,z){c.info(function(){if(c.g)if(z)for(var ee="",je=z.split("&"),Dt=0;Dt<je.length;Dt++){var Ce=je[Dt].split("=");if(1<Ce.length){var Nt=Ce[0];Ce=Ce[1];var Bt=Nt.split("_");ee=2<=Bt.length&&Bt[1]=="type"?ee+(Nt+"="+Ce+"&"):ee+(Nt+"=redacted&")}}else ee=null;else ee=z;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+m+`
`+_+`
`+ee})}function Sa(c,m,_,S,F,z,ee){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+m+`
`+_+`
`+z+" "+ee})}function ct(c,m,_,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Zn(c,_)+(S?" "+S:"")})}function vr(c,m){c.info(function(){return"TIMEOUT: "+m})}yr.prototype.info=function(){};function Zn(c,m){if(!c.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var z=F[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ee=1;ee<F.length;ee++)F[ee]=""}}}}return $i(_)}catch{return m}}var nt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Un;function er(){}I(er,Cu),er.prototype.g=function(){return new XMLHttpRequest},er.prototype.i=function(){return{}},Un=new er;function Lr(c,m,_,S){this.j=c,this.i=m,this.l=_,this.R=S||1,this.U=new zi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ch}function ch(){this.i=null,this.g="",this.h=!1}var qi={},Ta={};function xu(c,m,_){c.L=1,c.v=An(wr(m)),c.m=_,c.P=!0,ai(c,null)}function ai(c,m){c.F=Date.now(),Ra(c),c.A=wr(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Th(_.i,"t",S),c.C=0,_=c.j.J,c.h=new ch,c.g=Bu(c.j,_?m:null,!c.m),0<c.O&&(c.M=new ah(v(c.Y,c,c.g),c.O)),m=c.U,_=c.g,S=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(eo[0]=F.toString()),F=eo);for(var z=0;z<F.length;z++){var ee=sh(_,F[z],S||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),hn(),vg(c.i,c.u,c.A,c.l,c.R,c.m)}Lr.prototype.ca=function(c){c=c.target;const m=this.M;m&&tr(c)==3?m.j():this.Y(c)},Lr.prototype.Y=function(c){try{if(c==this.g)e:{const Bt=tr(this.g);var m=this.g.Ba();const fi=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||He(this.g)))){this.J||Bt!=4||m==7||(m==8||0>=fi?hn(3):hn(2)),Du(this);var _=this.g.Z();this.X=_;t:if(Gi(this)){var S=He(this.g);c="";var F=S.length,z=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_r(this),Ge(this);var ee="";break t}this.h.i=new a.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,c+=this.h.i.decode(S[m],{stream:!(z&&m==F-1)});S.length=0,this.h.g+=c,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=_==200,Sa(this.i,this.u,this.A,this.l,this.R,Bt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Dt=this.g;if((je=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(je)){var Ce=je;break t}}Ce=null}if(_=Ce)ct(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nu(this,_);else{this.o=!1,this.s=3,fe(12),_r(this),Ge(this);break e}}if(this.P){_=!0;let Se;for(;!this.J&&this.C<ee.length;)if(Se=dh(this,ee),Se==Ta){Bt==4&&(this.s=4,fe(14),_=!1),ct(this.i,this.l,null,"[Incomplete Response]");break}else if(Se==qi){this.s=4,fe(15),ct(this.i,this.l,ee,"[Invalid Chunk]"),_=!1;break}else ct(this.i,this.l,Se,null),Nu(this,Se);if(Gi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||ee.length!=0||this.h.h||(this.s=1,fe(16),_=!1),this.o=this.o&&_,!_)ct(this.i,this.l,ee,"[Invalid Chunked Response]"),_r(this),Ge(this);else if(0<ee.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),ju(Nt),Nt.M=!0,fe(11))}}else ct(this.i,this.l,ee,null),Nu(this,ee);Bt==4&&_r(this),this.o&&!this.J&&(Bt==4?fo(this.j,this):(this.o=!1,Ra(this)))}else uo(this.g),_==400&&0<ee.indexOf("Unknown SID")?(this.s=3,fe(12)):(this.s=0,fe(13)),_r(this),Ge(this)}}}catch{}finally{}};function Gi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function dh(c,m){var _=c.C,S=m.indexOf(`
`,_);return S==-1?Ta:(_=Number(m.substring(_,S)),isNaN(_)?qi:(S+=1,S+_>m.length?Ta:(m=m.slice(S,S+_),c.C=S+_,m)))}Lr.prototype.cancel=function(){this.J=!0,_r(this)};function Ra(c){c.S=Date.now()+c.I,hh(c,c.I)}function hh(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ke(v(c.ba,c),m)}function Du(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Lr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(vr(this.i,this.A),this.L!=2&&(hn(),fe(17)),_r(this),this.s=2,Ge(this)):hh(this,this.S-c)};function Ge(c){c.j.G==0||c.J||fo(c.j,c)}function _r(c){Du(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,_a(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Nu(c,m){try{var _=c.j;if(_.G!=0&&(_.g==c||Mu(_.h,c))){if(!c.K&&Mu(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)xa(_),ka(_);else break e;ho(_),fe(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=ke(v(_.Za,_),6e3));if(1>=mh(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else di(_,11)}else if((c.K||_.g==c)&&xa(_),!R(m))for(F=_.Da.g.parse(m),m=0;m<F.length;m++){let Ce=F[m];if(_.T=Ce[0],Ce=Ce[1],_.G==2)if(Ce[0]=="c"){_.K=Ce[1],_.ia=Ce[2];const Nt=Ce[3];Nt!=null&&(_.la=Nt,_.j.info("VER="+_.la));const Bt=Ce[4];Bt!=null&&(_.Aa=Bt,_.j.info("SVER="+_.Aa));const fi=Ce[5];fi!=null&&typeof fi=="number"&&0<fi&&(S=1.5*fi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Se=c.g;if(Se){const Oa=Se.g?Se.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oa){var z=S.h;z.g||Oa.indexOf("spdy")==-1&&Oa.indexOf("quic")==-1&&Oa.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Vu(z,z.h),z.h=null))}if(S.D){const zu=Se.g?Se.g.getResponseHeader("X-HTTP-Session-Id"):null;zu&&(S.ya=zu,Fe(S.I,S.D,zu))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ee=c;if(S.qa=Vh(S,S.J?S.ia:null,S.W),ee.K){gh(S.h,ee);var je=ee,Dt=S.L;Dt&&(je.I=Dt),je.B&&(Du(je),Ra(je)),S.g=ee}else Nh(S);0<_.i.length&&ci(_)}else Ce[0]!="stop"&&Ce[0]!="close"||di(_,7);else _.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?di(_,7):ba(_):Ce[0]!="noop"&&_.l&&_.l.ta(Ce),_.v=0)}}hn(4)}catch{}}var fh=class{constructor(c,m){this.g=c,this.map=m}};function Ou(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ph(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mh(c){return c.h?1:c.g?c.g.size:0}function Mu(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Vu(c,m){c.g?c.g.add(m):c.h=m}function gh(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Ou.prototype.cancel=function(){if(this.i=yh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function yh(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.D);return m}return A(c.i)}function vh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],_=c.length,S=0;S<_;S++)m.push(c[S]);return m}m=[],_=0;for(S in c)m[_++]=c[S];return m}function _h(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var _=0;_<c;_++)m.push(_);return m}m=[],_=0;for(const S in c)m[_++]=S;return m}}}function wh(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var _=_h(c),S=vh(c),F=S.length,z=0;z<F;z++)m.call(void 0,S[z],_&&_[z],c)}var Eh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _g(c,m){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),F=null;if(0<=S){var z=c[_].substring(0,S);F=c[_].substring(S+1)}else z=c[_];m(z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Fr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Fr){this.h=c.h,Ur(this,c.j),this.o=c.o,this.g=c.g,li(this,c.s),this.l=c.l;var m=c.i,_=new ui;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Lu(this,_),this.m=c.m}else c&&(m=String(c).match(Eh))?(this.h=!1,Ur(this,m[1]||"",!0),this.o=ro(m[2]||""),this.g=ro(m[3]||"",!0),li(this,m[4]),this.l=ro(m[5]||"",!0),Lu(this,m[6]||"",!0),this.m=ro(m[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}Fr.prototype.toString=function(){var c=[],m=this.j;m&&c.push(io(m,Ih,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(io(m,Ih,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(io(_,_.charAt(0)=="/"?Ig:Eg,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",io(_,Tg)),c.join("")};function wr(c){return new Fr(c)}function Ur(c,m,_){c.j=_?ro(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function li(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Lu(c,m,_){m instanceof ui?(c.i=m,Rg(c.i,c.h)):(_||(m=io(m,Sg)),c.i=new ui(m,c.h))}function Fe(c,m,_){c.i.set(m,_)}function An(c){return Fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ro(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function io(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,wg),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wg(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ih=/[#\/\?@]/g,Eg=/[#\?:]/g,Ig=/[#\?]/g,Sg=/[#\?@]/g,Tg=/#/g;function ui(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function jr(c){c.g||(c.g=new Map,c.h=0,c.i&&_g(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=ui.prototype,t.add=function(c,m){jr(this),this.i=null,c=Hi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function Fu(c,m){jr(c),m=Hi(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Sh(c,m){return jr(c),m=Hi(c,m),c.g.has(m)}t.forEach=function(c,m){jr(this),this.g.forEach(function(_,S){_.forEach(function(F){c.call(m,F,S,this)},this)},this)},t.na=function(){jr(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let S=0;S<m.length;S++){const F=c[S];for(let z=0;z<F.length;z++)_.push(m[S])}return _},t.V=function(c){jr(this);let m=[];if(typeof c=="string")Sh(this,c)&&(m=m.concat(this.g.get(Hi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)m=m.concat(c[_])}return m},t.set=function(c,m){return jr(this),this.i=null,c=Hi(this,c),Sh(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Th(c,m,_){Fu(c,m),0<_.length&&(c.i=null,c.g.set(Hi(c,m),A(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var S=m[_];const z=encodeURIComponent(String(S)),ee=this.V(S);for(S=0;S<ee.length;S++){var F=z;ee[S]!==""&&(F+="="+encodeURIComponent(String(ee[S]))),c.push(F)}}return this.i=c.join("&")};function Hi(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Rg(c,m){m&&!c.j&&(jr(c),c.i=null,c.g.forEach(function(_,S){var F=S.toLowerCase();S!=F&&(Fu(this,S),Th(this,F,_))},c)),c.j=m}function Pg(c,m){const _=new yr;if(a.Image){const S=new Image;S.onload=w(Br,_,"TestLoadImage: loaded",!0,m,S),S.onerror=w(Br,_,"TestLoadImage: error",!1,m,S),S.onabort=w(Br,_,"TestLoadImage: abort",!1,m,S),S.ontimeout=w(Br,_,"TestLoadImage: timeout",!1,m,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function Ag(c,m){const _=new yr,S=new AbortController,F=setTimeout(()=>{S.abort(),Br(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(z=>{clearTimeout(F),z.ok?Br(_,"TestPingServer: ok",!0,m):Br(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),Br(_,"TestPingServer: error",!1,m)})}function Br(c,m,_,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(_)}catch{}}function bg(){this.g=new wa}function kg(c,m,_){const S=_||"";try{wh(c,function(F,z){let ee=F;d(F)&&(ee=$i(F)),m.push(S+z+"="+encodeURIComponent(ee))})}catch(F){throw m.push(S+"type="+encodeURIComponent("_badmap")),F}}function so(c){this.l=c.Ub||null,this.j=c.eb||!1}I(so,Cu),so.prototype.g=function(){return new Pa(this.l,this.j)},so.prototype.i=function(c){return function(){return c}}({});function Pa(c,m){Ue.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Pa,Ue),t=Pa.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,ao(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ao(this)),this.g&&(this.readyState=3,ao(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rh(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rh(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?oo(this):ao(this),this.readyState==3&&Rh(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,oo(this))},t.Qa=function(c){this.g&&(this.response=c,oo(this))},t.ga=function(){this.g&&oo(this)};function oo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ao(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function ao(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ph(c){let m="";return G(c,function(_,S){m+=S,m+=":",m+=_,m+=`\r
`}),m}function lo(c,m,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Ph(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Fe(c,m,_))}function Ye(c){Ue.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ye,Ue);var Cg=/^https?$/i,Ah=["POST","PUT"];t=Ye.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Un.g(),this.v=this.o?to(this.o):to(Un),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(z){Uu(this,z);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)_.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const z of S.keys())_.set(z,S.get(z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(z=>z.toLowerCase()=="content-type"),F=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ah,m,void 0))||S||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ee]of _)this.g.setRequestHeader(z,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ch(this),this.u=!0,this.g.send(c),this.u=!1}catch(z){Uu(this,z)}};function Uu(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,bh(c),Aa(c)}function bh(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,jt(this,"complete"),jt(this,"abort"),Aa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Aa(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?kh(this):this.bb())},t.bb=function(){kh(this)};function kh(c){if(c.h&&typeof o<"u"&&(!c.v[1]||tr(c)!=4||c.Z()!=2)){if(c.u&&tr(c)==4)Zs(c.Ea,0,c);else if(jt(c,"readystatechange"),tr(c)==4){c.h=!1;try{const ee=c.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var S;if(S=ee===0){var F=String(c.D).match(Eh)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),S=!Cg.test(F?F.toLowerCase():"")}_=S}if(_)jt(c,"complete"),jt(c,"success");else{c.m=6;try{var z=2<tr(c)?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.Z()+"]",bh(c)}}finally{Aa(c)}}}}function Aa(c,m){if(c.g){Ch(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||jt(c,"ready");try{_.onreadystatechange=S}catch{}}}function Ch(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function tr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Wi(m)}};function He(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uo(c){const m={};c=(c.g&&2<=tr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(R(c[S]))continue;var _=V(c[S]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const z=m[F]||[];m[F]=z,z.push(_)}C(m,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function xh(c){this.Aa=0,this.i=[],this.j=new yr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Er("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Er("baseRetryDelayMs",5e3,c),this.cb=Er("retryDelaySeedMs",1e4,c),this.Wa=Er("forwardChannelMaxRetries",2,c),this.wa=Er("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ou(c&&c.concurrentRequestLimit),this.Da=new bg,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=xh.prototype,t.la=8,t.G=1,t.connect=function(c,m,_,S){fe(0),this.W=c,this.H=m||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Vh(this,null,this.W),ci(this)};function ba(c){if(Dh(c),c.G==3){var m=c.U++,_=wr(c.I);if(Fe(_,"SID",c.K),Fe(_,"RID",m),Fe(_,"TYPE","terminate"),co(c,_),m=new Lr(c,c.j,m),m.L=2,m.v=An(wr(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=m.v,_=!0),_||(m.g=Bu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ra(m)}Mh(c)}function ka(c){c.g&&(ju(c),c.g.cancel(),c.g=null)}function Dh(c){ka(c),c.u&&(a.clearTimeout(c.u),c.u=null),xa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function ci(c){if(!ph(c.h)&&!c.s){c.s=!0;var m=c.Ga;gt||de(),ne||(gt(),ne=!0),pe.add(m,c),c.B=0}}function zr(c,m){return mh(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ke(v(c.Ga,c,m),Da(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new Lr(this,this.j,c);let z=this.o;if(this.S&&(z?(z=T(z),D(z,this.S)):z=this.S),this.m!==null||this.O||(F.H=z,z=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=nr(this,F,m),_=wr(this.I),Fe(_,"RID",c),Fe(_,"CVER",22),this.D&&Fe(_,"X-HTTP-Session-Id",this.D),co(this,_),z&&(this.O?m="headers="+encodeURIComponent(String(Ph(z)))+"&"+m:this.m&&lo(_,this.m,z)),Vu(this.h,F),this.Ua&&Fe(_,"TYPE","init"),this.P?(Fe(_,"$req",m),Fe(_,"SID","null"),F.T=!0,xu(F,_,null)):xu(F,_,m),this.G=2}}else this.G==3&&(c?Ca(this,c):this.i.length==0||ph(this.h)||Ca(this))};function Ca(c,m){var _;m?_=m.l:_=c.U++;const S=wr(c.I);Fe(S,"SID",c.K),Fe(S,"RID",_),Fe(S,"AID",c.T),co(c,S),c.m&&c.o&&lo(S,c.m,c.o),_=new Lr(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),m&&(c.i=m.D.concat(c.i)),m=nr(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Vu(c.h,_),xu(_,S,m)}function co(c,m){c.H&&G(c.H,function(_,S){Fe(m,S,_)}),c.l&&wh({},function(_,S){Fe(m,S,_)})}function nr(c,m,_){_=Math.min(c.i.length,_);var S=c.l?v(c.l.Na,c.l,c):null;e:{var F=c.i;let z=-1;for(;;){const ee=["count="+_];z==-1?0<_?(z=F[0].g,ee.push("ofs="+z)):z=0:ee.push("ofs="+z);let je=!0;for(let Dt=0;Dt<_;Dt++){let Ce=F[Dt].g;const Nt=F[Dt].map;if(Ce-=z,0>Ce)z=Math.max(0,F[Dt].g-100),je=!1;else try{kg(Nt,ee,"req"+Ce+"_")}catch{S&&S(Nt)}}if(je){S=ee.join("&");break e}}}return c=c.i.splice(0,_),m.D=c,S}function Nh(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;gt||de(),ne||(gt(),ne=!0),pe.add(m,c),c.v=0}}function ho(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ke(v(c.Fa,c),Da(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Oh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ke(v(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fe(10),ka(this),Oh(this))};function ju(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Oh(c){c.g=new Lr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=wr(c.qa);Fe(m,"RID","rpc"),Fe(m,"SID",c.K),Fe(m,"AID",c.T),Fe(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Fe(m,"TO",c.ja),Fe(m,"TYPE","xmlhttp"),co(c,m),c.m&&c.o&&lo(m,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=An(wr(m)),_.m=null,_.P=!0,ai(_,c)}t.Za=function(){this.C!=null&&(this.C=null,ka(this),ho(this),fe(19))};function xa(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function fo(c,m){var _=null;if(c.g==m){xa(c),ju(c),c.g=null;var S=2}else if(Mu(c.h,m))_=m.D,gh(c.h,m),S=1;else return;if(c.G!=0){if(m.o)if(S==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var F=c.B;S=Ea(),jt(S,new Ia(S,_)),ci(c)}else Nh(c);else if(F=m.s,F==3||F==0&&0<m.X||!(S==1&&zr(c,m)||S==2&&ho(c)))switch(_&&0<_.length&&(m=c.h,m.i=m.i.concat(_)),F){case 1:di(c,5);break;case 4:di(c,10);break;case 3:di(c,6);break;default:di(c,2)}}}function Da(c,m){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*m}function di(c,m){if(c.j.info("Error code "+m),m==2){var _=v(c.fb,c),S=c.Xa;const F=!S;S=new Fr(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ur(S,"https"),An(S),F?Pg(S.toString(),_):Ag(S.toString(),_)}else fe(2);c.G=0,c.l&&c.l.sa(m),Mh(c),Dh(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),fe(2)):(this.j.info("Failed to ping google.com"),fe(1))};function Mh(c){if(c.G=0,c.ka=[],c.l){const m=yh(c.h);(m.length!=0||c.i.length!=0)&&(k(c.ka,m),k(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function Vh(c,m,_){var S=_ instanceof Fr?wr(_):new Fr(_);if(S.g!="")m&&(S.g=m+"."+S.g),li(S,S.s);else{var F=a.location;S=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var z=new Fr(null);S&&Ur(z,S),m&&(z.g=m),F&&li(z,F),_&&(z.l=_),S=z}return _=c.D,m=c.ya,_&&m&&Fe(S,_,m),Fe(S,"VER",c.la),co(c,S),S}function Bu(c,m,_){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Ye(new so({eb:_})):new Ye(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lh(){}t=Lh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Na(){}Na.prototype.g=function(c,m){return new pn(c,m)};function pn(c,m){Ue.call(this),this.g=new xh(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!R(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new hi(this)}I(pn,Ue),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){ba(this.g)},pn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=$i(c),c=_);m.i.push(new fh(m.Ya++,c)),m.G==3&&ci(m)},pn.prototype.N=function(){this.g.l=null,delete this.j,ba(this.g),delete this.g,pn.aa.N.call(this)};function Fh(c){Vr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const _ in m){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}I(Fh,Vr);function Uh(){no.call(this),this.status=1}I(Uh,no);function hi(c){this.g=c}I(hi,Lh),hi.prototype.ua=function(){jt(this.g,"a")},hi.prototype.ta=function(c){jt(this.g,new Fh(c))},hi.prototype.sa=function(c){jt(this.g,new Uh)},hi.prototype.ra=function(){jt(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,Ck=function(){return new Na},kk=function(){return Ea()},bk=Xn,l_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,jf=nt,Pn.COMPLETE="complete",Ak=Pn,lh.EventType=gr,gr.OPEN="a",gr.CLOSE="b",gr.ERROR="c",gr.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,yc=lh,Pk=so,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,Rk=Ye}).apply(typeof mf<"u"?mf:typeof self<"u"?self:typeof window<"u"?window:{});const vT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du="10.12.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new ym("@firebase/firestore");function Ha(){return Ns.logLevel}function v3(t){Ns.setLogLevel(t)}function Y(t,...e){if(Ns.logLevel<=Te.DEBUG){const n=e.map(Rw);Ns.debug(`Firestore (${du}): ${t}`,...n)}}function Rt(t,...e){if(Ns.logLevel<=Te.ERROR){const n=e.map(Rw);Ns.error(`Firestore (${du}): ${t}`,...n)}}function Or(t,...e){if(Ns.logLevel<=Te.WARN){const n=e.map(Rw);Ns.warn(`Firestore (${du}): ${t}`,...n)}}function Rw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${du}) INTERNAL ASSERTION FAILED: `+t;throw Rt(e),new Error(e)}function ue(t,e){t||oe()}function _3(t,e){t||oe()}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends wn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class E3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class I3{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ht;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ht,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ht)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string"),new xk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string"),new Wt(e)}}class S3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class T3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new S3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string"),this.R=n.token,new R3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=A3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function Ul(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function Nk(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new lt(0,0))}static max(){return new ce(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return md.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof md?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Pe extends md{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const b3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends md{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return b3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new K($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Pe.fromString(e))}static fromName(e){return new te(Pe.fromString(e).popFirst(5))}static empty(){return new te(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Pe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function u_(t){return t.fields.find(e=>e.kind===2)}function Eo(t){return t.fields.filter(e=>e.kind!==2)}xp.UNKNOWN_ID=-1;class Bf{constructor(e,n){this.fieldPath=e,this.kind=n}}class gd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new gd(0,Hn.min())}}function Ok(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new Hn(i,te.empty(),e)}function Mk(t){return new Hn(t.readTime,t.key,-1)}class Hn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hn(ce.min(),te.empty(),-1)}static max(){return new Hn(ce.max(),te.empty(),-1)}}function Pw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==Vk)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const d=l;n(e[d]).next(f=>{o[d]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ht,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Mc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Aw(r.target.error);this.V.reject(new Mc(e,i))}}static open(e,n,r,i){try{return new xm(n,e.transaction(i,r))}catch(s){throw new Mc(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Y("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new C3(n)}}class ti{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ti.S(ut())===12.2&&Rt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Y("SimpleDb","Removing database:",e),Io(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ld())return!1;if(ti.C())return!0;const e=ut(),n=ti.S(e),r=0<n&&n<10,i=Fk(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(Y("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Mc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new K($.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new K($.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Mc(e,o))},i.onupgradeneeded=s=>{Y("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{Y("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=xm.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(d=>(a.g(),d)).catch(d=>(a.abort(d),j.reject(d))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,d=l.name!=="FirebaseError"&&o<3;if(Y("SimpleDb","Transaction failed with error:",l.message,"Retrying:",d),this.close(),!d)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Fk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class k3{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Io(this.B.delete())}}class Mc extends K{constructor(e,n){super($.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Qs(t){return t.name==="IndexedDbTransactionError"}class C3{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Y("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Y("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Io(r)}add(e){return Y("SimpleDb","ADD",this.store.name,e,e),Io(this.store.add(e))}get(e){return Io(this.store.get(e)).next(n=>(n===void 0&&(n=null),Y("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Y("SimpleDb","DELETE",this.store.name,e),Io(this.store.delete(e))}count(){return Y("SimpleDb","COUNT",this.store.name),Io(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new j((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new j((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){Y("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new j((r,i)=>{n.onerror=s=>{const o=Aw(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new j((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new k3(a),d=n(a.primaryKey,a.value,l);if(d instanceof j){const f=d.catch(p=>(l.done(),j.reject(p)));r.push(f)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>j.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Io(t){return new j((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Aw(r.target.error);n(i)}})}let _T=!1;function Aw(t){const e=ti.S(ut());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new K("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _T||(_T=!0,setTimeout(()=>{throw r},0)),r}}return t}class x3{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){Y("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Y("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Qs(n)?Y("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Ys(n)}await this.X(6e4)})}}class D3{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return j.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return Y("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(Y("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=Mk(s);Pw(o,r)>0&&(r=o)}),new Hn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Dn.oe=-1;function zd(t){return t==null}function yd(t){return t===0&&1/t==-1/0}function Uk(t){return typeof t=="number"&&Number.isInteger(t)&&!yd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=wT(e)),e=N3(t.get(n),e);return wT(e)}function N3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function wT(t){return t+""}function Jr(t){const e=t.length;if(ue(e>=2),e===2)return ue(t.charAt(0)===""&&t.charAt(1)===""),Pe.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&oe(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:oe()}s=o+2}return new Pe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t,e){return[t,En(e)]}function jk(t,e,n){return[t,En(e),n]}const O3={},M3=["prefixPath","collectionGroup","readTime","documentId"],V3=["prefixPath","collectionGroup","documentId"],L3=["collectionGroup","readTime","prefixPath","documentId"],F3=["canonicalId","targetId"],U3=["targetId","path"],j3=["path","targetId"],B3=["collectionId","parent"],z3=["indexId","uid"],$3=["uid","sequenceNumber"],W3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],q3=["indexId","uid","orderedDocumentKey"],G3=["userId","collectionPath","documentId"],H3=["userId","collectionPath","largestBatchId"],K3=["userId","collectionGroup","largestBatchId"],Bk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Y3=[...Bk,"documentOverlays"],zk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$k=zk,Wk=[...$k,"indexConfiguration","indexState","indexEntries"],Q3=Wk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_ extends Lk{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Yt(t,e){const n=re(t);return ti.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ca(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gf(this.root,e,this.comparator,!0)}}class gf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??en.RED,this.left=i??en.EMPTY,this.right=s??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new en(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return en.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ST(this.data.getIterator())}getIteratorFrom(e){return new ST(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qe(this.comparator);return n.data=e,n}}class ST{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ba(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new qe(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ul(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Gk("Invalid base64 string: "+s):s}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const X3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(ue(!!t),typeof t=="string"){let e=0;const n=X3.exec(t);if(ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Os(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bw(t){const e=t.mapValue.fields.__previous_value__;return Dm(e)?bw(e):e}function vd(t){const e=Di(t.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n,r,i,s,o,a,l,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d}}class Ms{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ms("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ms&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$f={nullValue:"NULL_VALUE"};function Yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dm(t)?4:Hk(t)?9007199254740991:10:oe()}function si(t,e){if(t===e)return!0;const n=Yo(t);if(n!==Yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vd(t).isEqual(vd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Di(i.timestampValue),a=Di(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Os(i.bytesValue).isEqual(Os(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return vt(i.geoPointValue.latitude)===vt(s.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return vt(i.integerValue)===vt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=vt(i.doubleValue),a=vt(s.doubleValue);return o===a?yd(o)===yd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ul(t.arrayValue.values||[],e.arrayValue.values||[],si);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(IT(o)!==IT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!si(o[l],a[l])))return!1;return!0}(t,e);default:return oe()}}function _d(t,e){return(t.values||[]).find(n=>si(n,e))!==void 0}function Vs(t,e){if(t===e)return 0;const n=Yo(t),r=Yo(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=vt(s.integerValue||s.doubleValue),l=vt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return TT(t.timestampValue,e.timestampValue);case 4:return TT(vd(t),vd(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Os(s),l=Os(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const f=ye(a[d],l[d]);if(f!==0)return f}return ye(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ye(vt(s.latitude),vt(o.latitude));return a!==0?a:ye(vt(s.longitude),vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let d=0;d<a.length&&d<l.length;++d){const f=Vs(a[d],l[d]);if(f)return f}return ye(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ps.mapValue&&o===ps.mapValue)return 0;if(s===ps.mapValue)return 1;if(o===ps.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),d=o.fields||{},f=Object.keys(d);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){const v=ye(l[p],f[p]);if(v!==0)return v;const w=Vs(a[l[p]],d[f[p]]);if(w!==0)return w}return ye(l.length,f.length)}(t.mapValue,e.mapValue);default:throw oe()}}function TT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Di(t),r=Di(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function jl(t){return d_(t)}function d_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Os(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=d_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${d_(n.fields[o])}`;return i+"}"}(t.mapValue):oe()}function Qo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function h_(t){return!!t&&"integerValue"in t}function wd(t){return!!t&&"arrayValue"in t}function RT(t){return!!t&&"nullValue"in t}function PT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wf(t){return!!t&&"mapValue"in t}function Vc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ca(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Hk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function e6(t){return"nullValue"in t?$f:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Qo(Ms.empty(),te.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:oe()}function t6(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Qo(Ms.empty(),te.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?ps:oe()}function AT(t,e){const n=Vs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function bT(t,e){const n=Vs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vc(n)}setAll(e){let n=ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Vc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ca(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tn(Vc(this.value))}}function Kk(t){const e=[];return ca(t.fields,(n,r)=>{const i=new ot([n]);if(Wf(r)){const s=Kk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new et(e,0,ce.min(),ce.min(),ce.min(),tn.empty(),0)}static newFoundDocument(e,n,r,i){return new et(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new et(e,2,n,ce.min(),ce.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new et(e,3,n,ce.min(),ce.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n){this.position=e,this.inclusive=n}}function kT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Vs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function CT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!si(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n="asc"){this.field=e,this.dir=n}}function n6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{}class Ae extends Yk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new r6(e,n,r):n==="array-contains"?new o6(e,r):n==="in"?new tC(e,r):n==="not-in"?new a6(e,r):n==="array-contains-any"?new l6(e,r):new Ae(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new i6(e,r):new s6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vs(n,this.value)):n!==null&&Yo(this.value)===Yo(n)&&this.matchesComparison(Vs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Be extends Yk{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Be(e,n)}matches(e){return Bl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Bl(t){return t.op==="and"}function f_(t){return t.op==="or"}function kw(t){return Qk(t)&&Bl(t)}function Qk(t){for(const e of t.filters)if(e instanceof Be)return!1;return!0}function p_(t){if(t instanceof Ae)return t.field.canonicalString()+t.op.toString()+jl(t.value);if(kw(t))return t.filters.map(e=>p_(e)).join(",");{const e=t.filters.map(n=>p_(n)).join(",");return`${t.op}(${e})`}}function Jk(t,e){return t instanceof Ae?function(r,i){return i instanceof Ae&&r.op===i.op&&r.field.isEqual(i.field)&&si(r.value,i.value)}(t,e):t instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Jk(o,i.filters[a]),!0):!1}(t,e):void oe()}function Xk(t,e){const n=t.filters.concat(e);return Be.create(n,t.op)}function Zk(t){return t instanceof Ae?function(n){return`${n.field.canonicalString()} ${n.op} ${jl(n.value)}`}(t):t instanceof Be?function(n){return n.op.toString()+" {"+n.getFilters().map(Zk).join(" ,")+"}"}(t):"Filter"}class r6 extends Ae{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class i6 extends Ae{constructor(e,n){super(e,"in",n),this.keys=eC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class s6 extends Ae{constructor(e,n){super(e,"not-in",n),this.keys=eC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class o6 extends Ae{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wd(n)&&_d(n.arrayValue,this.value)}}class tC extends Ae{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_d(this.value.arrayValue,n)}}class a6 extends Ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!_d(this.value.arrayValue,n)}}class l6 extends Ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_d(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function m_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new u6(t,e,n,r,i,s,o)}function Jo(t){const e=re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>p_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),zd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jl(r)).join(",")),e.ue=n}return e.ue}function $d(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!n6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Jk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CT(t.startAt,e.startAt)&&CT(t.endAt,e.endAt)}function Dp(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Np(t,e){return t.filters.filter(n=>n instanceof Ae&&n.field.isEqual(e))}function xT(t,e,n){let r=$f,i=!0;for(const s of Np(t,e)){let o=$f,a=!0;switch(s.op){case"<":case"<=":o=e6(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=$f}AT({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];AT({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function DT(t,e,n){let r=ps,i=!0;for(const s of Np(t,e)){let o=ps,a=!0;switch(s.op){case">=":case">":o=t6(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=ps}bT({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];bT({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function nC(t,e,n,r,i,s,o,a){return new Fi(t,e,n,r,i,s,o,a)}function hu(t){return new Fi(t)}function NT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Cw(t){return t.collectionGroup!==null}function Sl(t){const e=re(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new qe(ot.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ed(s,r))}),n.has(ot.keyField().canonicalString())||e.ce.push(new Ed(ot.keyField(),r))}return e.ce}function In(t){const e=re(t);return e.le||(e.le=c6(e,Sl(t))),e.le}function c6(t,e){if(t.limitType==="F")return m_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ed(i.field,s)});const n=t.endAt?new Ls(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ls(t.startAt.position,t.startAt.inclusive):null;return m_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function g_(t,e){const n=t.filters.concat([e]);return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Op(t,e,n){return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wd(t,e){return $d(In(t),In(e))&&t.limitType===e.limitType}function rC(t){return`${Jo(In(t))}|lt:${t.limitType}`}function Ka(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Zk(i)).join(", ")}]`),zd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>jl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>jl(i)).join(",")),`Target(${r})`}(In(t))}; limitType=${t.limitType})`}function qd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Sl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const d=kT(o,a,l);return o.inclusive?d<=0:d<0}(r.startAt,Sl(r),i)||r.endAt&&!function(o,a,l){const d=kT(o,a,l);return o.inclusive?d>=0:d>0}(r.endAt,Sl(r),i))}(t,e)}function iC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sC(t){return(e,n)=>{let r=!1;for(const i of Sl(t)){const s=d6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function d6(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),d=a.data.field(s);return l!==null&&d!==null?Vs(l,d):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return qk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=new Je(te.comparator);function On(){return h6}const oC=new Je(te.comparator);function vc(...t){let e=oC;for(const n of t)e=e.insert(n.key,n);return e}function aC(t){let e=oC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xr(){return Lc()}function lC(){return Lc()}function Lc(){return new Js(t=>t.toString(),(t,e)=>t.isEqual(e))}const f6=new Je(te.comparator),p6=new qe(te.comparator);function _e(...t){let e=p6;for(const n of t)e=e.add(n);return e}const m6=new qe(ye);function xw(){return m6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yd(e)?"-0":e}}function cC(t){return{integerValue:""+t}}function dC(t,e){return Uk(e)?cC(e):uC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this._=void 0}}function g6(t,e,n){return t instanceof zl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Dm(s)&&(s=bw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Xo?fC(t,e):t instanceof Zo?pC(t,e):function(i,s){const o=hC(i,s),a=OT(o)+OT(i.Pe);return h_(o)&&h_(i.Pe)?cC(a):uC(i.serializer,a)}(t,e)}function y6(t,e,n){return t instanceof Xo?fC(t,e):t instanceof Zo?pC(t,e):n}function hC(t,e){return t instanceof $l?function(r){return h_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class zl extends Nm{}class Xo extends Nm{constructor(e){super(),this.elements=e}}function fC(t,e){const n=mC(e);for(const r of t.elements)n.some(i=>si(i,r))||n.push(r);return{arrayValue:{values:n}}}class Zo extends Nm{constructor(e){super(),this.elements=e}}function pC(t,e){let n=mC(e);for(const r of t.elements)n=n.filter(i=>!si(i,r));return{arrayValue:{values:n}}}class $l extends Nm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function OT(t){return vt(t.integerValue||t.doubleValue)}function mC(t){return wd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this.field=e,this.transform=n}}function v6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Xo&&i instanceof Xo||r instanceof Zo&&i instanceof Zo?Ul(r.elements,i.elements,si):r instanceof $l&&i instanceof $l?si(r.Pe,i.Pe):r instanceof zl&&i instanceof zl}(t.transform,e.transform)}class _6{constructor(e,n){this.version=e,this.transformResults=n}}class at{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new at}static exists(e){return new at(void 0,e)}static updateTime(e){return new at(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Om{}function gC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pu(t.key,at.none()):new fu(t.key,t.data,at.none());{const n=t.data,r=tn.empty();let i=new qe(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ui(t.key,r,new Nn(i.toArray()),at.none())}}function w6(t,e,n){t instanceof fu?function(i,s,o){const a=i.value.clone(),l=VT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ui?function(i,s,o){if(!qf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=VT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(yC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fc(t,e,n,r){return t instanceof fu?function(s,o,a,l){if(!qf(s.precondition,o))return a;const d=s.value.clone(),f=LT(s.fieldTransforms,l,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ui?function(s,o,a,l){if(!qf(s.precondition,o))return a;const d=LT(s.fieldTransforms,l,o),f=o.data;return f.setAll(yC(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return qf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function E6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=hC(r.transform,i||null);s!=null&&(n===null&&(n=tn.empty()),n.set(r.field,s))}return n||null}function MT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ul(r,i,(s,o)=>v6(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fu extends Om{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ui extends Om{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function VT(t,e,n){const r=new Map;ue(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,y6(o,a,n[i]))}return r}function LT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,g6(s,o,e))}return r}class pu extends Om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dw extends Om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&w6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=gC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Ul(this.mutations,e.mutations,(n,r)=>MT(n,r))&&Ul(this.baseMutations,e.baseMutations,(n,r)=>MT(n,r))}}class Ow{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ue(e.mutations.length===r.length);let i=function(){return f6}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ow(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,De;function vC(t){switch(t){default:return oe();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function _C(t){if(t===void 0)return Rt("GRPC error has no .code"),$.UNKNOWN;switch(t){case At.OK:return $.OK;case At.CANCELLED:return $.CANCELLED;case At.UNKNOWN:return $.UNKNOWN;case At.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case At.INTERNAL:return $.INTERNAL;case At.UNAVAILABLE:return $.UNAVAILABLE;case At.UNAUTHENTICATED:return $.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case At.NOT_FOUND:return $.NOT_FOUND;case At.ALREADY_EXISTS:return $.ALREADY_EXISTS;case At.PERMISSION_DENIED:return $.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case At.ABORTED:return $.ABORTED;case At.OUT_OF_RANGE:return $.OUT_OF_RANGE;case At.UNIMPLEMENTED:return $.UNIMPLEMENTED;case At.DATA_LOSS:return $.DATA_LOSS;default:return oe()}}(De=At||(At={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=new Fo([4294967295,4294967295],0);function FT(t){const e=wC().encode(t),n=new Tk;return n.update(e),new Uint8Array(n.digest())}function UT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fo([n,r],0),new Fo([i,s],0)]}class Vw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _c(`Invalid padding: ${n}`);if(r<0)throw new _c(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _c(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _c(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Fo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Fo.fromNumber(r)));return i.compare(S6)===1&&(i=new Fo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=FT(e),[r,i]=UT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Vw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=FT(e),[r,i]=UT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Kd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hd(ce.min(),i,new Je(ye),On(),_e())}}class Kd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kd(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class EC{constructor(e,n){this.targetId=e,this.me=n}}class IC{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class jT{constructor(){this.fe=0,this.ge=zT(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new Kd(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=zT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class T6{constructor(e){this.Le=e,this.Be=new Map,this.ke=On(),this.qe=BT(),this.Qe=new Je(ye)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Dp(s))if(r===0){const o=new te(s.path);this.Ue(n,o,et.newNoDocument(o,ce.min()))}else ue(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Os(r).toUint8Array()}catch(l){if(l instanceof Gk)return Or("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Vw(o,i,s)}catch(l){return Or(l instanceof _c?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Dp(a.target)){const l=new te(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,et.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=_e();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Hd(e,n,this.Qe,this.ke,r);return this.ke=On(),this.qe=BT(),this.Qe=new Je(ye),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new jT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new qe(ye),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new jT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function BT(){return new Je(te.comparator)}function zT(){return new Je(te.comparator)}const R6={asc:"ASCENDING",desc:"DESCENDING"},P6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A6={and:"AND",or:"OR"};class b6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function y_(t,e){return t.useProto3Json||zd(e)?e:{value:e}}function Wl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function k6(t,e){return Wl(t,e.toTimestamp())}function Pt(t){return ue(!!t),ce.fromTimestamp(function(n){const r=Di(n);return new lt(r.seconds,r.nanos)}(t))}function Lw(t,e){return v_(t,e).canonicalString()}function v_(t,e){const n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TC(t){const e=Pe.fromString(t);return ue(OC(e)),e}function Id(t,e){return Lw(t.databaseId,e.path)}function ni(t,e){const n=TC(e);if(n.get(1)!==t.databaseId.projectId)throw new K($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(AC(n))}function RC(t,e){return Lw(t.databaseId,e)}function PC(t){const e=TC(t);return e.length===4?Pe.emptyPath():AC(e)}function __(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AC(t){return ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $T(t,e,n){return{name:Id(t,e),fields:n.value.mapValue.fields}}function bC(t,e,n){const r=ni(t,e.name),i=Pt(e.updateTime),s=e.createTime?Pt(e.createTime):ce.min(),o=new tn({mapValue:{fields:e.fields}}),a=et.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function C6(t,e){return"found"in e?function(r,i){ue(!!i.found),i.found.name,i.found.updateTime;const s=ni(r,i.found.name),o=Pt(i.found.updateTime),a=i.found.createTime?Pt(i.found.createTime):ce.min(),l=new tn({mapValue:{fields:i.found.fields}});return et.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){ue(!!i.missing),ue(!!i.readTime);const s=ni(r,i.missing),o=Pt(i.readTime);return et.newNoDocument(s,o)}(t,e):oe()}function x6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?(ue(f===void 0||typeof f=="string"),Lt.fromBase64String(f||"")):(ue(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Lt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const f=d.code===void 0?$.UNKNOWN:_C(d.code);return new K(f,d.message||"")}(o);n=new IC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ni(t,r.document.name),s=Pt(r.document.updateTime),o=r.document.createTime?Pt(r.document.createTime):ce.min(),a=new tn({mapValue:{fields:r.document.fields}}),l=et.newFoundDocument(i,s,o,a),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Gf(d,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ni(t,r.document),s=r.readTime?Pt(r.readTime):ce.min(),o=et.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Gf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ni(t,r.document),s=r.removedTargetIds||[];n=new Gf([],s,i,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new I6(i,s),a=r.targetId;n=new EC(a,o)}}return n}function Sd(t,e){let n;if(e instanceof fu)n={update:$T(t,e.key,e.value)};else if(e instanceof pu)n={delete:Id(t,e.key)};else if(e instanceof Ui)n={update:$T(t,e.key,e.data),updateMask:L6(e.fieldMask)};else{if(!(e instanceof Dw))return oe();n={verify:Id(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof zl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $l)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:k6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe()}(t,e.precondition)),n}function w_(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?at.updateTime(Pt(s.updateTime)):s.exists!==void 0?at.exists(s.exists):at.none()}(e.currentDocument):at.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)ue(a.setToServerValue==="REQUEST_TIME"),l=new zl;else if("appendMissingElements"in a){const f=a.appendMissingElements.values||[];l=new Xo(f)}else if("removeAllFromArray"in a){const f=a.removeAllFromArray.values||[];l=new Zo(f)}else"increment"in a?l=new $l(o,a.increment):oe();const d=ot.fromServerFormat(a.fieldPath);return new Gd(d,l)}(t,i)):[];if(e.update){e.update.name;const i=ni(t,e.update.name),s=new tn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const d=l.fieldPaths||[];return new Nn(d.map(f=>ot.fromServerFormat(f)))}(e.updateMask);return new Ui(i,s,o,n,r)}return new fu(i,s,n,r)}if(e.delete){const i=ni(t,e.delete);return new pu(i,n)}if(e.verify){const i=ni(t,e.verify);return new Dw(i,n)}return oe()}function D6(t,e){return t&&t.length>0?(ue(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Pt(i.updateTime):Pt(s);return o.isEqual(ce.min())&&(o=Pt(s)),new _6(o,i.transformResults||[])}(n,e))):[]}function kC(t,e){return{documents:[RC(t,e.path)]}}function CC(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=RC(t,i);const s=function(d){if(d.length!==0)return NC(Be.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(f=>function(v){return{field:Ya(v.field),direction:O6(v.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=y_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function xC(t){let e=PC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ue(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const v=DC(p);return v instanceof Be&&kw(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(v=>function(I){return new Ed(Qa(I.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(v))}(n.orderBy));let a=null;n.limit&&(a=function(p){let v;return v=typeof p=="object"?p.value:p,zd(v)?null:v}(n.limit));let l=null;n.startAt&&(l=function(p){const v=!!p.before,w=p.values||[];return new Ls(w,v)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const v=!p.before,w=p.values||[];return new Ls(w,v)}(n.endAt)),nC(e,i,o,s,a,"F",l,d)}function N6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qa(n.unaryFilter.field);return Ae.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qa(n.unaryFilter.field);return Ae.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qa(n.unaryFilter.field);return Ae.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qa(n.unaryFilter.field);return Ae.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return Ae.create(Qa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Be.create(n.compositeFilter.filters.map(r=>DC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function O6(t){return R6[t]}function M6(t){return P6[t]}function V6(t){return A6[t]}function Ya(t){return{fieldPath:t.canonicalString()}}function Qa(t){return ot.fromServerFormat(t.fieldPath)}function NC(t){return t instanceof Ae?function(n){if(n.op==="=="){if(PT(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NAN"}};if(RT(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PT(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NAN"}};if(RT(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(n.field),op:M6(n.op),value:n.value}}}(t):t instanceof Be?function(n){const r=n.getFilters().map(i=>NC(i));return r.length===1?r[0]:{compositeFilter:{op:V6(n.op),filters:r}}}(t):oe()}function L6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n,r,i,s=ce.min(),o=ce.min(),a=Lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.ct=e}}function F6(t,e){let n;if(e.document)n=bC(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=te.fromSegments(e.noDocument.path),i=ta(e.noDocument.readTime);n=et.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return oe();{const r=te.fromSegments(e.unknownDocument.path),i=ta(e.unknownDocument.version);n=et.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new lt(i[0],i[1]);return ce.fromTimestamp(s)}(e.readTime)),n}function WT(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Mp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Id(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Wl(s,o.version.toTimestamp()),createTime:Wl(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ea(e.version)};else{if(!e.isUnknownDocument())return oe();r.unknownDocument={path:n.path.toArray(),version:ea(e.version)}}return r}function Mp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ea(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ta(t){const e=new lt(t.seconds,t.nanoseconds);return ce.fromTimestamp(e)}function So(t,e){const n=(e.baseMutations||[]).map(s=>w_(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>w_(t.ct,s)),i=lt.fromMillis(e.localWriteTimeMs);return new Nw(e.batchId,i,n,r)}function wc(t){const e=ta(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ta(t.lastLimboFreeSnapshotVersion):ce.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return ue(s.documents.length===1),In(hu(PC(s.documents[0])))}(t.query):function(s){return In(xC(s))}(t.query),new Ti(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Lt.fromBase64String(t.resumeToken))}function VC(t,e){const n=ea(e.snapshotVersion),r=ea(e.lastLimboFreeSnapshotVersion);let i;i=Dp(e.target)?kC(t.ct,e.target):CC(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Jo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Fw(t){const e=xC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Op(e,e.limit,"L"):e}function Sy(t,e){return new Mw(e.largestBatchId,w_(t.ct,e.overlayMutation))}function qT(t,e){const n=e.path.lastSegment();return[t,En(e.path.popLast()),n]}function GT(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:ea(r.readTime),documentKey:En(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{getBundleMetadata(e,n){return HT(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:ta(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return HT(e).put(function(i){return{bundleId:i.id,createTime:ea(Pt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return KT(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:Fw(s.bundledQuery),readTime:ta(s.readTime)}}(r)})}saveNamedQuery(e,n){return KT(e).put(function(i){return{name:i.name,readTime:ea(Pt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function HT(t){return Yt(t,"bundles")}function KT(t){return Yt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Mm(e,r)}getOverlay(e,n){return rc(e).get(qT(this.userId,n)).next(r=>r?Sy(this.serializer,r):null)}getOverlays(e,n){const r=Xr();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new Mw(n,o);i.push(this.ht(e,a))}),j.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(En(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(rc(e).j("collectionPathOverlayIndex",a))}),j.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Xr(),s=En(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return rc(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const d=Sy(this.serializer,l);i.set(d.getKey(),d)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Xr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return rc(e).J({index:"collectionGroupOverlayIndex",range:a},(l,d,f)=>{const p=Sy(this.serializer,d);s.size()<i||p.largestBatchId===o?(s.set(p.getKey(),p),o=p.largestBatchId):f.done()}).next(()=>s)}ht(e,n){return rc(e).put(function(i,s,o){const[a,l,d]=qT(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:d,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Sd(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function rc(t){return Yt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(vt(e.integerValue));else if("doubleValue"in e){const r=vt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),yd(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Di(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Os(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?Hk(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):oe()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),te.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}To.bt=new To;function j6(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function YT(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=j6(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class B6{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=YT(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=YT(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class z6{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class $6{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class ic{constructor(){this.Gt=new B6,this.zt=new z6(this.Gt),this.jt=new $6(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ro(this.indexId,this.documentKey,this.arrayValue,r)}}function Xi(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=QT(t.arrayValue,e.arrayValue),n!==0?n:(n=QT(t.directionalValue,e.directionalValue),n!==0?n:te.comparator(t.documentKey,e.documentKey)))}function QT(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.Yt=new qe((n,r)=>ot.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(ue(e.collectionGroup===this.collectionId),this.en)return!1;const n=u_(e);if(n!==void 0&&!this.nn(n))return!1;const r=Eo(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new qe(ot.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Bf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Bf(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Bf(r.field,r.dir==="asc"?0:1)));return new xp(xp.UNKNOWN_ID,this.collectionId,n,gd.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t){var e,n;if(ue(t instanceof Ae||t instanceof Be),t instanceof Ae){if(t instanceof tC){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Ae.create(t.field,"==",s)))||[];return Be.create(i,"or")}return t}const r=t.filters.map(i=>LC(i));return Be.create(r,t.op)}function W6(t){if(t.getFilters().length===0)return[];const e=S_(LC(t));return ue(FC(e)),E_(e)||I_(e)?[e]:e.getFilters()}function E_(t){return t instanceof Ae}function I_(t){return t instanceof Be&&kw(t)}function FC(t){return E_(t)||I_(t)||function(n){if(n instanceof Be&&f_(n)){for(const r of n.getFilters())if(!E_(r)&&!I_(r))return!1;return!0}return!1}(t)}function S_(t){if(ue(t instanceof Ae||t instanceof Be),t instanceof Ae)return t;if(t.filters.length===1)return S_(t.filters[0]);const e=t.filters.map(r=>S_(r));let n=Be.create(e,t.op);return n=Vp(n),FC(n)?n:(ue(n instanceof Be),ue(Bl(n)),ue(n.filters.length>1),n.filters.reduce((r,i)=>Uw(r,i)))}function Uw(t,e){let n;return ue(t instanceof Ae||t instanceof Be),ue(e instanceof Ae||e instanceof Be),n=t instanceof Ae?e instanceof Ae?function(i,s){return Be.create([i,s],"and")}(t,e):XT(t,e):e instanceof Ae?XT(e,t):function(i,s){if(ue(i.filters.length>0&&s.filters.length>0),Bl(i)&&Bl(s))return Xk(i,s.getFilters());const o=f_(i)?i:s,a=f_(i)?s:i,l=o.filters.map(d=>Uw(d,a));return Be.create(l,"or")}(t,e),Vp(n)}function XT(t,e){if(Bl(e))return Xk(e,t.getFilters());{const n=e.filters.map(r=>Uw(t,r));return Be.create(n,"or")}}function Vp(t){if(ue(t instanceof Ae||t instanceof Be),t instanceof Ae)return t;const e=t.getFilters();if(e.length===1)return Vp(e[0]);if(Qk(t))return t;const n=e.map(i=>Vp(i)),r=[];return n.forEach(i=>{i instanceof Ae?r.push(i):i instanceof Be&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Be.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(){this._n=new jw}addToCollectionParentIndex(e,n){return this._n.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Hn.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Hn.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class jw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qe(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qe(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new Uint8Array(0);class G6{constructor(e,n){this.databaseId=n,this.an=new jw,this.un=new Js(r=>Jo(r),(r,i)=>$d(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:r,parent:En(i)};return ZT(e).put(s)}return j.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[Nk(n),""],!1,!0);return ZT(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Jr(o.parent))}return r})}addFieldIndex(e,n){const r=sc(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=$a(e);return s.next(a=>{o.put(GT(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=sc(e),i=$a(e),s=za(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=sc(e),r=za(e),i=$a(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return j.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new JT(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=za(e);let i=!0;const s=new Map;return j.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=_e();const a=[];return j.forEach(s,(l,d)=>{Y("IndexedDbIndexManager",`Using index ${function(P){return`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map(U=>`${U.fieldPath}:${U.kind}`).join(",")}`}(l)} to execute ${Jo(n)}`);const f=function(P,U){const B=u_(U);if(B===void 0)return null;for(const G of Np(P,B.fieldPath))switch(G.op){case"array-contains-any":return G.value.arrayValue.values||[];case"array-contains":return[G.value]}return null}(d,l),p=function(P,U){const B=new Map;for(const G of Eo(U))for(const C of Np(P,G.fieldPath))switch(C.op){case"==":case"in":B.set(G.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return B.set(G.fieldPath.canonicalString(),C.value),Array.from(B.values())}return null}(d,l),v=function(P,U){const B=[];let G=!0;for(const C of Eo(U)){const T=C.kind===0?xT(P,C.fieldPath,P.startAt):DT(P,C.fieldPath,P.startAt);B.push(T.value),G&&(G=T.inclusive)}return new Ls(B,G)}(d,l),w=function(P,U){const B=[];let G=!0;for(const C of Eo(U)){const T=C.kind===0?DT(P,C.fieldPath,P.endAt):xT(P,C.fieldPath,P.endAt);B.push(T.value),G&&(G=T.inclusive)}return new Ls(B,G)}(d,l),I=this.hn(l,d,v),A=this.hn(l,d,w),k=this.Pn(l,d,p),b=this.In(l.indexId,f,I,v.inclusive,A,w.inclusive,k);return j.forEach(b,R=>r.G(R,n.limit).next(P=>{P.forEach(U=>{const B=te.fromSegments(U.documentKey);o.has(B)||(o=o.add(B),a.push(B))})}))}).next(()=>a)}return j.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=W6(Be.create(e.filters,"and")).map(r=>m_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),d=l/(n!=null?n.length:1),f=[];for(let p=0;p<l;++p){const v=n?this.Tn(n[p/d]):yf,w=this.En(e,v,r[p%d],i),I=this.dn(e,v,s[p%d],o),A=a.map(k=>this.En(e,v,k,!0));f.push(...this.createRange(w,I,A))}return f}En(e,n,r,i){const s=new Ro(e,te.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){const s=new Ro(e,te.empty(),n,r);return i?s.Jt():s}ln(e,n){const r=new JT(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return j.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let d=new qe(ot.comparator),f=!1;for(const p of l.filters)for(const v of p.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?f=!0:d=d.add(v.field));for(const p of l.orderBy)p.field.isKeyField()||(d=d.add(p.field));return d.size+(f?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new ic;for(const i of Eo(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ht(i.kind);To.bt.Pt(s,o)}return r.Wt()}Tn(e){const n=new ic;return To.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new ic;return To.bt.Pt(Qo(this.databaseId,n),r.Ht(function(s){const o=Eo(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new ic);let s=0;for(const o of Eo(e)){const a=r[s++];for(const l of i)if(this.Vn(n,o.fieldPath)&&wd(a))i=this.mn(i,o,a);else{const d=l.Ht(o.kind);To.bt.Pt(a,d)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new ic;l.seed(a.Wt()),To.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof Ae&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=sc(e),i=$a(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return j.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(f,p){const v=p?new gd(p.sequenceNumber,new Hn(ta(p.readTime),new te(Jr(p.documentKey)),p.largestBatchId)):gd.empty(),w=f.fields.map(([I,A])=>new Bf(ot.fromServerFormat(I),A));return new xp(f.indexId,f.collectionGroup,w,v)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ye(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=sc(e),s=$a(e);return this.gn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>j.forEach(a,l=>s.put(GT(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return j.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?j.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),j.forEach(a,l=>this.pn(e,i,l).next(d=>{const f=this.yn(s,l);return d.isEqual(f)?j.resolve():this.wn(e,s,l,d,f)}))))})}Sn(e,n,r,i){return za(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return za(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=za(e);let s=new qe(Xi);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new Ro(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new qe(Xi);const i=this.An(n,e);if(i==null)return r;const s=u_(n);if(s!=null){const o=e.data.field(s.fieldPath);if(wd(o))for(const a of o.arrayValue.values||[])r=r.add(new Ro(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Ro(n.indexId,e.key,yf,i));return r}wn(e,n,r,i,s){Y("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,d,f,p,v){const w=l.getIterator(),I=d.getIterator();let A=Ba(w),k=Ba(I);for(;A||k;){let b=!1,R=!1;if(A&&k){const P=f(A,k);P<0?R=!0:P>0&&(b=!0)}else A!=null?R=!0:b=!0;b?(p(k),k=Ba(I)):R?(v(A),A=Ba(w)):(A=Ba(w),k=Ba(I))}}(i,s,Xi,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),j.waitFor(o)}gn(e){let n=1;return $a(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Xi(o,a)).filter((o,a,l)=>!a||Xi(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Xi(o,e),l=Xi(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(o),i.push(o.Jt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,yf,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,yf,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,n){return Xi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(e1)}getMinOffset(e,n){return j.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||oe())).next(e1)}}function ZT(t){return Yt(t,"collectionParents")}function za(t){return Yt(t,"indexEntries")}function sc(t){return Yt(t,"indexConfiguration")}function $a(t){return Yt(t,"indexState")}function e1(t){ue(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Pw(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Hn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class kn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},(f,p,v)=>(a++,v.delete()));s.push(l.next(()=>{ue(a===1)}));const d=[];for(const f of n.mutations){const p=jk(e,f.key.path,n.batchId);s.push(i.delete(p)),d.push(f.key)}return j.waitFor(s).next(()=>d)}function Lp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw oe();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(41943040,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class Vm{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){ue(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Vm(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zi(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Ja(e),o=Zi(e);return o.add({}).next(a=>{ue(typeof a=="number");const l=new Nw(a,n,r,i),d=function(w,I,A){const k=A.baseMutations.map(R=>Sd(w.ct,R)),b=A.mutations.map(R=>Sd(w.ct,R));return{userId:I,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:k,mutations:b}}(this.serializer,this.userId,l),f=[];let p=new qe((v,w)=>ye(v.canonicalString(),w.canonicalString()));for(const v of i){const w=jk(this.userId,v.key.path,a);p=p.add(v.key.path.popLast()),f.push(o.put(d)),f.push(s.put(w,O3))}return p.forEach(v=>{f.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),j.waitFor(f).next(()=>l)})}lookupMutationBatch(e,n){return Zi(e).get(n).next(r=>r?(ue(r.userId===this.userId),So(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?j.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Zi(e).J({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(ue(a.batchId>=r),s=So(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Zi(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zi(e).U("userMutationsIndex",n).next(r=>r.map(i=>So(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=zf(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Ja(e).J({range:i},(o,a,l)=>{const[d,f,p]=o,v=Jr(f);if(d===this.userId&&n.path.isEqual(v))return Zi(e).get(p).next(w=>{if(!w)throw oe();ue(w.userId===this.userId),s.push(So(this.serializer,w))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qe(ye);const i=[];return n.forEach(s=>{const o=zf(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Ja(e).J({range:a},(d,f,p)=>{const[v,w,I]=d,A=Jr(w);v===this.userId&&s.path.isEqual(A)?r=r.add(I):p.done()});i.push(l)}),j.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=zf(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new qe(ye);return Ja(e).J({range:o},(l,d,f)=>{const[p,v,w]=l,I=Jr(v);p===this.userId&&r.isPrefixOf(I)?I.length===i&&(a=a.add(w)):f.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Zi(e).get(s).next(o=>{if(o===null)throw oe();ue(o.userId===this.userId),r.push(So(this.serializer,o))}))}),j.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return UC(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),j.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return j.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Ja(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Jr(s[1]);i.push(l)}else a.done()}).next(()=>{ue(i.length===0)})})}containsKey(e,n){return jC(e,this.userId,n)}xn(e){return BC(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function jC(t,e,n){const r=zf(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ja(t).J({range:s,H:!0},(a,l,d)=>{const[f,p,v]=a;f===e&&p===i&&(o=!0),d.done()}).next(()=>o)}function Zi(t){return Yt(t,"mutations")}function Ja(t){return Yt(t,"documentMutations")}function BC(t){return Yt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new na(0)}static Ln(){return new na(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new na(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ce.fromTimestamp(new lt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Wa(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ue(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Wa(e).J((o,a)=>{const l=wc(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>j.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Wa(e).J((r,i)=>{const s=wc(i);n(s)})}Bn(e){return n1(e).get("targetGlobalKey").next(n=>(ue(n!==null),n))}kn(e,n){return n1(e).put("targetGlobalKey",n)}qn(e,n){return Wa(e).put(VC(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Jo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Wa(e).J({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const d=wc(a);$d(n,d.target)&&(s=d,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=ls(e);return n.forEach(o=>{const a=En(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),j.waitFor(i)}removeMatchingKeys(e,n,r){const i=ls(e);return j.forEach(n,s=>{const o=En(s.path);return j.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=ls(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ls(e);let s=_e();return i.J({range:r,H:!0},(o,a,l)=>{const d=Jr(o[1]),f=new te(d);s=s.add(f)}).next(()=>s)}containsKey(e,n){const r=En(n.path),i=IDBKeyRange.bound([r],[Nk(r)],!1,!0);let s=0;return ls(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],l,d)=>{o!==0&&(s++,d.done())}).next(()=>s>0)}ot(e,n){return Wa(e).get(n).next(r=>r?wc(r):null)}}function Wa(t){return Yt(t,"targets")}function n1(t){return Yt(t,"targetGlobal")}function ls(t){return Yt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1([t,e],[n,r]){const i=ye(t,n);return i===0?ye(e,r):i}class K6{constructor(e){this.Kn=e,this.buffer=new qe(r1),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();r1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Y6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){Y("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qs(n)?Y("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ys(n)}await this.zn(3e5)})}}class Q6{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Dn.oe);const r=new K6(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(t1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t1):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,l,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(d=Date.now(),Ha()<=Te.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(d-l)+`ms
Total Duration: ${d-f}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function J6(t,e){return new Q6(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,n){this.db=e,this.garbageCollector=J6(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return vf(e,r)}removeReference(e,n,r){return vf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return vf(e,n)}er(e,n){return function(i,s){let o=!1;return BC(i).Y(a=>jC(i,a,s).next(l=>(l&&(o=!0),j.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=n){const l=this.er(e,o).next(d=>{if(!d)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ce.min()),ls(e).delete(function(p){return[0,En(p.path)]}(o))))});i.push(l)}}).next(()=>j.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return vf(e,n)}Xn(e,n){const r=ls(e);let i,s=Dn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:d})=>{o===0?(s!==Dn.oe&&n(new te(Jr(i)),s),s=d,i=l):s=Dn.oe}).next(()=>{s!==Dn.oe&&n(new te(Jr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vf(t,e){return ls(t).put(function(r,i){return{targetId:0,path:En(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this.changes=new Js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return go(e).put(r)}removeEntry(e,n,r){return go(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Mp(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=et.newInvalidDocument(n);return go(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(oc(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:et.newInvalidDocument(n)};return go(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(oc(n))},(i,s)=>{r={document:this.nr(n,s),size:Lp(s)}}).next(()=>r)}getEntries(e,n){let r=On();return this.ir(e,n,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=On(),i=new Je(te.comparator);return this.ir(e,n,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,Lp(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return j.resolve();let i=new qe(o1);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(oc(i.first()),oc(i.last())),o=i.getIterator();let a=o.getNext();return go(e).J({index:"documentKeyIndex",range:s},(l,d,f)=>{const p=te.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&o1(a,p)<0;)r(a,null),a=o.getNext();a&&a.isEqual(p)&&(r(a,d),a=o.hasNext()?o.getNext():null),a?f.$(oc(a)):f.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Mp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return go(e).U(IDBKeyRange.bound(a,l,!0)).next(d=>{s==null||s.incrementDocumentReadCount(d.length);let f=On();for(const p of d){const v=this.nr(te.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);v.isFoundDocument()&&(qd(n,v)||i.has(v.key))&&(f=f.insert(v.key,v))}return f})}getAllFromCollectionGroup(e,n,r,i){let s=On();const o=s1(n,r),a=s1(n,Hn.max());return go(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,d,f)=>{const p=this.nr(te.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);s=s.insert(p.key,p),s.size===i&&f.done()}).next(()=>s)}newChangeBuffer(e){return new ez(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return i1(e).get("remoteDocumentGlobalKey").next(n=>(ue(!!n),n))}tr(e,n){return i1(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=F6(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ce.min())))return r}return et.newInvalidDocument(e)}}function $C(t){return new Z6(t)}class ez extends zC{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Js(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new qe((s,o)=>ye(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=WT(this.ar.serializer,o);i=i.add(s.path.popLast());const d=Lp(l);r+=d-a.size,n.push(this.ar.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=WT(this.ar.serializer,o.convertToNoDocument(ce.min()));n.push(this.ar.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),j.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function i1(t){return Yt(t,"remoteDocumentGlobal")}function go(t){return Yt(t,"remoteDocumentsV14")}function oc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function s1(t,e){const n=e.documentKey.path.toArray();return[t,Mp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function o1(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ye(n[s],r[s]),i)return i;return i=ye(n.length,r.length),i||(i=ye(n[n.length-2],r[r.length-2]),i||ye(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fc(r.mutation,i,Nn.empty(),lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=Xr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=vc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Xr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=On();const o=Lc(),a=function(){return Lc()}();return n.forEach((l,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Ui)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Fc(f.mutation,d,f.mutation.getFieldMask(),lt.now())):o.set(d.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>{var p;return a.set(d,new tz(f,(p=o.get(d))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Lc();let i=new Je((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let f=r.get(l)||Nn.empty();f=a.applyToLocalView(d,f),r.set(l,f);const p=(i.get(a.batchId)||_e()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,f=l.value,p=lC();f.forEach(v=>{if(!s.has(v)){const w=gC(n.get(v),r.get(v));w!==null&&p.set(v,w),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Cw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(Xr());let a=-1,l=s;return o.next(d=>j.forEach(d,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(f)?j.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{l=l.insert(f,v)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,l,d,_e())).next(f=>({batchId:a,changes:aC(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=vc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=vc();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,l=>{const d=function(p,v){return new Fi(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((p,v)=>{o=o.insert(p,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,et.newInvalidDocument(f)))});let a=vc();return o.forEach((l,d)=>{const f=s.get(l);f!==void 0&&Fc(f.mutation,d,Nn.empty(),lt.now()),qd(n,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return j.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pt(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Fw(i.bundledQuery),readTime:Pt(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(){this.overlays=new Je(te.comparator),this.hr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xr();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=Xr(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Je((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Xr(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const a=Xr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,f)=>a.set(d,f)),!(a.size()>=i)););return j.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Mw(n,r));let s=this.hr.get(n);s===void 0&&(s=_e(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.Pr=new qe(zt.Ir),this.Tr=new qe(zt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new zt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new te(new Pe([])),r=new zt(n,e),i=new zt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new te(new Pe([])),r=new zt(n,e),i=new zt(n,e+1);let s=_e();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new zt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return te.comparator(e.key,n.key)||ye(e.pr,n.pr)}static Er(e,n){return ye(e.pr,n.pr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new qe(zt.Ir)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Nw(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new zt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),i=new zt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qe(ye);return n.forEach(i=>{const s=new zt(i,0),o=new zt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),j.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new zt(new te(s),0);let a=new qe(ye);return this.wr.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(l.pr)),!0)},o),j.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ue(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return j.forEach(n.mutations,i=>{const s=new zt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new zt(n,0),i=this.wr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e){this.vr=e,this.docs=function(){return new Je(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():et.newInvalidDocument(n))}getEntries(e,n){let r=On();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():et.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=On();const o=n.path,a=new te(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:f}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Pw(Mk(f),r)<=0||(i.has(f.key)||qd(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){oe()}Fr(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oz(this)}getSize(e){return j.resolve(this.size)}}class oz extends zC{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e){this.persistence=e,this.Mr=new Js(n=>Jo(n),$d),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Bw,this.targetCount=0,this.Lr=na.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),j.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new na(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.qn(n),j.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n){this.Br={},this.overlays={},this.kr=new Dn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new az(this),this.indexManager=new q6,this.remoteDocumentCache=function(i){return new sz(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new MC(n),this.$r=new nz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new iz(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new lz(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return j.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class lz extends Lk{constructor(e){super(),this.currentSequenceNumber=e}}class Lm{constructor(e){this.persistence=e,this.zr=new Bw,this.jr=null}static Hr(e){return new Lm(e)}get Jr(){if(this.jr)return this.jr;throw oe()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),j.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Jr,r=>{const i=te.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ce.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return j.or([()=>j.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e){this.serializer=e}O(e,n,r,i){const s=new xm("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ET,{unique:!0}),l.createObjectStore("documentMutations")}(e),a1(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=j.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),a1(e)),o=o.next(()=>function(l){const d=l.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ce.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",f)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,d){return d.store("mutations").U().next(f=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ET,{unique:!0});const p=d.store("mutations"),v=f.map(w=>p.put(w));return j.waitFor(v)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const d=l.createObjectStore("documentOverlays",{keyPath:G3});d.createIndex("collectionPathOverlayIndex",H3,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",K3,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const d=l.createObjectStore("remoteDocumentsV14",{keyPath:M3});d.createIndex("documentKeyIndex",V3),d.createIndex("collectionGroupIndex",L3)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:z3}).createIndex("sequenceNumberIndex",$3,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:W3}).createIndex("documentKeyIndex",q3,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),o}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Lp(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>j.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>j.forEach(a,l=>{ue(l.userId===s.userId);const d=So(this.serializer,l);return UC(e,s.userId,d).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const l=new Pe(o),d=function(p){return[0,En(p)]}(l);s.push(n.get(d).next(f=>f?j.resolve():(p=>n.put({targetId:0,path:En(p),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>j.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:B3});const r=n.store("collectionParents"),i=new jw,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:En(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new Pe(o);return s(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],d)=>{const f=Jr(a);return s(f.popLast())}))}ri(e){const n=e.store("targets");return n.J((r,i)=>{const s=wc(i),o=VC(this.serializer,s);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(p){return p.document?new te(Pe.fromString(p.document.name).popFirst(5)):p.noDocument?te.fromSegments(p.noDocument.path):p.unknownDocument?te.fromSegments(p.unknownDocument.path):oe()}(o).path.toArray(),d={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(d))}).next(()=>j.waitFor(i))}si(e,n){const r=n.store("mutations"),i=$C(this.serializer),s=new qC(Lm.Hr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var d;let f=(d=a.get(l.userId))!==null&&d!==void 0?d:_e();So(this.serializer,l).keys().forEach(p=>f=f.add(p)),a.set(l.userId,f)}),j.forEach(a,(l,d)=>{const f=new Wt(d),p=Mm.lt(this.serializer,f),v=s.getIndexManager(f),w=Vm.lt(f,this.serializer,v,s.referenceDelegate);return new WC(i,w,p,v).recalculateAndSaveOverlaysForDocumentKeys(new c_(n,Dn.oe),l).next()})})}}function a1(t){t.createObjectStore("targetDocuments",{keyPath:U3}).createIndex("documentTargetsIndex",j3,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",F3,{unique:!0}),t.createObjectStore("targetGlobal")}const Ty="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zw{constructor(e,n,r,i,s,o,a,l,d,f,p=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=d,this.ai=f,this.ui=p,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=v=>Promise.resolve(),!zw.D())throw new K($.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new X6(this,i),this.Ti=n+"main",this.serializer=new MC(l),this.Ei=new ti(this.Ti,this.ui,new uz(this.serializer)),this.Qr=new H6(this.referenceDelegate,this.serializer),this.remoteDocumentCache=$C(this.serializer),this.$r=new U6,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,f===!1&&Rt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new K($.FAILED_PRECONDITION,Ty);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Dn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>_f(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Qs(e))return Y("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Y("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return ac(e).get("owner").next(n=>j.resolve(this.Si(n)))}bi(e){return _f(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Yt(n,"clientMetadata");return r.U().next(i=>{const s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return j.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?j.resolve(!0):ac(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new K($.FAILED_PRECONDITION,Ty);return!1}}return!(!this.networkEnabled||!this.inForeground)||_f(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&Y("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new c_(e,Dn.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>_f(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Vm.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new G6(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Mm.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){Y("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===16?Q3:l===15?Wk:l===14?$k:l===13?zk:l===12?Y3:l===11?Bk:void oe()}(this.ui);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new c_(a,this.kr?this.kr.next():Dn.oe),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw Rt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new K($.FAILED_PRECONDITION,Vk);return r(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return ac(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new K($.FAILED_PRECONDITION,Ty)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ac(e).put("owner",n)}static D(){return ti.D()}yi(e){const n=ac(e);return n.get("owner").next(r=>this.Si(r)?(Y("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):j.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Rt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;ub()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return Y("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Rt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Rt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ac(t){return Yt(t,"owner")}function _f(t){return Yt(t,"clientMetadata")}function $w(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ww(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return ub()?8:Fk(ut())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new cz;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ha()<=Te.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),j.resolve()):(Ha()<=Te.DEBUG&&Y("QueryEngine","Query:",Ka(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ha()<=Te.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,In(n))):j.resolve())}ji(e,n){if(NT(n))return j.resolve(null);let r=In(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Op(n,null,"F"),r=In(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.Zi(n,a);return this.Xi(n,d,o,l.readTime)?this.ji(e,Op(n,null,"F")):this.es(e,d,n,l)}))})))}Hi(e,n,r,i){return NT(n)||i.isEqual(ce.min())?j.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?j.resolve(null):(Ha()<=Te.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ka(n)),this.es(e,o,n,Ok(i,-1)).next(a=>a))})}Zi(e,n){let r=new qe(sC(e));return n.forEach((i,s)=>{qd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ha()<=Te.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Ka(n)),this.zi.getDocumentsMatchingQuery(e,n,Hn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Je(ye),this.rs=new Js(s=>Jo(s),$d),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WC(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function HC(t,e,n,r){return new dz(t,e,n,r)}async function KC(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=_e();for(const d of i){o.push(d.batchId);for(const f of d.mutations)l=l.add(f.key)}for(const d of s){a.push(d.batchId);for(const f of d.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(d=>({us:d,removedBatchIds:o,addedBatchIds:a}))})})}function hz(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,d,f){const p=d.batch,v=p.keys();let w=j.resolve();return v.forEach(I=>{w=w.next(()=>f.getEntry(l,I)).next(A=>{const k=d.docVersions.get(I);ue(k!==null),A.version.compareTo(k)<0&&(p.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),f.addEntry(A)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=_e();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YC(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function fz(t,e){const n=re(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((f,p)=>{const v=i.get(p);if(!v)return;a.push(n.Qr.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(s,f.addedDocuments,p)));let w=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(Lt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,r)),i=i.insert(p,w),function(A,k,b){return A.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(v,w,f)&&a.push(n.Qr.updateTargetData(s,w))});let l=On(),d=_e();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(QC(s,o,e.documentUpdates).next(f=>{l=f.cs,d=f.ls})),!r.isEqual(ce.min())){const f=n.Qr.getLastRemoteSnapshotVersion(s).next(p=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,d)).next(()=>l)}).then(s=>(n.ns=i,s))}function QC(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=On();return n.forEach((a,l)=>{const d=s.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{cs:o,ls:i}})}function pz(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ql(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Ti(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Gl(t,e,n){const r=re(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Qs(o))throw o;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Fp(t,e,n){const r=re(t);let i=ce.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,f){const p=re(l),v=p.rs.get(f);return v!==void 0?j.resolve(p.ns.get(v)):p.Qr.getTargetData(d,f)}(r,o,In(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ce.min(),n?s:_e())).next(a=>(ZC(r,iC(e),a),{documents:a,hs:s})))}function JC(t,e){const n=re(t),r=re(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function XC(t,e){const n=re(t),r=n.ss.get(e)||ce.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,Ok(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(ZC(n,e,i),i))}function ZC(t,e,n){let r=t.ss.get(e)||ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}async function mz(t,e,n,r){const i=re(t);let s=_e(),o=On();for(const d of n){const f=e.Ps(d.metadata.name);d.document&&(s=s.add(f));const p=e.Is(d);p.setReadTime(e.Ts(d.metadata.readTime)),o=o.insert(f,p)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=await ql(i,function(f){return In(hu(Pe.fromString(`__bundle__/docs/${f}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",d=>QC(d,a,o).next(f=>(a.apply(d),f)).next(f=>i.Qr.removeMatchingKeysForTargetId(d,l.targetId).next(()=>i.Qr.addMatchingKeys(d,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(d,f.cs,f.ls)).next(()=>f.cs)))}async function gz(t,e,n=_e()){const r=await ql(t,In(Fw(e.bundledQuery))),i=re(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Pt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(s,e);const a=r.withResumeToken(Lt.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(s,a).next(()=>i.Qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.$r.saveNamedQuery(s,e))})}function l1(t,e){return`firestore_clients_${t}_${e}`}function u1(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Ry(t,e){return`firestore_targets_${t}_${e}`}class Up{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new K(i.error.code,i.error.message))),o?new Up(e,n,i.state,s):(Rt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Uc{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new K(r.error.code,r.error.message))),s?new Uc(e,r.state,i):(Rt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jp{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=xw();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=Uk(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new jp(e,s):(Rt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class qw{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new qw(n.clientId,n.onlineState):(Rt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class T_{constructor(){this.activeTargetIds=xw()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Py{constructor(e,n,r,i,s){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Je(ye),this.started=!1,this.ys=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=l1(this.persistenceKey,this.Vs),this.Ss=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new T_),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Vs)continue;const i=this.getItem(l1(this.persistenceKey,r));if(i){const s=jp.Es(r,i);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();const n=this.storage.getItem(this.vs);if(n){const r=this.xs(n);r&&this.Os(r)}for(const r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Ry(this.persistenceKey,e));if(r){const i=Uc.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ry(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Y("SharedClientState","READ",e,n),n}setItem(e,n){Y("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Y("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const n=e;if(n.storageArea===this.storage){if(Y("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void Rt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){const r=this.$s(n.key);return this.Us(r,null)}{const r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){const r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){const r=function(s){let o=Dn.oe;if(s!=null)try{const a=JSON.parse(s);ue(typeof a=="number"),o=a}catch(a){Rt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Dn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){const r=this.Js(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)})}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){const i=new Up(this.currentUser,e,n,r),s=u1(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Bs(e){const n=u1(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){const n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){const i=Ry(this.persistenceKey,e),s=new Uc(e,n,r);this.setItem(i,s.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return jp.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Up.Es(new Wt(s),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return Uc.Es(i,n)}xs(e){return qw.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);Y("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=xw();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class ex{constructor(){this.no=new T_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new T_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf=null;function Ay(){return wf===null?wf=function(){return 268435456+Math.round(2147483648*Math.random())}():wf++,"0x"+wf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class wz extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=Ay(),l=this.vo(n,r.toUriEncodedString());Y("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const d={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(d,s,o),this.Mo(n,l,d,i).then(f=>(Y("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Or("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",l,"request:",i),f})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+du}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=vz[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Ay();return new Promise((o,a)=>{const l=new Rk;l.setWithCredentials(!0),l.listenOnce(Ak.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case jf.NO_ERROR:const f=l.getResponseJson();Y(ln,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case jf.TIMEOUT:Y(ln,`RPC '${e}' ${s} timed out`),a(new K($.DEADLINE_EXCEEDED,"Request time out"));break;case jf.HTTP_ERROR:const p=l.getStatus();if(Y(ln,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);const w=v==null?void 0:v.error;if(w&&w.status&&w.message){const I=function(k){const b=k.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(b)>=0?b:$.UNKNOWN}(w.status);a(new K(I,w.message))}else a(new K($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K($.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{Y(ln,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);Y(ln,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",d,r,15)})}Oo(e,n,r){const i=Ay(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ck(),a=kk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.xmlHttpFactory=new Pk({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");Y(ln,`Creating RPC '${e}' stream ${i}: ${f}`,l);const p=o.createWebChannel(f,l);let v=!1,w=!1;const I=new _z({lo:k=>{w?Y(ln,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(v||(Y(ln,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),Y(ln,`RPC '${e}' stream ${i} sending:`,k),p.send(k))},ho:()=>p.close()}),A=(k,b,R)=>{k.listen(b,P=>{try{R(P)}catch(U){setTimeout(()=>{throw U},0)}})};return A(p,yc.EventType.OPEN,()=>{w||(Y(ln,`RPC '${e}' stream ${i} transport opened.`),I.mo())}),A(p,yc.EventType.CLOSE,()=>{w||(w=!0,Y(ln,`RPC '${e}' stream ${i} transport closed`),I.po())}),A(p,yc.EventType.ERROR,k=>{w||(w=!0,Or(ln,`RPC '${e}' stream ${i} transport errored:`,k),I.po(new K($.UNAVAILABLE,"The operation could not be completed")))}),A(p,yc.EventType.MESSAGE,k=>{var b;if(!w){const R=k.data[0];ue(!!R);const P=R,U=P.error||((b=P[0])===null||b===void 0?void 0:b.error);if(U){Y(ln,`RPC '${e}' stream ${i} received error:`,U);const B=U.status;let G=function(x){const D=At[x];if(D!==void 0)return _C(D)}(B),C=U.message;G===void 0&&(G=$.INTERNAL,C="Unknown error status: "+B+" with message "+U.message),w=!0,I.po(new K(G,C)),p.close()}else Y(ln,`RPC '${e}' stream ${i} received:`,R),I.yo(R)}}),A(a,bk.STAT_EVENT,k=>{k.stat===l_.PROXY?Y(ln,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===l_.NOPROXY&&Y(ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.fo()},0),I}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(){return typeof window<"u"?window:null}function Hf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t){return new b6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Gw(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Rt(n.toString()),Rt("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new K($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ez extends nx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=x6(this.serializer,e),r=function(s){if(!("targetChange"in s))return ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?Pt(o.readTime):ce.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=__(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Dp(l)?{documents:kC(s,l)}:{query:CC(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=SC(s,o.resumeToken);const d=y_(s,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=Wl(s,o.snapshotVersion.toTimestamp());const d=y_(s,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=N6(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=__(this.serializer),n.removeTarget=e,this.i_(n)}}class Iz extends nx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=D6(e.writeResults,e.commitTime),r=Pt(e.commitTime);return this.listener.A_(r,n)}return ue(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=__(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Sd(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,v_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K($.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,v_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K($.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Tz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Rt(n),this.y_=!1):Y("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Xs(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(l){const d=re(l);d.M_.add(4),await mu(d),d.N_.set("Unknown"),d.M_.delete(4),await Qd(d)}(this))})}),this.N_=new Tz(r,i)}}async function Qd(t){if(Xs(t))for(const e of t.x_)await e(!0)}async function mu(t){for(const e of t.x_)await e(!1)}function Fm(t,e){const n=re(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Yw(n)?Kw(n):yu(n).Xo()&&Hw(n,e))}function Hl(t,e){const n=re(t),r=yu(n);n.F_.delete(e),r.Xo()&&rx(n,e),n.F_.size===0&&(r.Xo()?r.n_():Xs(n)&&n.N_.set("Unknown"))}function Hw(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yu(t).P_(e)}function rx(t,e){t.L_.xe(e),yu(t).I_(e)}function Kw(t){t.L_=new T6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),yu(t).start(),t.N_.w_()}function Yw(t){return Xs(t)&&!yu(t).Zo()&&t.F_.size>0}function Xs(t){return re(t).M_.size===0}function ix(t){t.L_=void 0}async function Pz(t){t.N_.set("Online")}async function Az(t){t.F_.forEach((e,n)=>{Hw(t,e)})}async function bz(t,e){ix(t),Yw(t)?(t.N_.D_(e),Kw(t)):t.N_.set("Unknown")}async function kz(t,e,n){if(t.N_.set("Online"),e instanceof IC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bp(t,r)}else if(e instanceof Gf?t.L_.Ke(e):e instanceof EC?t.L_.He(e):t.L_.We(e),!n.isEqual(ce.min()))try{const r=await YC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.F_.get(d);f&&s.F_.set(d,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const f=s.F_.get(l);if(!f)return;s.F_.set(l,f.withResumeToken(Lt.EMPTY_BYTE_STRING,f.snapshotVersion)),rx(s,l);const p=new Ti(f.target,l,d,f.sequenceNumber);Hw(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),await Bp(t,r)}}async function Bp(t,e,n){if(!Qs(e))throw e;t.M_.add(1),await mu(t),t.N_.set("Offline"),n||(n=()=>YC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Qd(t)})}function sx(t,e){return e().catch(n=>Bp(t,n,e))}async function gu(t){const e=re(t),n=Fs(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Cz(e);)try{const i=await pz(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,xz(e,i)}catch(i){await Bp(e,i)}ox(e)&&ax(e)}function Cz(t){return Xs(t)&&t.v_.length<10}function xz(t,e){t.v_.push(e);const n=Fs(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function ox(t){return Xs(t)&&!Fs(t).Zo()&&t.v_.length>0}function ax(t){Fs(t).start()}async function Dz(t){Fs(t).V_()}async function Nz(t){const e=Fs(t);for(const n of t.v_)e.d_(n.mutations)}async function Oz(t,e,n){const r=t.v_.shift(),i=Ow.from(r,e,n);await sx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await gu(t)}async function Mz(t,e){e&&Fs(t).E_&&await async function(r,i){if(function(o){return vC(o)&&o!==$.ABORTED}(i.code)){const s=r.v_.shift();Fs(r).t_(),await sx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await gu(r)}}(t,e),ox(t)&&ax(t)}async function d1(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const r=Xs(n);n.M_.add(3),await mu(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Qd(n)}async function R_(t,e){const n=re(t);e?(n.M_.delete(2),await Qd(n)):e||(n.M_.add(2),await mu(n),n.N_.set("Unknown"))}function yu(t){return t.B_||(t.B_=function(n,r,i){const s=re(n);return s.f_(),new Ez(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Pz.bind(null,t),To:Az.bind(null,t),Ao:bz.bind(null,t),h_:kz.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Yw(t)?Kw(t):t.N_.set("Unknown")):(await t.B_.stop(),ix(t))})),t.B_}function Fs(t){return t.k_||(t.k_=function(n,r,i){const s=re(n);return s.f_(),new Iz(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:Dz.bind(null,t),Ao:Mz.bind(null,t),R_:Nz.bind(null,t),A_:Oz.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await gu(t)):(await t.k_.stop(),t.v_.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ht,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Qw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vu(t,e){if(Rt("AsyncQueue",`${e}: ${t}`),Qs(t))return new K($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=vc(),this.sortedSet=new Je(this.comparator)}static emptySet(e){return new Tl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.q_=new Je(te.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):oe():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Kl{constructor(e,n,r,i,s,o,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Kl(e,n,Tl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Lz{constructor(){this.queries=new Js(e=>rC(e),Wd),this.onlineState="Unknown",this.z_=new Set}}async function Jw(t,e){const n=re(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new Vz,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=vu(o,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Zw(n)}async function Xw(t,e){const n=re(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Fz(t,e){const n=re(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&Zw(n)}function Uz(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function Zw(t){t.z_.forEach(e=>{e.next()})}var P_,f1;(f1=P_||(P_={})).J_="default",f1.Cache="cache";class eE{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==P_.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.serializer=e}Ps(e){return ni(this.serializer,e)}Is(e){return e.metadata.exists?bC(this.serializer,e.document,!1):et.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Pt(e)}}class Bz{constructor(e,n,r){this.oa=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lx(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;const r=Pe.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){const n=new Map,r=new p1(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ps(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||_e()).add(s);n.set(o,a)}}return n}async complete(){const e=await mz(this.localStore,new p1(this.serializer),this.documents,this.oa.id),n=this.aa(this.documents);for(const r of this.queries)await gz(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function lx(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.key=e}}class cx{constructor(e){this.key=e}}class dx{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=_e(),this.mutatedKeys=_e(),this.Ia=sC(e),this.Ta=new Tl(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new h1,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const v=i.get(f),w=qd(this.query,p)?p:null,I=!!v&&this.mutatedKeys.has(v.key),A=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let k=!1;v&&w?v.data.isEqual(w.data)?I!==A&&(r.track({type:3,doc:w}),k=!0):this.Ra(v,w)||(r.track({type:2,doc:w}),k=!0,(l&&this.Ia(w,l)>0||d&&this.Ia(w,d)<0)&&(a=!0)):!v&&w?(r.track({type:0,doc:w}),k=!0):v&&!w&&(r.track({type:1,doc:v}),k=!0,(l||d)&&(a=!0)),k&&(w?(o=o.add(w),s=A?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((f,p)=>function(w,I){const A=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return A(w)-A(I)}(f.type,p.type)||this.Ia(f.doc,p.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,d=l!==this.ha;return this.ha=l,o.length!==0||d?{snapshot:new Kl(this.query,e.Ta,s,o,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new h1,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=_e(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new cx(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new ux(r))}),n}pa(e){this.la=e.hs,this.Pa=_e();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Kl.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class zz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $z{constructor(e){this.key=e,this.wa=!1}}class Wz{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Js(a=>rC(a),Wd),this.Da=new Map,this.Ca=new Set,this.va=new Je(te.comparator),this.Fa=new Map,this.Ma=new Bw,this.xa={},this.Oa=new Map,this.Na=na.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function qz(t,e,n=!0){const r=Um(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await hx(r,e,n,!0),i}async function Gz(t,e){const n=Um(t);await hx(n,e,!0,!1)}async function hx(t,e,n,r){const i=await ql(t.localStore,In(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await tE(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Fm(t.remoteStore,i),a}async function tE(t,e,n,r,i){t.Ba=(p,v,w)=>async function(A,k,b,R){let P=k.view.da(b);P.Xi&&(P=await Fp(A.localStore,k.query,!1).then(({documents:C})=>k.view.da(C,P)));const U=R&&R.targetChanges.get(k.targetId),B=R&&R.targetMismatches.get(k.targetId)!=null,G=k.view.applyChanges(P,A.isPrimaryClient,U,B);return A_(A,k.targetId,G.fa),G.snapshot}(t,p,v,w);const s=await Fp(t.localStore,e,!0),o=new dx(e,s.hs),a=o.da(s.documents),l=Kd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(a,t.isPrimaryClient,l);A_(t,n,d.fa);const f=new zz(e,n,o);return t.ba.set(e,f),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),d.snapshot}async function Hz(t,e,n){const r=re(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Wd(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gl(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Hl(r.remoteStore,i.targetId),Yl(r,i.targetId)}).catch(Ys)):(Yl(r,i.targetId),await Gl(r.localStore,i.targetId,!0))}async function Kz(t,e){const n=re(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hl(n.remoteStore,r.targetId))}async function Yz(t,e,n){const r=sE(t);try{const i=await function(o,a){const l=re(o),d=lt.now(),f=a.reduce((w,I)=>w.add(I.key),_e());let p,v;return l.persistence.runTransaction("Locally write mutations","readwrite",w=>{let I=On(),A=_e();return l.os.getEntries(w,f).next(k=>{I=k,I.forEach((b,R)=>{R.isValidDocument()||(A=A.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(w,I)).next(k=>{p=k;const b=[];for(const R of a){const P=E6(R,p.get(R.key).overlayedDocument);P!=null&&b.push(new Ui(R.key,P,Kk(P.value.mapValue),at.exists(!0)))}return l.mutationQueue.addMutationBatch(w,d,b,a)}).next(k=>{v=k;const b=k.applyToLocalDocumentSet(p,A);return l.documentOverlayCache.saveOverlays(w,k.batchId,b)})}).then(()=>({batchId:v.batchId,changes:aC(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let d=o.xa[o.currentUser.toKey()];d||(d=new Je(ye)),d=d.insert(a,l),o.xa[o.currentUser.toKey()]=d}(r,i.batchId,n),await ji(r,i.changes),await gu(r.remoteStore)}catch(i){const s=vu(i,"Failed to persist write");n.reject(s)}}async function fx(t,e){const n=re(t);try{const r=await fz(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?ue(o.wa):i.removedDocuments.size>0&&(ue(o.wa),o.wa=!1))}),await ji(n,r,e)}catch(r){await Ys(r)}}function m1(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=re(o);l.onlineState=a;let d=!1;l.queries.forEach((f,p)=>{for(const v of p.U_)v.j_(a)&&(d=!0)}),d&&Zw(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Qz(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Je(te.comparator);o=o.insert(s,et.newNoDocument(s,ce.min()));const a=_e().add(s),l=new Hd(ce.min(),new Map,new Je(ye),o,a);await fx(r,l),r.va=r.va.remove(s),r.Fa.delete(e),iE(r)}else await Gl(r.localStore,e,!1).then(()=>Yl(r,e,n)).catch(Ys)}async function Jz(t,e){const n=re(t),r=e.batch.batchId;try{const i=await hz(n.localStore,e);rE(n,r,null),nE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ji(n,i)}catch(i){await Ys(i)}}async function Xz(t,e,n){const r=re(t);try{const i=await function(o,a){const l=re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return l.mutationQueue.lookupMutationBatch(d,a).next(p=>(ue(p!==null),f=p.keys(),l.mutationQueue.removeMutationBatch(d,p))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>l.localDocuments.getDocuments(d,f))})}(r.localStore,e);rE(r,e,n),nE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ji(r,i)}catch(i){await Ys(i)}}async function Zz(t,e){const n=re(t);Xs(n.remoteStore)||Y("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=re(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Oa.get(r)||[];i.push(e),n.Oa.set(r,i)}catch(r){const i=vu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function nE(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function rE(t,e,n){const r=re(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Yl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||px(t,r)})}function px(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Hl(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),iE(t))}function A_(t,e,n){for(const r of n)r instanceof ux?(t.Ma.addReference(r.key,e),e$(t,r)):r instanceof cx?(Y("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||px(t,r.key)):oe()}function e$(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Y("SyncEngine","New document in limbo: "+n),t.Ca.add(r),iE(t))}function iE(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new te(Pe.fromString(e)),r=t.Na.next();t.Fa.set(r,new $z(n)),t.va=t.va.insert(n,r),Fm(t.remoteStore,new Ti(In(hu(n.path)),r,"TargetPurposeLimboResolution",Dn.oe))}}async function ji(t,e,n){const r=re(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(d=>{if((d||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,d!=null&&d.fromCache?"not-current":"current"),d){i.push(d);const f=Ww.Ki(l.targetId,d);s.push(f)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(l,d){const f=re(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>j.forEach(d,v=>j.forEach(v.qi,w=>f.persistence.referenceDelegate.addReference(p,v.targetId,w)).next(()=>j.forEach(v.Qi,w=>f.persistence.referenceDelegate.removeReference(p,v.targetId,w)))))}catch(p){if(!Qs(p))throw p;Y("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const v=p.targetId;if(!p.fromCache){const w=f.ns.get(v),I=w.snapshotVersion,A=w.withLastLimboFreeSnapshotVersion(I);f.ns=f.ns.insert(v,A)}}}(r.localStore,s))}async function t$(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const r=await KC(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new K($.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ji(n,r.us)}}function n$(t,e){const n=re(t),r=n.Fa.get(e);if(r&&r.wa)return _e().add(r.key);{let i=_e();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}async function r$(t,e){const n=re(t),r=await Fp(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&A_(n,e.targetId,i.fa),i}async function i$(t,e){const n=re(t);return XC(n.localStore,e).then(r=>ji(n,r))}async function s$(t,e,n,r){const i=re(t),s=await function(a,l){const d=re(a),f=re(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",p=>f.vn(p,l).next(v=>v?d.localDocuments.getDocuments(p,v):j.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await gu(i.remoteStore):n==="acknowledged"||n==="rejected"?(rE(i,e,r||null),nE(i,e),function(a,l){re(re(a).mutationQueue).Mn(l)}(i.localStore,e)):oe(),await ji(i,s)):Y("SyncEngine","Cannot apply mutation batch with id: "+e)}async function o$(t,e){const n=re(t);if(Um(n),sE(n),e===!0&&n.La!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await g1(n,r.toArray());n.La=!0,await R_(n.remoteStore,!0);for(const s of i)Fm(n.remoteStore,s)}else if(e===!1&&n.La!==!1){const r=[];let i=Promise.resolve();n.Da.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Yl(n,o),Gl(n.localStore,o,!0))),Hl(n.remoteStore,o)}),await i,await g1(n,r),function(o){const a=re(o);a.Fa.forEach((l,d)=>{Hl(a.remoteStore,d)}),a.Ma.mr(),a.Fa=new Map,a.va=new Je(te.comparator)}(n),n.La=!1,await R_(n.remoteStore,!1)}}async function g1(t,e,n){const r=re(t),i=[],s=[];for(const o of e){let a;const l=r.Da.get(o);if(l&&l.length!==0){a=await ql(r.localStore,In(l[0]));for(const d of l){const f=r.ba.get(d),p=await r$(r,f);p.snapshot&&s.push(p.snapshot)}}else{const d=await JC(r.localStore,o);a=await ql(r.localStore,d),await tE(r,mx(d),o,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(s),i}function mx(t){return nC(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function a$(t){return function(n){return re(re(n).persistence).Bi()}(re(t).localStore)}async function l$(t,e,n,r){const i=re(t);if(i.La)return void Y("SyncEngine","Ignoring unexpected query state notification.");const s=i.Da.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await XC(i.localStore,iC(s[0])),a=Hd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Lt.EMPTY_BYTE_STRING);await ji(i,o,a);break}case"rejected":await Gl(i.localStore,e,!0),Yl(i,e,r);break;default:oe()}}async function u$(t,e,n){const r=Um(t);if(r.La){for(const i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){Y("SyncEngine","Adding an already active target "+i);continue}const s=await JC(r.localStore,i),o=await ql(r.localStore,s);await tE(r,mx(s),o.targetId,!1,o.resumeToken),Fm(r.remoteStore,o)}for(const i of n)r.Da.has(i)&&await Gl(r.localStore,i,!1).then(()=>{Hl(r.remoteStore,i),Yl(r,i)}).catch(Ys)}}function Um(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qz.bind(null,e),e.Sa.h_=Fz.bind(null,e.eventManager),e.Sa.ka=Uz.bind(null,e.eventManager),e}function sE(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xz.bind(null,e),e}function c$(t,e,n){const r=re(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(w,I){const A=re(w),k=Pt(I.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",b=>A.$r.getBundleMetadata(b,I.id)).then(b=>!!b&&b.createTime.compareTo(k)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(lx(l));const d=new Bz(l,s.localStore,o.serializer);let f=await o.qa();for(;f;){const v=await d._a(f);v&&a._updateProgress(v),f=await o.qa()}const p=await d.complete();return await ji(s,p.ca,void 0),await function(w,I){const A=re(w);return A.persistence.runTransaction("Save bundle","readwrite",k=>A.$r.saveBundleMetadata(k,I))}(s.localStore,l),a._completeWith(p.progress),Promise.resolve(p.ua)}catch(l){return Or("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class b_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Yd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return HC(this.persistence,new GC,e.initialUser,this.serializer)}createPersistence(e){return new qC(Lm.Hr,this.serializer)}createSharedClientState(e){return new ex}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gx extends b_{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await sE(this.Qa.syncEngine),await gu(this.Qa.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return HC(this.persistence,new GC,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Y6(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new D3(n,this.persistence);return new x3(e.asyncQueue,r)}createPersistence(e){const n=$w(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new zw(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,tx(),Hf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ex}}class d$ extends gx{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Qa.syncEngine;this.sharedClientState instanceof Py&&(this.sharedClientState.syncEngine={Zs:s$.bind(null,n),Xs:l$.bind(null,n),eo:u$.bind(null,n),Bi:a$.bind(null,n),Ys:i$.bind(null,n)},await this.sharedClientState.start()),await this.persistence.fi(async r=>{await o$(this.Qa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=tx();if(!Py.D(n))throw new K($.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=$w(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Py(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class oE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t$.bind(null,this.syncEngine),await R_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Lz}()}createDatastore(e){const n=Yd(e.databaseInfo.databaseId),r=function(s){return new wz(s)}(e.databaseInfo);return function(s,o,a,l){return new Sz(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Rz(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>m1(this.syncEngine,n,0),function(){return c1.D()?new c1:new yz}())}createSyncEngine(e,n){return function(i,s,o,a,l,d,f){const p=new Wz(i,s,o,a,l,d);return f&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=re(r);Y("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await mu(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Rt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new Ht,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(e===null)return null;const n=this.Wa.decode(e),r=Number(n);isNaN(r)&&this.ja(`length string (${n}) is not valid number`);const i=await this.Ha(r);return new jz(JSON.parse(i),e.length+r)}Ja(){return this.buffer.findIndex(e=>e===123)}async za(){for(;this.Ja()<0&&!await this.Ya(););if(this.buffer.length===0)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const n=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ya(){const e=await this.Ua.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new K($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=re(i),a={documents:s.map(p=>Id(o.serializer,p))},l=await o.xo("BatchGetDocuments",o.serializer.databaseId,Pe.emptyPath(),a,s.length),d=new Map;l.forEach(p=>{const v=C6(o.serializer,p);d.set(v.key.toString(),v)});const f=[];return s.forEach(p=>{const v=d.get(p.toString());ue(!!v),f.push(v)}),f}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new pu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=te.fromPath(r);this.mutations.push(new Dw(i,this.precondition(i)))}),await async function(r,i){const s=re(r),o={writes:i.map(a=>Sd(s.serializer,a))};await s.Co("Commit",s.serializer.databaseId,Pe.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw oe();n=ce.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new K($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ce.min())?at.exists(!1):at.updateTime(n):at.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ce.min()))throw new K($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return at.updateTime(n)}return at.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Za=r.maxAttempts,this.Yo=new Gw(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(async()=>{const e=new f$(this.datastore),n=this.tu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.nu(i)}))}).catch(r=>{this.nu(r)})})}tu(e){try{const n=this.updateFunction(e);return!zd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!vC(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wt.UNAUTHENTICATED,this.clientId=Dk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Y("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Y("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ht;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vu(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kf(t,e){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function k_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aE(t);Y("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>d1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>d1(e.remoteStore,i)),t._onlineComponents=e}function yx(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function aE(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await Kf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!yx(n))throw n;Or("Error using user provided cache. Falling back to memory cache: "+n),await Kf(t,new b_)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await Kf(t,new b_);return t._offlineComponents}async function Bm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await k_(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await k_(t,new oE))),t._onlineComponents}function vx(t){return aE(t).then(e=>e.persistence)}function lE(t){return aE(t).then(e=>e.localStore)}function _x(t){return Bm(t).then(e=>e.remoteStore)}function uE(t){return Bm(t).then(e=>e.syncEngine)}function g$(t){return Bm(t).then(e=>e.datastore)}async function Ql(t){const e=await Bm(t),n=e.eventManager;return n.onListen=qz.bind(null,e.syncEngine),n.onUnlisten=Hz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Gz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Kz.bind(null,e.syncEngine),n}function y$(t){return t.asyncQueue.enqueue(async()=>{const e=await vx(t),n=await _x(t);return e.setNetworkEnabled(!0),function(i){const s=re(i);return s.M_.delete(0),Qd(s)}(n)})}function v$(t){return t.asyncQueue.enqueue(async()=>{const e=await vx(t),n=await _x(t);return e.setNetworkEnabled(!1),async function(i){const s=re(i);s.M_.add(0),await mu(s),s.N_.set("Offline")}(n)})}function _$(t,e){const n=new Ht;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(d,f){const p=re(d);return p.persistence.runTransaction("read document","readonly",v=>p.localDocuments.getDocument(v,f))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new K($.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=vu(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await lE(t),e,n)),n.promise}function wx(t,e,n={}){const r=new Ht;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,d){const f=new jm({next:v=>{o.enqueueAndForget(()=>Xw(s,p));const w=v.docs.has(a);!w&&v.fromCache?d.reject(new K($.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&l&&l.source==="server"?d.reject(new K($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),p=new eE(hu(a.path),f,{includeMetadataChanges:!0,ra:!0});return Jw(s,p)}(await Ql(t),t.asyncQueue,e,n,r)),r.promise}function w$(t,e){const n=new Ht;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await Fp(i,s,!0),l=new dx(s,a.hs),d=l.da(a.documents),f=l.applyChanges(d,!1);o.resolve(f.snapshot)}catch(a){const l=vu(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await lE(t),e,n)),n.promise}function Ex(t,e,n={}){const r=new Ht;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,d){const f=new jm({next:v=>{o.enqueueAndForget(()=>Xw(s,p)),v.fromCache&&l.source==="server"?d.reject(new K($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),p=new eE(a,f,{includeMetadataChanges:!0,ra:!0});return Jw(s,p)}(await Ql(t),t.asyncQueue,e,n,r)),r.promise}function E$(t,e){const n=new jm(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){re(i).z_.add(s),s.next()}(await Ql(t),n)),()=>{n.$a(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){re(i).z_.delete(s)}(await Ql(t),n))}}function I$(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?wC().encode(o):o,function(f,p){return new h$(f,p)}(function(f,p){if(f instanceof Uint8Array)return y1(f,p);if(f instanceof ArrayBuffer)return y1(new Uint8Array(f),p);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,Yd(e));t.asyncQueue.enqueueAndForget(async()=>{c$(await uE(t),i,r)})}function S$(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=re(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.$r.getNamedQuery(o,i))}(await lE(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(t,e,n){if(!n)throw new K($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Sx(t,e,n,r){if(e===!0&&r===!0)throw new K($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _1(t){if(!te.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function w1(t){if(te.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Me(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zm(t);throw new K($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Tx(t,e){if(e<=0)throw new K($.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ix((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new K($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new w3;switch(r.type){case"firstParty":return new T3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=v1.get(n);r&&(Y("ComponentProvider","Removing Datastore"),v1.delete(n),r.terminate())}(this),Promise.resolve()}}function T$(t,e,n,r={}){var i;const s=(t=Me(t,Jd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Wt.MOCK_USER;else{a=LF(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new K($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Wt(d)}t._authCredentials=new E3(new xk(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sn=class Rx{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rx(this.firestore,e,this._query)}},pt=class Px{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Px(this.firestore,e,this._key)}},Rs=class Ax extends Sn{constructor(e,n,r){super(e,n,hu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new te(e))}withConverter(e){return new Ax(this.firestore,e,this._path)}};function bx(t,e,...n){if(t=he(t),cE("collection","path",e),t instanceof Jd){const r=Pe.fromString(e,...n);return w1(r),new Rs(t,null,r)}{if(!(t instanceof pt||t instanceof Rs))throw new K($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return w1(r),new Rs(t.firestore,null,r)}}function R$(t,e){if(t=Me(t,Jd),cE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new K($.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Sn(t,null,function(r){return new Fi(Pe.emptyPath(),r)}(e))}function zp(t,e,...n){if(t=he(t),arguments.length===1&&(e=Dk.newId()),cE("doc","path",e),t instanceof Jd){const r=Pe.fromString(e,...n);return _1(r),new pt(t,null,new te(r))}{if(!(t instanceof pt||t instanceof Rs))throw new K($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return _1(r),new pt(t.firestore,t instanceof Rs?t.converter:null,new te(r))}}function kx(t,e){return t=he(t),e=he(e),(t instanceof pt||t instanceof Rs)&&(e instanceof pt||e instanceof Rs)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Cx(t,e){return t=he(t),e=he(e),t instanceof Sn&&e instanceof Sn&&t.firestore===e.firestore&&Wd(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Gw(this,"async_queue_retry"),this.hu=()=>{const n=Hf();n&&Y("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Hf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Hf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Ht;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Qs(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Rt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Qw.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&oe()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function C_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class A${constructor(){this._progressObserver={},this._taskCompletionResolver=new Ht,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$=-1;let Et=class extends Jd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new P$}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xx(this),this._firestoreClient.terminate()}};function Qt(t){return t._firestoreClient||xx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xx(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,d,f){return new Z3(a,l,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Ix(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new m$(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function k$(t,e){Nx(t=Me(t,Et));const n=Qt(t);if(n._uninitializedComponentsProvider)throw new K($.FAILED_PRECONDITION,"SDK cache is already specified.");Or("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new oE;return Dx(n,i,new gx(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function C$(t){Nx(t=Me(t,Et));const e=Qt(t);if(e._uninitializedComponentsProvider)throw new K($.FAILED_PRECONDITION,"SDK cache is already specified.");Or("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new oE;return Dx(e,r,new d$(r,n.cacheSizeBytes))}function Dx(t,e,n){const r=new Ht;return t.asyncQueue.enqueue(async()=>{try{await Kf(t,n),await k_(t,e),r.resolve()}catch(i){const s=i;if(!yx(s))throw s;Or("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function x$(t){if(t._initialized&&!t._terminated)throw new K($.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ht;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!ti.D())return Promise.resolve();const i=r+"main";await ti.delete(i)}($w(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function D$(t){return function(n){const r=new Ht;return n.asyncQueue.enqueueAndForget(async()=>Zz(await uE(n),r)),r.promise}(Qt(t=Me(t,Et)))}function N$(t){return y$(Qt(t=Me(t,Et)))}function O$(t){return v$(Qt(t=Me(t,Et)))}function M$(t,e){const n=Qt(t=Me(t,Et)),r=new A$;return I$(n,t._databaseId,e,r),r}function V$(t,e){return S$(Qt(t=Me(t,Et)),e).then(n=>n?new Sn(t,null,n.query):null)}function Nx(t){if(t._initialized||t._terminated)throw new K($.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oi(Lt.fromBase64String(e))}catch(n){throw new K($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oi(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Us=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$=/^__.*__$/;class F${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}class Ox{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Mx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class Wm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return $p(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Mx(this.fu)&&L$.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class U${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yd(e)}Fu(e,n,r,i=!1){return new Wm({fu:e,methodName:n,vu:r,path:ot.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ha(t){const e=t._freezeSettings(),n=Yd(t._databaseId);return new U$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qm(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);yE("Data must be an object, but it was:",o,r);const a=Fx(r,o);let l,d;if(s.merge)l=new Nn(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const v=x_(e,p,n);if(!o.contains(v))throw new K($.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);jx(f,v)||f.push(v)}l=new Nn(f),d=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,d=o.fieldTransforms;return new F$(new tn(a),l,d)}class Xd extends da{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xd}}function Vx(t,e,n){return new Wm({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class dE extends da{_toFieldTransform(e){return new Gd(e.path,new zl)}isEqual(e){return e instanceof dE}}class hE extends da{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=Vx(this,e,!0),r=this.Mu.map(s=>fa(s,n)),i=new Xo(r);return new Gd(e.path,i)}isEqual(e){return e instanceof hE&&Nl(this.Mu,e.Mu)}}class fE extends da{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=Vx(this,e,!0),r=this.Mu.map(s=>fa(s,n)),i=new Zo(r);return new Gd(e.path,i)}isEqual(e){return e instanceof fE&&Nl(this.Mu,e.Mu)}}class pE extends da{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){const n=new $l(e.serializer,dC(e.serializer,this.xu));return new Gd(e.path,n)}isEqual(e){return e instanceof pE&&this.xu===e.xu}}function mE(t,e,n,r){const i=t.Fu(1,e,n);yE("Data must be an object, but it was:",i,r);const s=[],o=tn.empty();ca(r,(l,d)=>{const f=vE(e,l,n);d=he(d);const p=i.Su(f);if(d instanceof Xd)s.push(f);else{const v=fa(d,p);v!=null&&(s.push(f),o.set(f,v))}});const a=new Nn(s);return new Ox(o,a,i.fieldTransforms)}function gE(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[x_(e,r,n)],l=[i];if(s.length%2!=0)throw new K($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)a.push(x_(e,s[v])),l.push(s[v+1]);const d=[],f=tn.empty();for(let v=a.length-1;v>=0;--v)if(!jx(d,a[v])){const w=a[v];let I=l[v];I=he(I);const A=o.Su(w);if(I instanceof Xd)d.push(w);else{const k=fa(I,A);k!=null&&(d.push(w),f.set(w,k))}}const p=new Nn(d);return new Ox(f,p,o.fieldTransforms)}function Lx(t,e,n,r=!1){return fa(n,t.Fu(r?4:3,e))}function fa(t,e){if(Ux(t=he(t)))return yE("Unsupported field value:",e,t),Fx(t,e);if(t instanceof da)return function(r,i){if(!Mx(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=fa(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=he(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dC(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=lt.fromDate(r);return{timestampValue:Wl(i.serializer,s)}}if(r instanceof lt){const s=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wl(i.serializer,s)}}if(r instanceof $m)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oi)return{bytesValue:SC(i.serializer,r._byteString)};if(r instanceof pt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Lw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${zm(r)}`)}(t,e)}function Fx(t,e){const n={};return qk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(t,(r,i)=>{const s=fa(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Ux(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof $m||t instanceof oi||t instanceof pt||t instanceof da)}function yE(t,e,n){if(!Ux(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=zm(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function x_(t,e,n){if((e=he(e))instanceof Us)return e._internalPath;if(typeof e=="string")return vE(t,e);throw $p("Field path arguments must be of type string or ",t,!1,void 0,n)}const j$=new RegExp("[~\\*/\\[\\]]");function vE(t,e,n){if(e.search(j$)>=0)throw $p(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Us(...e.split("."))._internalPath}catch{throw $p(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $p(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new K($.INVALID_ARGUMENT,a+t+l)}function jx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class B$ extends Td{data(){return super.data()}}function Gm(t,e){return typeof e=="string"?vE(t,e):e instanceof Us?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _E{}class Zd extends _E{}function es(t,e,...n){let r=[];e instanceof _E&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof wE).length,a=s.filter(l=>l instanceof Hm).length;if(o>1||o>0&&a>0)throw new K($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Hm extends Zd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hm(e,n,r)}_apply(e){const n=this._parse(e);return $x(e._query,n),new Sn(e.firestore,e.converter,g_(e._query,n))}_parse(e){const n=ha(e.firestore);return function(s,o,a,l,d,f,p){let v;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new K($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){S1(p,f);const w=[];for(const I of p)w.push(I1(l,s,I));v={arrayValue:{values:w}}}else v=I1(l,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||S1(p,f),v=Lx(a,o,p,f==="in"||f==="not-in");return Ae.create(d,f,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function z$(t,e,n){const r=e,i=Gm("where",t);return Hm._create(i,r,n)}class wE extends _E{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Be.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)$x(o,l),o=g_(o,l)}(e._query,n),new Sn(e.firestore,e.converter,g_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class EE extends Zd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new EE(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new K($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new K($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ed(s,o)}(e._query,this._field,this._direction);return new Sn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Fi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function $$(t,e="asc"){const n=e,r=Gm("orderBy",t);return EE._create(r,n)}class Km extends Zd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Km(e,n,r)}_apply(e){return new Sn(e.firestore,e.converter,Op(e._query,this._limit,this._limitType))}}function W$(t){return Tx("limit",t),Km._create("limit",t,"F")}function q$(t){return Tx("limitToLast",t),Km._create("limitToLast",t,"L")}class Ym extends Zd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ym(e,n,r)}_apply(e){const n=zx(e,this.type,this._docOrFields,this._inclusive);return new Sn(e.firestore,e.converter,function(i,s){return new Fi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function G$(...t){return Ym._create("startAt",t,!0)}function H$(...t){return Ym._create("startAfter",t,!1)}class Qm extends Zd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Qm(e,n,r)}_apply(e){const n=zx(e,this.type,this._docOrFields,this._inclusive);return new Sn(e.firestore,e.converter,function(i,s){return new Fi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function K$(...t){return Qm._create("endBefore",t,!1)}function Y$(...t){return Qm._create("endAt",t,!0)}function zx(t,e,n,r){if(n[0]=he(n[0]),n[0]instanceof Td)return function(s,o,a,l,d){if(!l)throw new K($.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const f=[];for(const p of Sl(s))if(p.field.isKeyField())f.push(Qo(o,l.key));else{const v=l.data.field(p.field);if(Dm(v))throw new K($.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const w=p.field.canonicalString();throw new K($.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}f.push(v)}return new Ls(f,d)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=ha(t.firestore);return function(o,a,l,d,f,p){const v=o.explicitOrderBy;if(f.length>v.length)throw new K($.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let I=0;I<f.length;I++){const A=f[I];if(v[I].field.isKeyField()){if(typeof A!="string")throw new K($.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof A}`);if(!Cw(o)&&A.indexOf("/")!==-1)throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${A}' contains a slash.`);const k=o.path.child(Pe.fromString(A));if(!te.isDocumentKey(k))throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const b=new te(k);w.push(Qo(a,b))}else{const k=Lx(l,d,A);w.push(k)}}return new Ls(w,p)}(t._query,t.firestore._databaseId,i,e,n,r)}}function I1(t,e,n){if(typeof(n=he(n))=="string"){if(n==="")throw new K($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cw(e)&&n.indexOf("/")!==-1)throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pe.fromString(n));if(!te.isDocumentKey(r))throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qo(t,new te(r))}if(n instanceof pt)return Qo(t,n._key);throw new K($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zm(n)}.`)}function S1(t,e){if(!Array.isArray(t)||t.length===0)throw new K($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $x(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class IE{convertValue(e,n="none"){switch(Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ca(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new $m(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vd(e));default:return null}}convertTimestamp(e){const n=Di(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);ue(OC(r));const i=new Ms(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||Rt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Q$ extends IE{constructor(e){super(),this.firestore=e}convertBytes(e){return new oi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Ni=class extends Td{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},jc=class extends Ni{data(e={}){return super.data(e)}},js=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Do(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jc(this._firestore,this._userDataWriter,r.key,r,new Do(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new jc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Do(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new jc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Do(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:J$(a.type),doc:l,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function J$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}function Wx(t,e){return t instanceof Ni&&e instanceof Ni?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof js&&e instanceof js&&t._firestore===e._firestore&&Cx(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(t){t=Me(t,pt);const e=Me(t.firestore,Et);return wx(Qt(e),t._key).then(n=>SE(e,t,n))}class pa extends IE{constructor(e){super(),this.firestore=e}convertBytes(e){return new oi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function Z$(t){t=Me(t,pt);const e=Me(t.firestore,Et),n=Qt(e),r=new pa(e);return _$(n,t._key).then(i=>new Ni(e,r,t._key,i,new Do(i!==null&&i.hasLocalMutations,!0),t.converter))}function e9(t){t=Me(t,pt);const e=Me(t.firestore,Et);return wx(Qt(e),t._key,{source:"server"}).then(n=>SE(e,t,n))}function t9(t){t=Me(t,Sn);const e=Me(t.firestore,Et),n=Qt(e),r=new pa(e);return Bx(t._query),Ex(n,t._query).then(i=>new js(e,r,t,i))}function n9(t){t=Me(t,Sn);const e=Me(t.firestore,Et),n=Qt(e),r=new pa(e);return w$(n,t._query).then(i=>new js(e,r,t,i))}function r9(t){t=Me(t,Sn);const e=Me(t.firestore,Et),n=Qt(e),r=new pa(e);return Ex(n,t._query,{source:"server"}).then(i=>new js(e,r,t,i))}function T1(t,e,n){t=Me(t,pt);const r=Me(t.firestore,Et),i=Jm(t.converter,e,n);return eh(r,[qm(ha(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,at.none())])}function R1(t,e,n,...r){t=Me(t,pt);const i=Me(t.firestore,Et),s=ha(i);let o;return o=typeof(e=he(e))=="string"||e instanceof Us?gE(s,"updateDoc",t._key,e,n,r):mE(s,"updateDoc",t._key,e),eh(i,[o.toMutation(t._key,at.exists(!0))])}function i9(t){return eh(Me(t.firestore,Et),[new pu(t._key,at.none())])}function s9(t,e){const n=Me(t.firestore,Et),r=zp(t),i=Jm(t.converter,e);return eh(n,[qm(ha(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,at.exists(!1))]).then(()=>r)}function qx(t,...e){var n,r,i;t=he(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||C_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(C_(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,d,f;if(t instanceof pt)d=Me(t.firestore,Et),f=hu(t._key.path),l={next:p=>{e[o]&&e[o](SE(d,t,p))},error:e[o+1],complete:e[o+2]};else{const p=Me(t,Sn);d=Me(p.firestore,Et),f=p._query;const v=new pa(d);l={next:w=>{e[o]&&e[o](new js(d,v,p,w))},error:e[o+1],complete:e[o+2]},Bx(t._query)}return function(v,w,I,A){const k=new jm(A),b=new eE(w,k,I);return v.asyncQueue.enqueueAndForget(async()=>Jw(await Ql(v),b)),()=>{k.$a(),v.asyncQueue.enqueueAndForget(async()=>Xw(await Ql(v),b))}}(Qt(d),f,a,l)}function o9(t,e){return E$(Qt(t=Me(t,Et)),C_(e)?e:{next:e})}function eh(t,e){return function(r,i){const s=new Ht;return r.asyncQueue.enqueueAndForget(async()=>Yz(await uE(r),i,s)),s.promise}(Qt(t),e)}function SE(t,e,n){const r=n.docs.get(e._key),i=new pa(t);return new Ni(t,i,e._key,r,new Do(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l9=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ha(e)}set(e,n,r){this._verifyNotCommitted();const i=us(e,this._firestore),s=Jm(i.converter,n,r),o=qm(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,at.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=us(e,this._firestore);let o;return o=typeof(n=he(n))=="string"||n instanceof Us?gE(this._dataReader,"WriteBatch.update",s._key,n,r,i):mE(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,at.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=us(e,this._firestore);return this._mutations=this._mutations.concat(new pu(n._key,at.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new K($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function us(t,e){if((t=he(t)).firestore!==e)throw new K($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u9=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=ha(n)}get(n){const r=us(n,this._firestore),i=new Q$(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return oe();const o=s[0];if(o.isFoundDocument())return new Td(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Td(this._firestore,i,r._key,null,r.converter);throw oe()})}set(n,r,i){const s=us(n,this._firestore),o=Jm(s.converter,r,i),a=qm(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=us(n,this._firestore);let a;return a=typeof(r=he(r))=="string"||r instanceof Us?gE(this._dataReader,"Transaction.update",o._key,r,i,s):mE(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=us(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=us(e,this._firestore),r=new pa(this._firestore);return super.get(e).then(i=>new Ni(this._firestore,r,n._key,i._document,new Do(!1,!1),n.converter))}};function c9(t,e,n){t=Me(t,Et);const r=Object.assign(Object.assign({},a9),n);return function(s){if(s.maxAttempts<1)throw new K($.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Ht;return s.asyncQueue.enqueueAndForget(async()=>{const d=await g$(s);new p$(s.asyncQueue,d,a,o,l).Xa()}),l.promise}(Qt(t),i=>e(new u9(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(){return new Xd("deleteField")}function h9(){return new dE("serverTimestamp")}function f9(...t){return new hE("arrayUnion",t)}function p9(...t){return new fE("arrayRemove",t)}function m9(t){return new pE("increment",t)}(function(e,n=!0){(function(i){du=i})(Hs),xs(new ri("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Et(new I3(r.getProvider("auth-internal")),new P3(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new K($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ms(d.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Cr(vT,"4.6.2",e),Cr(vT,"4.6.2","esm2017")})();const g9="@firebase/firestore-compat",y9="0.3.31";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new K("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){if(typeof Uint8Array>"u")throw new K("unimplemented","Uint8Arrays are not available in this environment.")}function A1(){if(!J3())throw new K("unimplemented","Blobs are unavailable in Firestore in this environment.")}let Gx=class D_{constructor(e){this._delegate=e}static fromBase64String(e){return A1(),new D_(oi.fromBase64String(e))}static fromUint8Array(e){return P1(),new D_(oi.fromUint8Array(e))}toBase64(){return A1(),this._delegate.toBase64()}toUint8Array(){return P1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t){return v9(t,["next","error","complete"])}function v9(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{enableIndexedDbPersistence(e,n){return k$(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return C$(e._delegate)}clearIndexedDbPersistence(e){return x$(e._delegate)}}class Hx{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ms||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Or("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){T$(this._delegate,e,n,r)}enableNetwork(){return N$(this._delegate)}disableNetwork(){return O$(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Sx("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return D$(this._delegate)}onSnapshotsInSync(e){return o9(this._delegate,e)}get app(){if(!this._appCompat)throw new K("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Jl(this,bx(this._delegate,e))}catch(n){throw vn(n,"collection()","Firestore.collection()")}}doc(e){try{return new or(this,zp(this._delegate,e))}catch(n){throw vn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new yn(this,R$(this._delegate,e))}catch(n){throw vn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return c9(this._delegate,n=>e(new Kx(this,n)))}batch(){return Qt(this._delegate),new Yx(new l9(this._delegate,e=>eh(this._delegate,e)))}loadBundle(e){return M$(this._delegate,e)}namedQuery(e){return V$(this._delegate,e).then(n=>n?new yn(this,n):null)}}class Xm extends IE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gx(new oi(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return or.forKey(n,this.firestore,null)}}function w9(t){v3(t)}class Kx{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Xm(e)}get(e){const n=No(e);return this._delegate.get(n).then(r=>new Rd(this._firestore,new Ni(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=No(e);return r?(TE("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=No(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=No(e);return this._delegate.delete(n),this}}class Yx{constructor(e){this._delegate=e}set(e,n,r){const i=No(e);return r?(TE("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=No(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=No(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ra{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new jc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Pd(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ra.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new ra(e,new Xm(e),n),i.set(n,s)),s}}ra.INSTANCES=new WeakMap;class or{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Xm(e)}static forPath(e,n,r){if(e.length%2!==0)throw new K("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new or(n,new pt(n._delegate,r,new te(e)))}static forKey(e,n,r){return new or(n,new pt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Jl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Jl(this.firestore,bx(this._delegate,e))}catch(n){throw vn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=he(e),e instanceof pt?kx(this._delegate,e):!1}set(e,n){n=TE("DocumentReference.set",n);try{return n?T1(this._delegate,e,n):T1(this._delegate,e)}catch(r){throw vn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?R1(this._delegate,e):R1(this._delegate,e,n,...r)}catch(i){throw vn(i,"updateDoc()","DocumentReference.update()")}}delete(){return i9(this._delegate)}onSnapshot(...e){const n=Qx(e),r=Jx(e,i=>new Rd(this.firestore,new Ni(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return qx(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Z$(this._delegate):(e==null?void 0:e.source)==="server"?n=e9(this._delegate):n=X$(this._delegate),n.then(r=>new Rd(this.firestore,new Ni(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new or(this.firestore,e?this._delegate.withConverter(ra.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function vn(t,e,n){return t.message=t.message.replace(e,n),t}function Qx(t){for(const e of t)if(typeof e=="object"&&!N_(e))return e;return{}}function Jx(t,e){var n,r;let i;return N_(t[0])?i=t[0]:N_(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Rd{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new or(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Wx(this._delegate,e._delegate)}}class Pd extends Rd{data(e){const n=this._delegate.data(e);return this._delegate._converter||_3(n!==void 0),n}}class yn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Xm(e)}where(e,n,r){try{return new yn(this.firestore,es(this._delegate,z$(e,n,r)))}catch(i){throw vn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new yn(this.firestore,es(this._delegate,$$(e,n)))}catch(r){throw vn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new yn(this.firestore,es(this._delegate,W$(e)))}catch(n){throw vn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new yn(this.firestore,es(this._delegate,q$(e)))}catch(n){throw vn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new yn(this.firestore,es(this._delegate,G$(...e)))}catch(n){throw vn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new yn(this.firestore,es(this._delegate,H$(...e)))}catch(n){throw vn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new yn(this.firestore,es(this._delegate,K$(...e)))}catch(n){throw vn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new yn(this.firestore,es(this._delegate,Y$(...e)))}catch(n){throw vn(n,"endAt()","Query.endAt()")}}isEqual(e){return Cx(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=n9(this._delegate):(e==null?void 0:e.source)==="server"?n=r9(this._delegate):n=t9(this._delegate),n.then(r=>new O_(this.firestore,new js(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=Qx(e),r=Jx(e,i=>new O_(this.firestore,new js(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return qx(this._delegate,n,r)}withConverter(e){return new yn(this.firestore,e?this._delegate.withConverter(ra.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class E9{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Pd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class O_{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new yn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Pd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new E9(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Pd(this._firestore,r))})}isEqual(e){return Wx(this._delegate,e._delegate)}}class Jl extends yn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new or(this.firestore,e):null}doc(e){try{return e===void 0?new or(this.firestore,zp(this._delegate)):new or(this.firestore,zp(this._delegate,e))}catch(n){throw vn(n,"doc()","CollectionReference.doc()")}}add(e){return s9(this._delegate,e).then(n=>new or(this.firestore,n))}isEqual(e){return kx(this._delegate,e._delegate)}withConverter(e){return new Jl(this.firestore,e?this._delegate.withConverter(ra.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function No(t){return Me(t,pt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(...e){this._delegate=new Us(...e)}static documentId(){return new RE(ot.keyField().canonicalString())}isEqual(e){return e=he(e),e instanceof Us?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this._delegate=e}static serverTimestamp(){const e=h9();return e._methodName="FieldValue.serverTimestamp",new Po(e)}static delete(){const e=d9();return e._methodName="FieldValue.delete",new Po(e)}static arrayUnion(...e){const n=f9(...e);return n._methodName="FieldValue.arrayUnion",new Po(n)}static arrayRemove(...e){const n=p9(...e);return n._methodName="FieldValue.arrayRemove",new Po(n)}static increment(e){const n=m9(e);return n._methodName="FieldValue.increment",new Po(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9={Firestore:Hx,GeoPoint:$m,Timestamp:lt,Blob:Gx,Transaction:Kx,WriteBatch:Yx,DocumentReference:or,DocumentSnapshot:Rd,Query:yn,QueryDocumentSnapshot:Pd,QuerySnapshot:O_,CollectionReference:Jl,FieldPath:RE,FieldValue:Po,setLogLevel:w9,CACHE_SIZE_UNLIMITED:b$};function S9(t,e){t.INTERNAL.registerComponent(new ri("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},I9)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t){S9(t,(e,n)=>new Hx(e,n,new _9)),t.registerVersion(g9,y9)}T9(ou);const R9={apiKey:"AIzaSyAySkv2fzT52zCyFsdRehfuw9fk7jFu2M0",authDomain:"tona-shopping.firebaseapp.com",projectId:"tona-shopping",storageBucket:"tona-shopping.appspot.com",messagingSenderId:"348379161545",appId:"1:348379161545:web:293ce8648debe6b9a73e18",measurementId:"G-RW1W4BC0G6"},Xx=ou.initializeApp(R9),Wp=b5(Xx),Zx=Xx.firestore(),P9="/Tona-shopping/assets/tona2-CAP0JNh4.png";var PE={},eD={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(eD);var tD=eD.exports,nD={exports:{}},rD={exports:{}};(function(t){function e(n){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(rD);var A9=rD.exports;(function(t){var e=A9.default;function n(i){if(typeof WeakMap!="function")return null;var s=new WeakMap,o=new WeakMap;return(n=function(l){return l?o:s})(i)}function r(i,s){if(!s&&i&&i.__esModule)return i;if(i===null||e(i)!=="object"&&typeof i!="function")return{default:i};var o=n(s);if(o&&o.has(i))return o.get(i);var a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in i)if(d!=="default"&&Object.prototype.hasOwnProperty.call(i,d)){var f=l?Object.getOwnPropertyDescriptor(i,d):null;f&&(f.get||f.set)?Object.defineProperty(a,d,f):a[d]=i[d]}return a.default=i,o&&o.set(i,a),a}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(nD);var iD=nD.exports,by={};function we(){return we=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},we.apply(this,arguments)}function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function ky(t){return t&&Xl(t)==="object"&&t.constructor===Object}function Zl(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},r=n.clone?we({},t):t;return ky(t)&&ky(e)&&Object.keys(e).forEach(function(i){i!=="__proto__"&&(ky(e[i])&&i in t?r[i]=Zl(t[i],e[i],n):r[i]=e[i])}),r}function b9(t,e){if(Xl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sD(t){var e=b9(t,"string");return Xl(e)==="symbol"?e:String(e)}function Cy(t,e,n){return e=sD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qp(t){for(var e="https://mui.com/production-error/?code="+t,n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+t+"; visit "+e+" for the full message."}var oD={exports:{}},$e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jt=typeof Symbol=="function"&&Symbol.for,AE=Jt?Symbol.for("react.element"):60103,bE=Jt?Symbol.for("react.portal"):60106,Zm=Jt?Symbol.for("react.fragment"):60107,eg=Jt?Symbol.for("react.strict_mode"):60108,tg=Jt?Symbol.for("react.profiler"):60114,ng=Jt?Symbol.for("react.provider"):60109,rg=Jt?Symbol.for("react.context"):60110,kE=Jt?Symbol.for("react.async_mode"):60111,ig=Jt?Symbol.for("react.concurrent_mode"):60111,sg=Jt?Symbol.for("react.forward_ref"):60112,og=Jt?Symbol.for("react.suspense"):60113,k9=Jt?Symbol.for("react.suspense_list"):60120,ag=Jt?Symbol.for("react.memo"):60115,lg=Jt?Symbol.for("react.lazy"):60116,C9=Jt?Symbol.for("react.block"):60121,x9=Jt?Symbol.for("react.fundamental"):60117,D9=Jt?Symbol.for("react.responder"):60118,N9=Jt?Symbol.for("react.scope"):60119;function Qn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case AE:switch(t=t.type,t){case kE:case ig:case Zm:case tg:case eg:case og:return t;default:switch(t=t&&t.$$typeof,t){case rg:case sg:case lg:case ag:case ng:return t;default:return e}}case bE:return e}}}function aD(t){return Qn(t)===ig}$e.AsyncMode=kE;$e.ConcurrentMode=ig;$e.ContextConsumer=rg;$e.ContextProvider=ng;$e.Element=AE;$e.ForwardRef=sg;$e.Fragment=Zm;$e.Lazy=lg;$e.Memo=ag;$e.Portal=bE;$e.Profiler=tg;$e.StrictMode=eg;$e.Suspense=og;$e.isAsyncMode=function(t){return aD(t)||Qn(t)===kE};$e.isConcurrentMode=aD;$e.isContextConsumer=function(t){return Qn(t)===rg};$e.isContextProvider=function(t){return Qn(t)===ng};$e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===AE};$e.isForwardRef=function(t){return Qn(t)===sg};$e.isFragment=function(t){return Qn(t)===Zm};$e.isLazy=function(t){return Qn(t)===lg};$e.isMemo=function(t){return Qn(t)===ag};$e.isPortal=function(t){return Qn(t)===bE};$e.isProfiler=function(t){return Qn(t)===tg};$e.isStrictMode=function(t){return Qn(t)===eg};$e.isSuspense=function(t){return Qn(t)===og};$e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zm||t===ig||t===tg||t===eg||t===og||t===k9||typeof t=="object"&&t!==null&&(t.$$typeof===lg||t.$$typeof===ag||t.$$typeof===ng||t.$$typeof===rg||t.$$typeof===sg||t.$$typeof===x9||t.$$typeof===D9||t.$$typeof===N9||t.$$typeof===C9)};$e.typeOf=Qn;oD.exports=$e;var O9=oD.exports;function M_(t){if(typeof t!="string")throw new Error(qp(7));return t.charAt(0).toUpperCase()+t.slice(1)}function M9(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(r,i){return i==null?r:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];r.apply(this,a),i.apply(this,a)}},function(){})}function lD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Oi(t,e){if(t==null)return{};var n=lD(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=uD(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function V9(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=uD(t))&&(r&&(r+=" "),r+=e);return r}var L9=typeof Symbol=="function"&&Symbol.for;const F9=L9?Symbol.for("mui.nested"):"__THEME_NESTED__";var U9=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function j9(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.disableGlobal,n=e===void 0?!1:e,r=t.productionPrefix,i=r===void 0?"jss":r,s=t.seed,o=s===void 0?"":s,a=o===""?"":"".concat(o,"-"),l=0,d=function(){return l+=1,l};return function(f,p){var v=p.options.name;if(v&&v.indexOf("Mui")===0&&!p.options.link&&!n){if(U9.indexOf(f.key)!==-1)return"Mui-".concat(f.key);var w="".concat(a).concat(v,"-").concat(f.key);return!p.options.theme[F9]||o!==""?w:"".concat(w,"-").concat(d())}return"".concat(a).concat(i).concat(d())}}function B9(t){var e=t.theme,n=t.name,r=t.props;if(!e||!e.props||!e.props[n])return r;var i=e.props[n],s;for(s in i)r[s]===void 0&&(r[s]=i[s]);return r}var b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th=(typeof window>"u"?"undefined":b1(window))==="object"&&(typeof document>"u"?"undefined":b1(document))==="object"&&document.nodeType===9;function z9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sD(r.key),r)}}function cD(t,e,n){return e&&z9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function dD(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,V_(t,e)}function k1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var $9={}.constructor;function L_(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(L_);if(t.constructor!==$9)return t;var e={};for(var n in t)e[n]=L_(t[n]);return e}function CE(t,e,n){t===void 0&&(t="unnamed");var r=n.jss,i=L_(e),s=r.plugins.onCreateRule(t,i,n);return s||(t[0],null)}var C1=function(e,n){for(var r="",i=0;i<e.length&&e[i]!=="!important";i++)r&&(r+=n),r+=e[i];return r},Uo=function(e){if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&e[r]!=="!important";r++)n&&(n+=", "),n+=C1(e[r]," ");else n=C1(e,", ");return e[e.length-1]==="!important"&&(n+=" !important"),n};function _u(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function lc(t,e){for(var n="",r=0;r<e;r++)n+="  ";return n+t}function Ad(t,e,n){n===void 0&&(n={});var r="";if(!e)return r;var i=n,s=i.indent,o=s===void 0?0:s,a=e.fallbacks;n.format===!1&&(o=-1/0);var l=_u(n),d=l.linebreak,f=l.space;if(t&&o++,a)if(Array.isArray(a))for(var p=0;p<a.length;p++){var v=a[p];for(var w in v){var I=v[w];I!=null&&(r&&(r+=d),r+=lc(w+":"+f+Uo(I)+";",o))}}else for(var A in a){var k=a[A];k!=null&&(r&&(r+=d),r+=lc(A+":"+f+Uo(k)+";",o))}for(var b in e){var R=e[b];R!=null&&b!=="fallbacks"&&(r&&(r+=d),r+=lc(b+":"+f+Uo(R)+";",o))}return!r&&!n.allowEmpty||!t?r:(o--,r&&(r=""+d+r+d),lc(""+t+f+"{"+r,o)+lc("}",o))}var W9=/([[\].#*$><+~=|^:(),"'`\s])/g,x1=typeof CSS<"u"&&CSS.escape,xE=function(t){return x1?x1(t):t.replace(W9,"\\$1")},hD=function(){function t(n,r,i){this.type="style",this.isProcessed=!1;var s=i.sheet,o=i.Renderer;this.key=n,this.options=i,this.style=r,s?this.renderer=s.renderer:o&&(this.renderer=new o)}var e=t.prototype;return e.prop=function(r,i,s){if(i===void 0)return this.style[r];var o=s?s.force:!1;if(!o&&this.style[r]===i)return this;var a=i;(!s||s.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(i,r,this));var l=a==null||a===!1,d=r in this.style;if(l&&!d&&!o)return this;var f=l&&d;if(f?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return f?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var p=this.options.sheet;return p&&p.attached,this},t}(),F_=function(t){dD(e,t);function e(r,i,s){var o;o=t.call(this,r,i,s)||this;var a=s.selector,l=s.scoped,d=s.sheet,f=s.generateId;return a?o.selectorText=a:l!==!1&&(o.id=f(k1(k1(o)),d),o.selectorText="."+xE(o.id)),o}var n=e.prototype;return n.applyTo=function(i){var s=this.renderer;if(s){var o=this.toJSON();for(var a in o)s.setProperty(i,a,o[a])}return this},n.toJSON=function(){var i={};for(var s in this.style){var o=this.style[s];typeof o!="object"?i[s]=o:Array.isArray(o)&&(i[s]=Uo(o))}return i},n.toString=function(i){var s=this.options.sheet,o=s?s.options.link:!1,a=o?we({},i,{allowEmpty:!0}):i;return Ad(this.selectorText,this.style,a)},cD(e,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var s=this.renderer,o=this.renderable;if(!(!o||!s)){var a=s.setSelector(o,i);a||s.replaceRule(o,this)}}},get:function(){return this.selectorText}}]),e}(hD),q9={onCreateRule:function(e,n,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new F_(e,n,r)}},xy={indent:1,children:!0},G9=/@([\w-]+)/,H9=function(){function t(n,r,i){this.type="conditional",this.isProcessed=!1,this.key=n;var s=n.match(G9);this.at=s?s[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new ug(we({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,i,s){var o=this.rules.add(r,i,s);return o?(this.options.jss.plugins.onProcessRule(o),o):null},e.replaceRule=function(r,i,s){var o=this.rules.replace(r,i,s);return o&&this.options.jss.plugins.onProcessRule(o),o},e.toString=function(r){r===void 0&&(r=xy);var i=_u(r),s=i.linebreak;if(r.indent==null&&(r.indent=xy.indent),r.children==null&&(r.children=xy.children),r.children===!1)return this.query+" {}";var o=this.rules.toString(r);return o?this.query+" {"+s+o+s+"}":""},t}(),K9=/@container|@media|@supports\s+/,Y9={onCreateRule:function(e,n,r){return K9.test(e)?new H9(e,n,r):null}},Dy={indent:1,children:!0},Q9=/@keyframes\s+([\w-]+)/,U_=function(){function t(n,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var s=n.match(Q9);s&&s[1]?this.name=s[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var o=i.scoped,a=i.sheet,l=i.generateId;this.id=o===!1?this.name:xE(l(this,a)),this.rules=new ug(we({},i,{parent:this}));for(var d in r)this.rules.add(d,r[d],we({},i,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(r){r===void 0&&(r=Dy);var i=_u(r),s=i.linebreak;if(r.indent==null&&(r.indent=Dy.indent),r.children==null&&(r.children=Dy.children),r.children===!1)return this.at+" "+this.id+" {}";var o=this.rules.toString(r);return o&&(o=""+s+o+s),this.at+" "+this.id+" {"+o+"}"},t}(),J9=/@keyframes\s+/,X9=/\$([\w-]+)/g,j_=function(e,n){return typeof e=="string"?e.replace(X9,function(r,i){return i in n?n[i]:r}):e},D1=function(e,n,r){var i=e[n],s=j_(i,r);s!==i&&(e[n]=s)},Z9={onCreateRule:function(e,n,r){return typeof e=="string"&&J9.test(e)?new U_(e,n,r):null},onProcessStyle:function(e,n,r){return n.type!=="style"||!r||("animation-name"in e&&D1(e,"animation-name",r.keyframes),"animation"in e&&D1(e,"animation",r.keyframes)),e},onChangeValue:function(e,n,r){var i=r.options.sheet;if(!i)return e;switch(n){case"animation":return j_(e,i.keyframes);case"animation-name":return j_(e,i.keyframes);default:return e}}},eW=function(t){dD(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.toString=function(i){var s=this.options.sheet,o=s?s.options.link:!1,a=o?we({},i,{allowEmpty:!0}):i;return Ad(this.key,this.style,a)},e}(hD),tW={onCreateRule:function(e,n,r){return r.parent&&r.parent.type==="keyframes"?new eW(e,n,r):null}},nW=function(){function t(n,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var e=t.prototype;return e.toString=function(r){var i=_u(r),s=i.linebreak;if(Array.isArray(this.style)){for(var o="",a=0;a<this.style.length;a++)o+=Ad(this.at,this.style[a]),this.style[a+1]&&(o+=s);return o}return Ad(this.at,this.style,r)},t}(),rW=/@font-face/,iW={onCreateRule:function(e,n,r){return rW.test(e)?new nW(e,n,r):null}},sW=function(){function t(n,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var e=t.prototype;return e.toString=function(r){return Ad(this.key,this.style,r)},t}(),oW={onCreateRule:function(e,n,r){return e==="@viewport"||e==="@-ms-viewport"?new sW(e,n,r):null}},aW=function(){function t(n,r,i){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=i}var e=t.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var i="",s=0;s<this.value.length;s++)i+=this.key+" "+this.value[s]+";",this.value[s+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},t}(),lW={"@charset":!0,"@import":!0,"@namespace":!0},uW={onCreateRule:function(e,n,r){return e in lW?new aW(e,n,r):null}},N1=[q9,Y9,Z9,tW,iW,oW,uW],cW={process:!0},O1={force:!0,process:!0},ug=function(){function t(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var e=t.prototype;return e.add=function(r,i,s){var o=this.options,a=o.parent,l=o.sheet,d=o.jss,f=o.Renderer,p=o.generateId,v=o.scoped,w=we({classes:this.classes,parent:a,sheet:l,jss:d,Renderer:f,generateId:p,scoped:v,name:r,keyframes:this.keyframes,selector:void 0},s),I=r;r in this.raw&&(I=r+"-d"+this.counter++),this.raw[I]=i,I in this.classes&&(w.selector="."+xE(this.classes[I]));var A=CE(I,i,w);if(!A)return null;this.register(A);var k=w.index===void 0?this.index.length:w.index;return this.index.splice(k,0,A),A},e.replace=function(r,i,s){var o=this.get(r),a=this.index.indexOf(o);o&&this.remove(o);var l=s;return a!==-1&&(l=we({},s,{index:a})),this.add(r,i,l)},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof F_?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof U_&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof F_?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof U_&&delete this.keyframes[r.name]},e.update=function(){var r,i,s;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],s=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],s=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,s);else for(var o=0;o<this.index.length;o++)this.updateOne(this.index[o],i,s)},e.updateOne=function(r,i,s){s===void 0&&(s=cW);var o=this.options,a=o.jss.plugins,l=o.sheet;if(r.rules instanceof t){r.rules.update(i,s);return}var d=r.style;if(a.onUpdate(i,r,l,s),s.process&&d&&d!==r.style){a.onProcessStyle(r.style,r,l);for(var f in r.style){var p=r.style[f],v=d[f];p!==v&&r.prop(f,p,O1)}for(var w in d){var I=r.style[w],A=d[w];I==null&&I!==A&&r.prop(w,null,O1)}}},e.toString=function(r){for(var i="",s=this.options.sheet,o=s?s.options.link:!1,a=_u(r),l=a.linebreak,d=0;d<this.index.length;d++){var f=this.index[d],p=f.toString(r);!p&&!o||(i&&(i+=l),i+=p)}return i},t}(),fD=function(){function t(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=we({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new ug(this.options);for(var i in n)this.rules.add(i,n[i]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,i,s){var o=this.queue;this.attached&&!o&&(this.queue=[]);var a=this.rules.add(r,i,s);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(o?o.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},e.replaceRule=function(r,i,s){var o=this.rules.get(r);if(!o)return this.addRule(r,i,s);var a=this.rules.replace(r,i,s);return a&&this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&this.renderer&&(a?o.renderable&&this.renderer.replaceRule(o.renderable,a):this.renderer.deleteRule(o)),a):(this.deployed=!1,a)},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,i){var s=[];for(var o in r){var a=this.addRule(o,r[o],i);a&&s.push(a)}return s},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,i,s){return this.rules.updateOne(r,i,s),this},e.toString=function(r){return this.rules.toString(r)},t}(),dW=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(r,i,s){for(var o=0;o<this.registry.onCreateRule.length;o++){var a=this.registry.onCreateRule[o](r,i,s);if(a)return a}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,s=0;s<this.registry.onProcessRule.length;s++)this.registry.onProcessRule[s](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},e.onProcessStyle=function(r,i,s){for(var o=0;o<this.registry.onProcessStyle.length;o++)i.style=this.registry.onProcessStyle[o](i.style,i,s)},e.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},e.onUpdate=function(r,i,s,o){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,i,s,o)},e.onChangeValue=function(r,i,s){for(var o=r,a=0;a<this.registry.onChangeValue.length;a++)o=this.registry.onChangeValue[a](o,i,s);return o},e.use=function(r,i){i===void 0&&(i={queue:"external"});var s=this.plugins[i.queue];s.indexOf(r)===-1&&(s.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(o,a){for(var l in a)l in o&&o[l].push(a[l]);return o},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),hW=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(r){var i=this.registry,s=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||s>=this.index){i.push(r);return}for(var o=0;o<i.length;o++)if(i[o].options.index>s){i.splice(o,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},e.toString=function(r){for(var i=r===void 0?{}:r,s=i.attached,o=lD(i,["attached"]),a=_u(o),l=a.linebreak,d="",f=0;f<this.registry.length;f++){var p=this.registry[f];s!=null&&p.attached!==s||(d&&(d+=l),d+=p.toString(o))}return d},cD(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),Bc=new hW,B_=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),z_="2f1acc6c3a606b082e5eef5e54414ffb";B_[z_]==null&&(B_[z_]=0);var M1=B_[z_]++,V1=function(e){e===void 0&&(e={});var n=0,r=function(s,o){n+=1;var a="",l="";return o&&(o.options.classNamePrefix&&(l=o.options.classNamePrefix),o.options.jss.id!=null&&(a=String(o.options.jss.id))),e.minify?""+(l||"c")+M1+a+n:l+s.key+"-"+M1+(a?"-"+a:"")+"-"+n};return r},pD=function(e){var n;return function(){return n||(n=e()),n}},fW=function(e,n){try{return e.attributeStyleMap?e.attributeStyleMap.get(n):e.style.getPropertyValue(n)}catch{return""}},pW=function(e,n,r){try{var i=r;if(Array.isArray(r)&&(i=Uo(r)),e.attributeStyleMap)e.attributeStyleMap.set(n,i);else{var s=i?i.indexOf("!important"):-1,o=s>-1?i.substr(0,s-1):i;e.style.setProperty(n,o,s>-1?"important":"")}}catch{return!1}return!0},mW=function(e,n){try{e.attributeStyleMap?e.attributeStyleMap.delete(n):e.style.removeProperty(n)}catch{}},gW=function(e,n){return e.selectorText=n,e.selectorText===n},mD=pD(function(){return document.querySelector("head")});function yW(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function vW(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function _W(t){for(var e=mD(),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===t)return r}return null}function wW(t){var e=Bc.registry;if(e.length>0){var n=yW(e,t);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=vW(e,t),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=t.insertionPoint;if(r&&typeof r=="string"){var i=_W(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function EW(t,e){var n=e.insertionPoint,r=wW(e);if(r!==!1&&r.parent){r.parent.insertBefore(t,r.node);return}if(n&&typeof n.nodeType=="number"){var i=n,s=i.parentNode;s&&s.insertBefore(t,i.nextSibling);return}mD().appendChild(t)}var IW=pD(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),L1=function(e,n,r){try{"insertRule"in e?e.insertRule(n,r):"appendRule"in e&&e.appendRule(n)}catch{return!1}return e.cssRules[r]},F1=function(e,n){var r=e.cssRules.length;return n===void 0||n>r?r:n},SW=function(){var e=document.createElement("style");return e.textContent=`
`,e},TW=function(){function t(n){this.getPropertyValue=fW,this.setProperty=pW,this.removeProperty=mW,this.setSelector=gW,this.hasInsertedRules=!1,this.cssRules=[],n&&Bc.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},i=r.media,s=r.meta,o=r.element;this.element=o||SW(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),s&&this.element.setAttribute("data-meta",s);var a=IW();a&&this.element.setAttribute("nonce",a)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){EW(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,i){for(var s=0;s<r.index.length;s++)this.insertRule(r.index[s],s,i)},e.insertRule=function(r,i,s){if(s===void 0&&(s=this.element.sheet),r.rules){var o=r,a=s;if(r.type==="conditional"||r.type==="keyframes"){var l=F1(s,i);if(a=L1(s,o.toString({children:!1}),l),a===!1)return!1;this.refCssRule(r,l,a)}return this.insertRules(o.rules,a),a}var d=r.toString();if(!d)return!1;var f=F1(s,i),p=L1(s,d,f);return p===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,f,p),p)},e.refCssRule=function(r,i,s){r.renderable=s,r.options.parent instanceof fD&&this.cssRules.splice(i,0,s)},e.deleteRule=function(r){var i=this.element.sheet,s=this.indexOf(r);return s===-1?!1:(i.deleteRule(s),this.cssRules.splice(s,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,i){var s=this.indexOf(r);return s===-1?!1:(this.element.sheet.deleteRule(s),this.cssRules.splice(s,1),this.insertRule(i,s))},e.getRules=function(){return this.element.sheet.cssRules},t}(),RW=0,PW=function(){function t(n){this.id=RW++,this.version="10.10.0",this.plugins=new dW,this.options={id:{minify:!1},createGenerateId:V1,Renderer:th?TW:null,plugins:[]},this.generateId=V1({minify:!1});for(var r=0;r<N1.length;r++)this.plugins.use(N1[r],{queue:"internal"});this.setup(n)}var e=t.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=we({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,i){i===void 0&&(i={});var s=i,o=s.index;typeof o!="number"&&(o=Bc.index===0?0:Bc.index+1);var a=new fD(r,we({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:o}));return this.plugins.onProcessSheet(a),a},e.removeStyleSheet=function(r){return r.detach(),Bc.remove(r),this},e.createRule=function(r,i,s){if(i===void 0&&(i={}),s===void 0&&(s={}),typeof r=="object")return this.createRule(void 0,r,i);var o=we({},s,{name:r,jss:this,Renderer:this.options.Renderer});o.generateId||(o.generateId=this.generateId),o.classes||(o.classes={}),o.keyframes||(o.keyframes={});var a=CE(r,i,o);return a&&this.plugins.onProcessRule(a),a},e.use=function(){for(var r=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return s.forEach(function(a){r.plugins.use(a)}),this},t}(),gD=function(e){return new PW(e)},DE=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function yD(t){var e=null;for(var n in t){var r=t[n],i=typeof r;if(i==="function")e||(e={}),e[n]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var s=yD(r);s&&(e||(e={}),e[n]=s)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */gD();var vD=Date.now(),Ny="fnValues"+vD,Oy="fnStyle"+ ++vD,AW=function(){return{onCreateRule:function(n,r,i){if(typeof r!="function")return null;var s=CE(n,{},i);return s[Oy]=r,s},onProcessStyle:function(n,r){if(Ny in r||Oy in r)return n;var i={};for(var s in n){var o=n[s];typeof o=="function"&&(delete n[s],i[s]=o)}return r[Ny]=i,n},onUpdate:function(n,r,i,s){var o=r,a=o[Oy];a&&(o.style=a(n)||{});var l=o[Ny];if(l)for(var d in l)o.prop(d,l[d](n),s)}}},Ps="@global",$_="@global ",bW=function(){function t(n,r,i){this.type="global",this.at=Ps,this.isProcessed=!1,this.key=n,this.options=i,this.rules=new ug(we({},i,{parent:this}));for(var s in r)this.rules.add(s,r[s]);this.rules.process()}var e=t.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,i,s){var o=this.rules.add(r,i,s);return o&&this.options.jss.plugins.onProcessRule(o),o},e.replaceRule=function(r,i,s){var o=this.rules.replace(r,i,s);return o&&this.options.jss.plugins.onProcessRule(o),o},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(r){return this.rules.toString(r)},t}(),kW=function(){function t(n,r,i){this.type="global",this.at=Ps,this.isProcessed=!1,this.key=n,this.options=i;var s=n.substr($_.length);this.rule=i.jss.createRule(s,r,we({},i,{parent:this}))}var e=t.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},t}(),CW=/\s*,\s*/g;function _D(t,e){for(var n=t.split(CW),r="",i=0;i<n.length;i++)r+=e+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}function xW(t,e){var n=t.options,r=t.style,i=r?r[Ps]:null;if(i){for(var s in i)e.addRule(s,i[s],we({},n,{selector:_D(s,t.selector)}));delete r[Ps]}}function DW(t,e){var n=t.options,r=t.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,Ps.length)!==Ps)){var s=_D(i.substr(Ps.length),t.selector);e.addRule(s,r[i],we({},n,{selector:s})),delete r[i]}}function NW(){function t(n,r,i){if(!n)return null;if(n===Ps)return new bW(n,r,i);if(n[0]==="@"&&n.substr(0,$_.length)===$_)return new kW(n,r,i);var s=i.parent;return s&&(s.type==="global"||s.options.parent&&s.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=n),null}function e(n,r){n.type!=="style"||!r||(xW(n,r),DW(n,r))}return{onCreateRule:t,onProcessRule:e}}var U1=/\s*,\s*/g,OW=/&/g,MW=/\$([\w-]+)/g;function VW(){function t(i,s){return function(o,a){var l=i.getRule(a)||s&&s.getRule(a);return l?l.selector:a}}function e(i,s){for(var o=s.split(U1),a=i.split(U1),l="",d=0;d<o.length;d++)for(var f=o[d],p=0;p<a.length;p++){var v=a[p];l&&(l+=", "),l+=v.indexOf("&")!==-1?v.replace(OW,f):f+" "+v}return l}function n(i,s,o){if(o)return we({},o,{index:o.index+1});var a=i.options.nestingLevel;a=a===void 0?1:a+1;var l=we({},i.options,{nestingLevel:a,index:s.indexOf(i)+1});return delete l.name,l}function r(i,s,o){if(s.type!=="style")return i;var a=s,l=a.options.parent,d,f;for(var p in i){var v=p.indexOf("&")!==-1,w=p[0]==="@";if(!(!v&&!w)){if(d=n(a,l,d),v){var I=e(p,a.selector);f||(f=t(l,o)),I=I.replace(MW,f);var A=a.key+"-"+p;"replaceRule"in l?l.replaceRule(A,i[p],we({},d,{selector:I})):l.addRule(A,i[p],we({},d,{selector:I}))}else w&&l.addRule(p,{},d).addRule(a.key,i[p],{selector:a.selector});delete i[p]}}return i}return{onProcessStyle:r}}var LW=/[A-Z]/g,FW=/^ms-/,My={};function UW(t){return"-"+t.toLowerCase()}function wD(t){if(My.hasOwnProperty(t))return My[t];var e=t.replace(LW,UW);return My[t]=FW.test(e)?"-"+e:e}function Gp(t){var e={};for(var n in t){var r=n.indexOf("--")===0?n:wD(n);e[r]=t[n]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(Gp):e.fallbacks=Gp(t.fallbacks)),e}function jW(){function t(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=Gp(n[r]);return n}return Gp(n)}function e(n,r,i){if(r.indexOf("--")===0)return n;var s=wD(r);return r===s?n:(i.prop(s,n),null)}return{onProcessStyle:t,onChangeValue:e}}var H=DE&&CSS?CSS.px:"px",Ef=DE&&CSS?CSS.ms:"ms",qa=DE&&CSS?CSS.percent:"%",BW={"animation-delay":Ef,"animation-duration":Ef,"background-position":H,"background-position-x":H,"background-position-y":H,"background-size":H,border:H,"border-bottom":H,"border-bottom-left-radius":H,"border-bottom-right-radius":H,"border-bottom-width":H,"border-left":H,"border-left-width":H,"border-radius":H,"border-right":H,"border-right-width":H,"border-top":H,"border-top-left-radius":H,"border-top-right-radius":H,"border-top-width":H,"border-width":H,"border-block":H,"border-block-end":H,"border-block-end-width":H,"border-block-start":H,"border-block-start-width":H,"border-block-width":H,"border-inline":H,"border-inline-end":H,"border-inline-end-width":H,"border-inline-start":H,"border-inline-start-width":H,"border-inline-width":H,"border-start-start-radius":H,"border-start-end-radius":H,"border-end-start-radius":H,"border-end-end-radius":H,margin:H,"margin-bottom":H,"margin-left":H,"margin-right":H,"margin-top":H,"margin-block":H,"margin-block-end":H,"margin-block-start":H,"margin-inline":H,"margin-inline-end":H,"margin-inline-start":H,padding:H,"padding-bottom":H,"padding-left":H,"padding-right":H,"padding-top":H,"padding-block":H,"padding-block-end":H,"padding-block-start":H,"padding-inline":H,"padding-inline-end":H,"padding-inline-start":H,"mask-position-x":H,"mask-position-y":H,"mask-size":H,height:H,width:H,"min-height":H,"max-height":H,"min-width":H,"max-width":H,bottom:H,left:H,top:H,right:H,inset:H,"inset-block":H,"inset-block-end":H,"inset-block-start":H,"inset-inline":H,"inset-inline-end":H,"inset-inline-start":H,"box-shadow":H,"text-shadow":H,"column-gap":H,"column-rule":H,"column-rule-width":H,"column-width":H,"font-size":H,"font-size-delta":H,"letter-spacing":H,"text-decoration-thickness":H,"text-indent":H,"text-stroke":H,"text-stroke-width":H,"word-spacing":H,motion:H,"motion-offset":H,outline:H,"outline-offset":H,"outline-width":H,perspective:H,"perspective-origin-x":qa,"perspective-origin-y":qa,"transform-origin":qa,"transform-origin-x":qa,"transform-origin-y":qa,"transform-origin-z":qa,"transition-delay":Ef,"transition-duration":Ef,"vertical-align":H,"flex-basis":H,"shape-margin":H,size:H,gap:H,grid:H,"grid-gap":H,"row-gap":H,"grid-row-gap":H,"grid-column-gap":H,"grid-template-rows":H,"grid-template-columns":H,"grid-auto-rows":H,"grid-auto-columns":H,"box-shadow-x":H,"box-shadow-y":H,"box-shadow-blur":H,"box-shadow-spread":H,"font-line-height":H,"text-shadow-x":H,"text-shadow-y":H,"text-shadow-blur":H};function ED(t){var e=/(-[a-z])/g,n=function(o){return o[1].toUpperCase()},r={};for(var i in t)r[i]=t[i],r[i.replace(e,n)]=t[i];return r}var zW=ED(BW);function zc(t,e,n){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=zc(t,e[r],n);else if(typeof e=="object")if(t==="fallbacks")for(var i in e)e[i]=zc(i,e[i],n);else for(var s in e)e[s]=zc(t+"-"+s,e[s],n);else if(typeof e=="number"&&isNaN(e)===!1){var o=n[t]||zW[t];return o&&!(e===0&&o===H)?typeof o=="function"?o(e).toString():""+e+o:e.toString()}return e}function $W(t){t===void 0&&(t={});var e=ED(t);function n(i,s){if(s.type!=="style")return i;for(var o in i)i[o]=zc(o,i[o],e);return i}function r(i,s){return zc(s,i,e)}return{onProcessStyle:n,onChangeValue:r}}function W_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WW(t){if(Array.isArray(t))return W_(t)}function qW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GW(t,e){if(t){if(typeof t=="string")return W_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W_(t,e)}}function HW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KW(t){return WW(t)||qW(t)||GW(t)||HW()}var Ec="",q_="",ID="",SD="",YW=th&&"ontouchstart"in document.documentElement;if(th){var Vy={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},QW=document.createElement("p"),Ly=QW.style,JW="Transform";for(var Fy in Vy)if(Fy+JW in Ly){Ec=Fy,q_=Vy[Fy];break}Ec==="Webkit"&&"msHyphens"in Ly&&(Ec="ms",q_=Vy.ms,SD="edge"),Ec==="Webkit"&&"-apple-trailing-word"in Ly&&(ID="apple")}var Ee={js:Ec,css:q_,vendor:ID,browser:SD,isTouch:YW};function XW(t){return t[1]==="-"||Ee.js==="ms"?t:"@"+Ee.css+"keyframes"+t.substr(10)}var ZW={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:Ee.js==="ms"?"-webkit-"+e:Ee.css+e}},eq={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:Ee.js==="Webkit"?Ee.css+"print-"+e:e}},tq=/[-\s]+(.)?/g;function nq(t,e){return e?e.toUpperCase():""}function NE(t){return t.replace(tq,nq)}function Bs(t){return NE("-"+t)}var rq={noPrefill:["mask"],supportedProperty:function(e,n){if(!/^mask/.test(e))return!1;if(Ee.js==="Webkit"){var r="mask-image";if(NE(r)in n)return e;if(Ee.js+Bs(r)in n)return Ee.css+e}return e}},iq={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:Ee.vendor==="apple"&&!Ee.isTouch?Ee.css+e:e}},sq={noPrefill:["transform"],supportedProperty:function(e,n,r){return e!=="transform"?!1:r.transform?e:Ee.css+e}},oq={noPrefill:["transition"],supportedProperty:function(e,n,r){return e!=="transition"?!1:r.transition?e:Ee.css+e}},aq={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:Ee.js==="Webkit"||Ee.js==="ms"&&Ee.browser!=="edge"?Ee.css+e:e}},lq={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:Ee.js==="Moz"||Ee.js==="ms"||Ee.vendor==="apple"?Ee.css+e:e}},uq={supportedProperty:function(e,n){if(!/^break-/.test(e))return!1;if(Ee.js==="Webkit"){var r="WebkitColumn"+Bs(e);return r in n?Ee.css+"column-"+e:!1}if(Ee.js==="Moz"){var i="page"+Bs(e);return i in n?"page-"+e:!1}return!1}},cq={supportedProperty:function(e,n){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(Ee.js==="Moz")return e;var r=e.replace("-inline","");return Ee.js+Bs(r)in n?Ee.css+r:!1}},dq={supportedProperty:function(e,n){return NE(e)in n?e:!1}},hq={supportedProperty:function(e,n){var r=Bs(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:Ee.js+r in n?Ee.css+e:Ee.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+e:!1}},fq={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:Ee.js==="ms"?""+Ee.css+e:e}},pq={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:Ee.js==="ms"?Ee.css+"scroll-chaining":e}},mq={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},gq={supportedProperty:function(e,n){var r=mq[e];return r&&Ee.js+Bs(r)in n?Ee.css+r:!1}},TD={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},yq=Object.keys(TD),vq=function(e){return Ee.css+e},_q={supportedProperty:function(e,n,r){var i=r.multiple;if(yq.indexOf(e)>-1){var s=TD[e];if(!Array.isArray(s))return Ee.js+Bs(s)in n?Ee.css+s:!1;if(!i)return!1;for(var o=0;o<s.length;o++)if(!(Ee.js+Bs(s[0])in n))return!1;return s.map(vq)}return!1}},RD=[ZW,eq,rq,iq,sq,oq,aq,lq,uq,cq,dq,hq,fq,pq,gq,_q],j1=RD.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),wq=RD.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,KW(e.noPrefill)),t},[]),Ic,Ao={};if(th){Ic=document.createElement("p");var Uy=window.getComputedStyle(document.documentElement,"");for(var jy in Uy)isNaN(jy)||(Ao[Uy[jy]]=Uy[jy]);wq.forEach(function(t){return delete Ao[t]})}function G_(t,e){if(e===void 0&&(e={}),!Ic)return t;if(Ao[t]!=null)return Ao[t];(t==="transition"||t==="transform")&&(e[t]=t in Ic.style);for(var n=0;n<j1.length&&(Ao[t]=j1[n](t,Ic.style,e),!Ao[t]);n++);try{Ic.style[t]=""}catch{return!1}return Ao[t]}var Ga={},Eq={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Iq=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,rs;function Sq(t,e,n){if(e==="var")return"var";if(e==="all")return"all";if(n==="all")return", all";var r=e?G_(e):", "+G_(n);return r||e||n}th&&(rs=document.createElement("p"));function B1(t,e){var n=e;if(!rs||t==="content")return e;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=t+n;if(Ga[r]!=null)return Ga[r];try{rs.style[t]=n}catch{return Ga[r]=!1,!1}if(Eq[t])n=n.replace(Iq,Sq);else if(rs.style[t]===""&&(n=Ee.css+n,n==="-ms-flex"&&(rs.style[t]="-ms-flexbox"),rs.style[t]=n,rs.style[t]===""))return Ga[r]=!1,!1;return rs.style[t]="",Ga[r]=n,Ga[r]}function Tq(){function t(i){if(i.type==="keyframes"){var s=i;s.at=XW(s.at)}}function e(i){for(var s in i){var o=i[s];if(s==="fallbacks"&&Array.isArray(o)){i[s]=o.map(e);continue}var a=!1,l=G_(s);l&&l!==s&&(a=!0);var d=!1,f=B1(l,Uo(o));f&&f!==o&&(d=!0),(a||d)&&(a&&delete i[s],i[l||s]=f||o)}return i}function n(i,s){return s.type!=="style"?i:e(i)}function r(i,s){return B1(s,Uo(i))||i}return{onProcessRule:t,onProcessStyle:n,onChangeValue:r}}function Rq(){var t=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var i={},s=Object.keys(n).sort(t),o=0;o<s.length;o++)i[s[o]]=n[s[o]];return i}}}function Pq(){return{plugins:[AW(),NW(),VW(),jW(),$W(),typeof window>"u"?null:Tq(),Rq()]}}function PD(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.baseClasses,n=t.newClasses;if(t.Component,!n)return e;var r=we({},e);return Object.keys(n).forEach(function(i){n[i]&&(r[i]="".concat(e[i]," ").concat(n[i]))}),r}var hl={set:function(e,n,r,i){var s=e.get(n);s||(s=new Map,e.set(n,s)),s.set(r,i)},get:function(e,n,r){var i=e.get(n);return i?i.get(r):void 0},delete:function(e,n,r){var i=e.get(n);i.delete(r)}},Aq=ge.createContext(null);function AD(){var t=ge.useContext(Aq);return t}var bq=gD(Pq()),kq=j9(),Cq=new Map,xq={disableGeneration:!1,generateClassName:kq,jss:bq,sheetsCache:null,sheetsManager:Cq,sheetsRegistry:null},Dq=ge.createContext(xq),z1=-1e9;function Nq(){return z1+=1,z1}var Oq={};function Mq(t){var e=typeof t=="function";return{create:function(r,i){var s;try{s=e?t(r):t}catch(l){throw l}if(!i||!r.overrides||!r.overrides[i])return s;var o=r.overrides[i],a=we({},s);return Object.keys(o).forEach(function(l){a[l]=Zl(a[l],o[l])}),a},options:{}}}function Vq(t,e,n){var r=t.state,i=t.stylesOptions;if(i.disableGeneration)return e||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var s=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,s=!0),e!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=e,s=!0),s&&(r.cacheClasses.value=PD({baseClasses:r.cacheClasses.lastJSS,newClasses:e,Component:n})),r.cacheClasses.value}function Lq(t,e){var n=t.state,r=t.theme,i=t.stylesOptions,s=t.stylesCreator,o=t.name;if(!i.disableGeneration){var a=hl.get(i.sheetsManager,s,r);a||(a={refs:0,staticSheet:null,dynamicStyles:null},hl.set(i.sheetsManager,s,r,a));var l=we({},s.options,i,{theme:r,flip:typeof i.flip=="boolean"?i.flip:r.direction==="rtl"});l.generateId=l.serverGenerateClassName||l.generateClassName;var d=i.sheetsRegistry;if(a.refs===0){var f;i.sheetsCache&&(f=hl.get(i.sheetsCache,s,r));var p=s.create(r,o);f||(f=i.jss.createStyleSheet(p,we({link:!1},l)),f.attach(),i.sheetsCache&&hl.set(i.sheetsCache,s,r,f)),d&&d.add(f),a.staticSheet=f,a.dynamicStyles=yD(p)}if(a.dynamicStyles){var v=i.jss.createStyleSheet(a.dynamicStyles,we({link:!0},l));v.update(e),v.attach(),n.dynamicSheet=v,n.classes=PD({baseClasses:a.staticSheet.classes,newClasses:v.classes}),d&&d.add(v)}else n.classes=a.staticSheet.classes;a.refs+=1}}function Fq(t,e){var n=t.state;n.dynamicSheet&&n.dynamicSheet.update(e)}function Uq(t){var e=t.state,n=t.theme,r=t.stylesOptions,i=t.stylesCreator;if(!r.disableGeneration){var s=hl.get(r.sheetsManager,i,n);s.refs-=1;var o=r.sheetsRegistry;s.refs===0&&(hl.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(s.staticSheet),o&&o.remove(s.staticSheet)),e.dynamicSheet&&(r.jss.removeStyleSheet(e.dynamicSheet),o&&o.remove(e.dynamicSheet))}}function jq(t,e){var n=ge.useRef([]),r,i=ge.useMemo(function(){return{}},e);n.current!==i&&(n.current=i,r=t()),ge.useEffect(function(){return function(){r&&r()}},[i])}function Bq(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.name,r=e.classNamePrefix,i=e.Component,s=e.defaultTheme,o=s===void 0?Oq:s,a=Oi(e,["name","classNamePrefix","Component","defaultTheme"]),l=Mq(t),d=n||r||"makeStyles";l.options={index:Nq(),name:n,meta:d,classNamePrefix:d};var f=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=AD()||o,I=we({},ge.useContext(Dq),a),A=ge.useRef(),k=ge.useRef();jq(function(){var R={name:n,state:{},stylesCreator:l,stylesOptions:I,theme:w};return Lq(R,v),k.current=!1,A.current=R,function(){Uq(R)}},[w,l]),ge.useEffect(function(){k.current&&Fq(A.current,v),k.current=!0});var b=Vq(A.current,v.classes,i);return b};return f}var OE=O9,zq={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},$q={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Wq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ME={};ME[OE.ForwardRef]=Wq;ME[OE.Memo]=bD;function $1(t){return OE.isMemo(t)?bD:ME[t.$$typeof]||zq}var qq=Object.defineProperty,Gq=Object.getOwnPropertyNames,W1=Object.getOwnPropertySymbols,Hq=Object.getOwnPropertyDescriptor,Kq=Object.getPrototypeOf,q1=Object.prototype;function kD(t,e,n){if(typeof e!="string"){if(q1){var r=Kq(e);r&&r!==q1&&kD(t,r,n)}var i=Gq(e);W1&&(i=i.concat(W1(e)));for(var s=$1(t),o=$1(e),a=0;a<i.length;++a){var l=i[a];if(!$q[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var d=Hq(e,l);try{qq(t,l,d)}catch{}}}}return t}var Yq=kD;const Qq=kd(Yq);var Jq=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(r){var i=n.defaultTheme,s=n.withTheme,o=s===void 0?!1:s,a=n.name,l=Oi(n,["defaultTheme","withTheme","name"]),d=a,f=Bq(e,we({defaultTheme:i,Component:r,name:a||r.displayName,classNamePrefix:d},l)),p=ge.forwardRef(function(w,I){w.classes;var A=w.innerRef,k=Oi(w,["classes","innerRef"]),b=f(we({},r.defaultProps,w)),R,P=k;return(typeof a=="string"||o)&&(R=AD()||i,a&&(P=B9({theme:R,name:a,props:k})),o&&!P.theme&&(P.theme=R)),ge.createElement(r,we({ref:A||I,classes:b},P))});return Qq(p,r),p}},ts=["xs","sm","md","lg","xl"];function Xq(t){var e=t.values,n=e===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,r=t.unit,i=r===void 0?"px":r,s=t.step,o=s===void 0?5:s,a=Oi(t,["values","unit","step"]);function l(w){var I=typeof n[w]=="number"?n[w]:w;return"@media (min-width:".concat(I).concat(i,")")}function d(w){var I=ts.indexOf(w)+1,A=n[ts[I]];if(I===ts.length)return l("xs");var k=typeof A=="number"&&I>0?A:w;return"@media (max-width:".concat(k-o/100).concat(i,")")}function f(w,I){var A=ts.indexOf(I);return A===ts.length-1?l(w):"@media (min-width:".concat(typeof n[w]=="number"?n[w]:w).concat(i,") and ")+"(max-width:".concat((A!==-1&&typeof n[ts[A+1]]=="number"?n[ts[A+1]]:I)-o/100).concat(i,")")}function p(w){return f(w,w)}function v(w){return n[w]}return we({keys:ts,values:n,up:l,down:d,between:f,only:p,width:v},a)}function Zq(t,e,n){var r;return we({gutters:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:",`
      paddingLeft: theme.spacing(2),
      paddingRight: theme.spacing(2),
      [theme.breakpoints.up('sm')]: {
        paddingLeft: theme.spacing(3),
        paddingRight: theme.spacing(3),
      },
      `].join(`
`)),we({paddingLeft:e(2),paddingRight:e(2)},s,Cy({},t.up("sm"),we({paddingLeft:e(3),paddingRight:e(3)},s[t.up("sm")])))},toolbar:(r={minHeight:56},Cy(r,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),Cy(r,t.up("sm"),{minHeight:64}),r)},n)}var Hp={black:"#000",white:"#fff"},VE={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},By={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},zy={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},$y={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Wy={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},qy={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Gy={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function CD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(e,t),n)}function eG(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g"),n=t.match(e);return n&&n[0].length===1&&(n=n.map(function(r){return r+r})),n?"rgb".concat(n.length===4?"a":"","(").concat(n.map(function(r,i){return i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3}).join(", "),")"):""}function tG(t){t=eu(t);var e=t,n=e.values,r=n[0],i=n[1]/100,s=n[2]/100,o=i*Math.min(s,1-s),a=function(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(p+r/30)%12;return s-o*Math.max(Math.min(v-3,9-v,1),-1)},l="rgb",d=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(l+="a",d.push(n[3])),LE({type:l,values:d})}function eu(t){if(t.type)return t;if(t.charAt(0)==="#")return eu(eG(t));var e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla"].indexOf(n)===-1)throw new Error(qp(3,t));var r=t.substring(e+1,t.length-1).split(",");return r=r.map(function(i){return parseFloat(i)}),{type:n,values:r}}function LE(t){var e=t.type,n=t.values;return e.indexOf("rgb")!==-1?n=n.map(function(r,i){return i<3?parseInt(r,10):r}):e.indexOf("hsl")!==-1&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(e,"(").concat(n.join(", "),")")}function nG(t,e){var n=G1(t),r=G1(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function G1(t){t=eu(t);var e=t.type==="hsl"?eu(tG(t)).values:t.values;return e=e.map(function(n){return n/=255,n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function rG(t,e){if(t=eu(t),e=CD(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1)for(var n=0;n<3;n+=1)t.values[n]*=1-e;return LE(t)}function iG(t,e){if(t=eu(t),e=CD(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(var n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;return LE(t)}var H1={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hp.white,default:VE[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Hy={text:{primary:Hp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:VE[800],default:"#303030"},action:{active:Hp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function K1(t,e,n,r){var i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=iG(t.main,i):e==="dark"&&(t.dark=rG(t.main,s)))}function sG(t){var e=t.primary,n=e===void 0?{light:By[300],main:By[500],dark:By[700]}:e,r=t.secondary,i=r===void 0?{light:zy.A200,main:zy.A400,dark:zy.A700}:r,s=t.error,o=s===void 0?{light:$y[300],main:$y[500],dark:$y[700]}:s,a=t.warning,l=a===void 0?{light:Wy[300],main:Wy[500],dark:Wy[700]}:a,d=t.info,f=d===void 0?{light:qy[300],main:qy[500],dark:qy[700]}:d,p=t.success,v=p===void 0?{light:Gy[300],main:Gy[500],dark:Gy[700]}:p,w=t.type,I=w===void 0?"light":w,A=t.contrastThreshold,k=A===void 0?3:A,b=t.tonalOffset,R=b===void 0?.2:b,P=Oi(t,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function U(T){var x=nG(T,Hy.text.primary)>=k?Hy.text.primary:H1.text.primary;return x}var B=function(x){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(x=we({},x),!x.main&&x[D]&&(x.main=x[D]),!x.main)throw new Error(qp(4,D));if(typeof x.main!="string")throw new Error(qp(5,JSON.stringify(x.main)));return K1(x,"light",V,R),K1(x,"dark",L,R),x.contrastText||(x.contrastText=U(x.main)),x},G={dark:Hy,light:H1},C=Zl(we({common:Hp,type:I,primary:B(n),secondary:B(i,"A400","A200","A700"),error:B(o),warning:B(l),info:B(f),success:B(v),grey:VE,contrastThreshold:k,getContrastText:U,augmentColor:B,tonalOffset:R},G[I]),P);return C}function xD(t){return Math.round(t*1e5)/1e5}function oG(t){return xD(t)}var Y1={textTransform:"uppercase"},Q1='"Roboto", "Helvetica", "Arial", sans-serif';function aG(t,e){var n=typeof e=="function"?e(t):e,r=n.fontFamily,i=r===void 0?Q1:r,s=n.fontSize,o=s===void 0?14:s,a=n.fontWeightLight,l=a===void 0?300:a,d=n.fontWeightRegular,f=d===void 0?400:d,p=n.fontWeightMedium,v=p===void 0?500:p,w=n.fontWeightBold,I=w===void 0?700:w,A=n.htmlFontSize,k=A===void 0?16:A,b=n.allVariants,R=n.pxToRem,P=Oi(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),U=o/14,B=R||function(T){return"".concat(T/k*U,"rem")},G=function(x,D,V,L,N){return we({fontFamily:i,fontWeight:x,fontSize:B(D),lineHeight:V},i===Q1?{letterSpacing:"".concat(xD(L/D),"em")}:{},N,b)},C={h1:G(l,96,1.167,-1.5),h2:G(l,60,1.2,-.5),h3:G(f,48,1.167,0),h4:G(f,34,1.235,.25),h5:G(f,24,1.334,0),h6:G(v,20,1.6,.15),subtitle1:G(f,16,1.75,.15),subtitle2:G(v,14,1.57,.1),body1:G(f,16,1.5,.15),body2:G(f,14,1.43,.15),button:G(v,14,1.75,.4,Y1),caption:G(f,12,1.66,.4),overline:G(f,12,2.66,1,Y1)};return Zl(we({htmlFontSize:k,pxToRem:B,round:oG,fontFamily:i,fontSize:o,fontWeightLight:l,fontWeightRegular:f,fontWeightMedium:v,fontWeightBold:I},C),P,{clone:!1})}var lG=.2,uG=.14,cG=.12;function rt(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(lG,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(uG,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(cG,")")].join(",")}var dG=["none",rt(0,2,1,-1,0,1,1,0,0,1,3,0),rt(0,3,1,-2,0,2,2,0,0,1,5,0),rt(0,3,3,-2,0,3,4,0,0,1,8,0),rt(0,2,4,-1,0,4,5,0,0,1,10,0),rt(0,3,5,-1,0,5,8,0,0,1,14,0),rt(0,3,5,-1,0,6,10,0,0,1,18,0),rt(0,4,5,-2,0,7,10,1,0,2,16,1),rt(0,5,5,-3,0,8,10,1,0,3,14,2),rt(0,5,6,-3,0,9,12,1,0,3,16,2),rt(0,6,6,-3,0,10,14,1,0,4,18,3),rt(0,6,7,-4,0,11,15,1,0,4,20,3),rt(0,7,8,-4,0,12,17,2,0,5,22,4),rt(0,7,8,-4,0,13,19,2,0,5,24,4),rt(0,7,9,-4,0,14,21,2,0,5,26,4),rt(0,8,9,-5,0,15,22,2,0,6,28,5),rt(0,8,10,-5,0,16,24,2,0,6,30,5),rt(0,8,11,-5,0,17,26,2,0,6,32,5),rt(0,9,11,-5,0,18,28,2,0,7,34,6),rt(0,9,12,-6,0,19,29,2,0,7,36,6),rt(0,10,13,-6,0,20,31,3,0,8,38,7),rt(0,10,13,-6,0,21,33,3,0,8,40,7),rt(0,10,14,-6,0,22,35,3,0,8,42,7),rt(0,11,14,-7,0,23,36,3,0,9,44,8),rt(0,11,15,-7,0,24,38,3,0,9,46,8)],hG={borderRadius:4};function fG(t){var e=t.spacing||8;return typeof e=="number"?function(n){return e*n}:Array.isArray(e)?function(n){return e[n]}:typeof e=="function"?e:function(){}}function pG(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(t.mui)return t;var e=fG({spacing:t}),n=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return s.length===0?e(1):s.length===1?e(s[0]):s.map(function(a){if(typeof a=="string")return a;var l=e(a);return typeof l=="number"?"".concat(l,"px"):l}).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n}var J1={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},X1={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Z1(t){return"".concat(Math.round(t),"ms")}const mG={easing:J1,duration:X1,create:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.duration,i=r===void 0?X1.standard:r,s=n.easing,o=s===void 0?J1.easeInOut:s,a=n.delay,l=a===void 0?0:a;return Oi(n,["duration","easing","delay"]),(Array.isArray(e)?e:[e]).map(function(d){return"".concat(d," ").concat(typeof i=="string"?i:Z1(i)," ").concat(o," ").concat(typeof l=="string"?l:Z1(l))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var n=e/36;return Math.round((4+15*Math.pow(n,.25)+n/5)*10)}};var gG={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function yG(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.breakpoints,n=e===void 0?{}:e,r=t.mixins,i=r===void 0?{}:r,s=t.palette,o=s===void 0?{}:s,a=t.spacing,l=t.typography,d=l===void 0?{}:l,f=Oi(t,["breakpoints","mixins","palette","spacing","typography"]),p=sG(o),v=Xq(n),w=pG(a),I=Zl({breakpoints:v,direction:"ltr",mixins:Zq(v,w,i),overrides:{},palette:p,props:{},shadows:dG,typography:aG(p,d),spacing:w,shape:hG,transitions:mG,zIndex:gG},f),A=arguments.length,k=new Array(A>1?A-1:0),b=1;b<A;b++)k[b-1]=arguments[b];return I=k.reduce(function(R,P){return Zl(R,P)},I),I}var vG=yG();function _G(t,e){return Jq(t,we({defaultTheme:vG},e))}var wG=function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}},DD=Q.forwardRef(function(e,n){var r=e.children,i=e.classes,s=e.className,o=e.color,a=o===void 0?"inherit":o,l=e.component,d=l===void 0?"svg":l,f=e.fontSize,p=f===void 0?"medium":f,v=e.htmlColor,w=e.titleAccess,I=e.viewBox,A=I===void 0?"0 0 24 24":I,k=Oi(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return Q.createElement(d,we({className:V9(i.root,s,a!=="inherit"&&i["color".concat(M_(a))],p!=="default"&&p!=="medium"&&i["fontSize".concat(M_(p))]),focusable:"false",viewBox:A,color:v,"aria-hidden":w?void 0:!0,role:w?"img":void 0,ref:n},k),r,w?Q.createElement("title",null,w):null)});DD.muiName="SvgIcon";const eR=_G(wG,{name:"MuiSvgIcon"})(DD);function EG(t,e){var n=function(i,s){return ge.createElement(eR,we({ref:s},i),t)};return n.muiName=eR.muiName,ge.memo(ge.forwardRef(n))}function IG(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:166,n;function r(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var a=this,l=function(){t.apply(a,s)};clearTimeout(n),n=setTimeout(l,e)}return r.clear=function(){clearTimeout(n)},r}function SG(t,e){return function(){return null}}function TG(t,e){return Q.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function ND(t){return t&&t.ownerDocument||document}function RG(t){var e=ND(t);return e.defaultView||window}function PG(t){return function(){return null}}function H_(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function AG(t,e,n,r,i){return null}function bG(t){var e=t.controlled,n=t.default;t.name,t.state;var r=Q.useRef(e!==void 0),i=r.current,s=Q.useState(n),o=s[0],a=s[1],l=i?e:o,d=Q.useCallback(function(f){i||a(f)},[]);return[l,d]}var kG=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function CG(t){var e=Q.useRef(t);return kG(function(){e.current=t}),Q.useCallback(function(){return e.current.apply(void 0,arguments)},[])}function xG(t,e){return Q.useMemo(function(){return t==null&&e==null?null:function(n){H_(t,n),H_(e,n)}},[t,e])}function DG(t){var e=Q.useState(t),n=e[0],r=e[1],i=t||n;return Q.useEffect(function(){n==null&&r("mui-".concat(Math.round(Math.random()*1e5)))},[n]),i}var cg=!0,K_=!1,tR=null,NG={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function OG(t){var e=t.type,n=t.tagName;return!!(n==="INPUT"&&NG[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function MG(t){t.metaKey||t.altKey||t.ctrlKey||(cg=!0)}function Ky(){cg=!1}function VG(){this.visibilityState==="hidden"&&K_&&(cg=!0)}function LG(t){t.addEventListener("keydown",MG,!0),t.addEventListener("mousedown",Ky,!0),t.addEventListener("pointerdown",Ky,!0),t.addEventListener("touchstart",Ky,!0),t.addEventListener("visibilitychange",VG,!0)}function FG(t){var e=t.target;try{return e.matches(":focus-visible")}catch{}return cg||OG(e)}function UG(){K_=!0,window.clearTimeout(tR),tR=window.setTimeout(function(){K_=!1},100)}function jG(){var t=Q.useCallback(function(e){var n=bA.findDOMNode(e);n!=null&&LG(n.ownerDocument)},[]);return{isFocusVisible:FG,onBlurVisible:UG,ref:t}}const BG=Object.freeze(Object.defineProperty({__proto__:null,capitalize:M_,createChainedFunction:M9,createSvgIcon:EG,debounce:IG,deprecatedPropType:SG,isMuiElement:TG,ownerDocument:ND,ownerWindow:RG,requirePropFactory:PG,setRef:H_,unstable_useId:DG,unsupportedProp:AG,useControlled:bG,useEventCallback:CG,useForkRef:xG,useIsFocusVisible:jG},Symbol.toStringTag,{value:"Module"})),zG=TM(BG);var nR;function OD(){return nR||(nR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=zG}(by)),by}var $G=tD,WG=iD;Object.defineProperty(PE,"__esModule",{value:!0});var MD=PE.default=void 0,qG=WG(Q),GG=$G(OD()),HG=(0,GG.default)(qG.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");MD=PE.default=HG;var FE={},KG=tD,YG=iD;Object.defineProperty(FE,"__esModule",{value:!0});var VD=FE.default=void 0,QG=YG(Q),JG=KG(OD()),XG=(0,JG.default)(QG.createElement("path",{d:"M17.21 9l-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"ShoppingBasket");VD=FE.default=XG;function ZG(){const[{basket:t,user:e},n]=Gs(),r=()=>{e&&Wp.signOut()};return O.jsxs("div",{className:"header",children:[O.jsx(cl,{to:"/",children:O.jsx("img",{className:"header_logo",src:P9,alt:""})}),O.jsxs("div",{className:"header_search_bar",children:[O.jsx("input",{className:"Header_serch_input",type:"text"}),O.jsx(MD,{className:"Search_icon"})]}),O.jsxs("div",{className:"header_nav",children:[O.jsx(cl,{to:!e&&"/login",children:O.jsxs("div",{className:"header_opstion",onClick:r,children:[O.jsxs("div",{className:"header_option_lineone",children:["Hello ",e?e==null?void 0:e.email:"customer"]}),O.jsx("div",{className:"header_option_linetwo",children:e?"sign out":"sign in"})]})}),O.jsx(cl,{to:"/orders",children:O.jsxs("div",{className:"header_opstion",children:[O.jsx("div",{className:"header_option_lineone",children:"returns"}),O.jsx("div",{className:"header_option_linetwo",children:"&Orders"})]})}),O.jsxs("div",{className:"header_opstion",children:[O.jsx("div",{className:"header_option_lineone",children:"your"}),O.jsx("div",{className:"header_option_linetwo",children:"Prime"})]})]}),O.jsx(cl,{to:"checkouts",children:O.jsxs("div",{className:"Header_basket",children:[O.jsx(VD,{}),O.jsx("div",{className:"header_option_linetwo header_counter",children:t.length})]})})]})}function eH(){return O.jsxs(O.Fragment,{children:[O.jsx(ZG,{}),O.jsx(UL,{})]})}function Tr({id:t,title:e,price:n,rating:r,img:i}){const[{basket:s},o]=Gs(),a=()=>{o({type:"ADD_TO_BASKET",item:{id:t,title:e,price:n,rating:r,img:i}})};return O.jsxs("div",{className:"product",children:[O.jsxs("div",{className:"product_info",children:[O.jsx("p",{className:"title",children:e}),O.jsxs("p",{className:"product_price",children:[O.jsx("small",{children:"ETB"}),O.jsx("strong",{children:n})]}),O.jsx("div",{className:"product_ratings",children:O.jsx("p",{children:Array(r).fill().map((l,d)=>O.jsx("div",{children:O.jsx("p",{children:""})},d))})})]}),O.jsx("img",{src:i,alt:""}),O.jsx("button",{onClick:a,children:"Add to Basket"})]})}function tH(){return O.jsx("div",{children:O.jsxs("div",{children:[O.jsx("img",{className:"home_image",src:"https://m.media-amazon.com/images/I/51AxBGnRSeL._SX1500_.jpg",alt:""}),O.jsxs("div",{className:"home_row",children:[O.jsx(Tr,{id:"123",title:"The Family Across the Street: A totally unputdownable psychological thriller with a shocking twist",price:900,rating:4,img:"	https://m.media-amazon.com/images/I/71KnOamOInL._AC_UL320_.jpg"}),O.jsx(Tr,{id:"1234",title:`"HP Notebook Laptop, 15.6" HD Touchscreen, Intel Core i3-1115G4 Processor, 32GB RAM, 1TB PCIe SSD, Webcam, Type-C, HDMI, SD Card Reader, Wi-Fi, Windows 11 Home, Silver
            "`,price:452,rating:5,img:"https://m.media-amazon.com/images/I/61oAh3XrX+L._AC_UY218_.jpg"})]}),O.jsxs("div",{className:"home_row",children:[O.jsx(Tr,{id:"1235",title:"Targus Laptop Bag Classic Slim Briefcase Messenger Bag, Spacious, Ergonomic, Foam Padded Laptop Case for Devices",price:1200,rating:4,img:"https://m.media-amazon.com/images/I/91snb7T4oeS._AC_UY395_.jpg"}),O.jsx(Tr,{id:"12311",title:"Caseology Nano Pop Mag for iPhone 15 Pro Max Case 5G [Dual Layer Silicone Case Compatible with Magsafe] Military Grade Drop Tested (2023) - Burgundy Bean",price:4200,rating:4,img:"https://m.media-amazon.com/images/I/61-PP8yn4dL._AC_UY218_.jpg"}),O.jsx(Tr,{id:"1236",title:"Cubiker Computer Deska, 63 Inch Modern Simple Style Desk for Home Office, Sturdy Writing Desk with Storage Bag, White ",price:9999.99,rating:4,img:"https://m.media-amazon.com/images/I/71e6XXGcc5L._AC_UL320_.jpg"})]}),O.jsx("div",{className:"home_row",children:O.jsx(Tr,{id:"1237",title:"SteelSeries Arena 9 Illuminated 5.1 Desktop Gaming Speakers  5.1 USB Surround Sound  Wireless Rear Speakers  2-Way Speaker Design  Subwoofer  RGB Light, Bluetooth  PC, PlayStation, Mobile, Mac",price:54900,rating:4,img:"	https://m.media-amazon.com/images/I/714pb94-8DL._AC_UY218_.jpg"})}),O.jsxs("div",{className:"home_row",children:[O.jsx(Tr,{id:"123",title:"ESV Church Bible (Black) Hardcover  October 31",price:1100,rating:4,img:"	https://m.media-amazon.com/images/I/61gPEiyt0iL._AC_UL320_.jpg"}),O.jsx(Tr,{id:"1234",title:`"MNSDHFGV Blue Hardcover Quran Mushaf Holy Quran Arabic Only Medium Size 5.5 X 8 In Arabic Text Uthmani Script Cover Design may
            "`,price:3e3,rating:5,img:"https://m.media-amazon.com/images/I/91iGVv1WDGL._AC_UL320_.jpg"})]}),O.jsxs("div",{className:"home_row",children:[O.jsx(Tr,{id:"1235",title:"Canon XA70 Pro Camcorder 1 4K UHD CMOS Sensor, Dual-Pixel CMOS AF, 15x Optical Zoom, 600x Digital Zoom, Image Stabilization, HDMI, USB Live Streaming, Time Stamp On-Screen Disp. Recording, XLR inputs",price:229900,rating:4,img:"https://m.media-amazon.com/images/I/61vbYqOrB6L._AC_UY218_.jpg"}),O.jsx(Tr,{id:"12311",title:"ZGFF Heavy Duty Gaming Chair, E-Sports Table Chair Integrated Cockpit, Ergonomic Computer Chair, Adjustable Comes with Massage Lumbar Support + Footrest",price:2420400,rating:4,img:"https://m.media-amazon.com/images/I/61Y7LQP5+xL._AC_SX425_.jpg"}),O.jsx(Tr,{id:"1236",title:"Gildan Men's Crew T-Shirts, Multipack, Style G1100",price:900,rating:4,img:"https://m.media-amazon.com/images/I/81X9VMM-I4L._AC_UL320_.jpg"})]})]})})}const nH="/Tona-shopping/assets/Tonasign3-CLHxwv1h.png";function rH(){const[t,e]=Q.useState(""),[n,r]=Q.useState(""),[i,s]=Q.useState(""),o=pm(),a=d=>{d.preventDefault,Xb(Wp,t,n).then(f=>{f&&o("/")}).catch(f=>s(f.message))},l=d=>{d.preventDefault,Jb(Wp,t,n).then(f=>{f&&o("/")}).catch(f=>s(f.message))};return O.jsx("div",{className:"login",children:O.jsxs("div",{className:"login__container ",children:[O.jsx(cl,{to:"/",children:O.jsx("img",{className:"login__logo",src:nH,alt:""})}),O.jsx("h1",{children:"sign in"}),O.jsxs("form",{action:"#",children:[O.jsx("h5",{children:"email"}),O.jsx("input",{type:"email",value:t,onChange:d=>e(d.target.value),placeholder:"your email",required:!0}),O.jsx("h5",{children:"password"}),O.jsx("input",{type:"password",value:n,onChange:d=>r(d.target.value),placeholder:"your password",required:!0}),O.jsx("button",{type:"submit",onClick:a,className:"login__signInButton",children:"sign in"})]}),O.jsx("p",{children:"By signing-in you agree to the Tona shopping Conditions of Use & Sale. Please see our Privacy Notice, our Notice and our Interest-Based Ads Notice."}),O.jsx("button",{onClick:l,className:"login__registerButton ",children:"Create your Tona account"}),i&&O.jsx("small",{style:{paddingTop:"5px",color:"red"},children:i})]})})}const iH="/Tona-shopping/assets/wolaita%20-%20Copy-DBRA7LyE.png";var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.noop=sH;Jn.returnTrue=oH;Jn.charIsNumber=aH;Jn.escapeRegExp=lH;Jn.fixLeadingZero=uH;Jn.splitString=cH;Jn.limitToScale=LD;Jn.roundToPrecision=dH;Jn.omit=hH;Jn.setCaretPosition=fH;function sH(){}function oH(){return!0}function aH(t){return!!(t||"").match(/\d/)}function lH(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function uH(t){if(!t)return t;var e=t[0]==="-";e&&(t=t.substring(1,t.length));var n=t.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(e?"-":"")+r+(i?"."+i:"")}function cH(t,e){return[t.substring(0,e),t.substring(e)]}function LD(t,e,n){for(var r="",i=n?"0":"",s=0;s<=e-1;s++)r+=t[s]||i;return r}function dH(t,e,n){var r=t.split("."),i=parseFloat("0."+(r[1]||"0")).toFixed(e).split("."),s=r[0].split("").reverse().reduce(function(a,l,d){return a.length>d?(Number(a[0])+Number(l)).toString()+a.substring(1,a.length):l+a},i[0]),o=LD(i[1]||"",(r[1]||"").length,n);return s+(o?"."+o:"")}function hH(t,e){var n={};return Object.keys(t).forEach(function(r){e[r]||(n[r]=t[r])}),n}function fH(t,e){if(t.value=t.value,t!==null){if(t.createTextRange){var n=t.createTextRange();return n.move("character",e),n.select(),!0}return t.selectionStart||t.selectionStart===0?(t.focus(),t.setSelectionRange(e,e),!0):(t.focus(),!1)}}Jn.thousandGroupSpacing={two:"2",twoScaled:"2s",three:"3",four:"4"};var pH=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mH=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),gH=HA,Ne=FD(gH),yH=Q,If=FD(yH),it=Jn;function FD(t){return t&&t.__esModule?t:{default:t}}function vH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _H(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function wH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var UD={thousandSeparator:Ne.default.oneOfType([Ne.default.string,Ne.default.oneOf([!0])]),thousandSpacing:Ne.default.oneOf(["2","2s","3","4"]),decimalSeparator:Ne.default.string,decimalScale:Ne.default.number,fixedDecimalScale:Ne.default.bool,displayType:Ne.default.oneOf(["input","text"]),prefix:Ne.default.string,suffix:Ne.default.string,format:Ne.default.oneOfType([Ne.default.string,Ne.default.func]),removeFormatting:Ne.default.func,mask:Ne.default.oneOfType([Ne.default.string,Ne.default.arrayOf(Ne.default.string)]),value:Ne.default.oneOfType([Ne.default.number,Ne.default.string]),isNumericString:Ne.default.bool,customInput:Ne.default.func,allowNegative:Ne.default.bool,onValueChange:Ne.default.func,onKeyDown:Ne.default.func,onMouseUp:Ne.default.func,onChange:Ne.default.func,onFocus:Ne.default.func,onBlur:Ne.default.func,type:Ne.default.oneOf(["text","tel"]),isAllowed:Ne.default.func,renderText:Ne.default.func},EH={displayType:"input",decimalSeparator:".",thousandSpacing:"3",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,isNumericString:!1,type:"text",onValueChange:it.noop,onChange:it.noop,onKeyDown:it.noop,onMouseUp:it.noop,onFocus:it.noop,onBlur:it.noop,isAllowed:it.returnTrue},UE=function(t){wH(e,t);function e(n){vH(this,e);var r=_H(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));r.validateProps();var i=r.formatValueProp();return r.state={value:i,numAsString:r.removeFormatting(i)},r.onChange=r.onChange.bind(r),r.onKeyDown=r.onKeyDown.bind(r),r.onMouseUp=r.onMouseUp.bind(r),r.onFocus=r.onFocus.bind(r),r.onBlur=r.onBlur.bind(r),r}return mH(e,[{key:"componentDidUpdate",value:function(r){this.updateValueIfRequired(r)}},{key:"updateValueIfRequired",value:function(r){var i=this.props,s=this.state;if(r!==i){this.validateProps();var o=s.value,a=s.numAsString||"",l=i.value===void 0?this.formatNumString(a):this.formatValueProp();l!==o&&this.setState({value:l,numAsString:this.removeFormatting(l)})}}},{key:"getFloatString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=this.getSeparators(),s=i.decimalSeparator,o=this.getNumberRegex(!0),a=r[0]==="-";a&&(r=r.replace("-","")),r=(r.match(o)||[]).join("").replace(s,".");var l=r.indexOf(".");return l!==-1&&(r=r.substring(0,l)+"."+r.substring(l+1,r.length).replace(new RegExp((0,it.escapeRegExp)(s),"g"),"")),a&&(r="-"+r),r}},{key:"getNumberRegex",value:function(r,i){var s=this.props,o=s.format,a=s.decimalScale,l=this.getSeparators(),d=l.decimalSeparator;return new RegExp("\\d"+(d&&a!==0&&!i&&!o?"|"+(0,it.escapeRegExp)(d):""),r?"g":void 0)}},{key:"getSeparators",value:function(){var r=this.props,i=r.decimalSeparator,s=r.thousandSpacing,o=this.props.thousandSeparator;return o===!0&&(o=","),{decimalSeparator:i,thousandSeparator:o,thousandSpacing:s}}},{key:"getMaskAtIndex",value:function(r){var i=this.props.mask,s=i===void 0?" ":i;return typeof s=="string"?s:s[r]||" "}},{key:"validateProps",value:function(){var r=this.props.mask,i=this.getSeparators(),s=i.decimalSeparator,o=i.thousandSeparator;if(s===o)throw new Error(`
          Decimal separator can't be same as thousand separator.

          thousandSeparator: `+o+` (thousandSeparator = {true} is same as thousandSeparator = ",")
          decimalSeparator: `+s+` (default value for decimalSeparator is .)
       `);if(r){var a=r==="string"?r:r.toString();if(a.match(/\d/g))throw new Error(`
          Mask `+r+` should not contain numeric character;
        `)}}},{key:"splitDecimal",value:function(r){var i=this.props.allowNegative,s=r[0]==="-",o=s&&i;r=r.replace("-","");var a=r.split("."),l=a[0],d=a[1]||"";return{beforeDecimal:l,afterDecimal:d,hasNagation:s,addNegation:o}}},{key:"setPatchedCaretPosition",value:function(r,i,s){(0,it.setCaretPosition)(r,i),setTimeout(function(){r.value===s&&(0,it.setCaretPosition)(r,i)},0)}},{key:"correctCaretPosition",value:function(r,i,s){var o=this.props,a=o.prefix,l=o.suffix,d=o.format;if(!d){var f=r[0]==="-";return Math.min(Math.max(i,a.length+(f?1:0)),r.length-l.length)}if(typeof d=="function"||d[i]==="#"&&(0,it.charIsNumber)(r[i])||d[i-1]==="#"&&(0,it.charIsNumber)(r[i-1]))return i;var p=d.indexOf("#"),v=d.lastIndexOf("#");i=Math.min(Math.max(i,p),v+1);for(var w=d.substring(i,d.length).indexOf("#"),I=i,A=i+(w===-1?0:w);I>p&&(d[I]!=="#"||!(0,it.charIsNumber)(r[I]));)I-=1;var k=!(0,it.charIsNumber)(r[A])||s==="left"&&i!==p||i-I<A-i;return k?I+1:A}},{key:"getCaretPosition",value:function(r,i,s){var o=this.props.format,a=this.state.value,l=this.getNumberRegex(!0),d=(r.match(l)||[]).join(""),f=(i.match(l)||[]).join(""),p=void 0,v=void 0;for(p=0,v=0;v<s;v++){var w=r[v]||"",I=i[p]||"";if(!(!w.match(l)&&w!==I)&&!(w==="0"&&I.match(l)&&I!=="0"&&d.length!==f.length)){for(;w!==i[p]&&p<i.length;)p++;p++}}return typeof o=="string"&&!a&&(p=i.length),p=this.correctCaretPosition(i,p),p}},{key:"removePrefixAndSuffix",value:function(r){var i=this.props,s=i.format,o=i.prefix,a=i.suffix;if(!s&&r){var l=r[0]==="-";l&&(r=r.substring(1,r.length)),r=o&&r.indexOf(o)===0?r.substring(o.length,r.length):r;var d=r.lastIndexOf(a);r=a&&d!==-1&&d===r.length-a.length?r.substring(0,d):r,l&&(r="-"+r)}return r}},{key:"removePatternFormatting",value:function(r){for(var i=this.props.format,s=i.split("#").filter(function(v){return v!==""}),o=0,a="",l=0,d=s.length;l<=d;l++){var f=s[l]||"",p=l===d?r.length:r.indexOf(f,o);if(p===-1){a=r;break}else a+=r.substring(o,p),o=p+f.length}return(a.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(r){var i=this.props,s=i.format,o=i.removeFormatting;return r&&(s?typeof s=="string"?r=this.removePatternFormatting(r):typeof o=="function"?r=o(r):r=(r.match(/\d/g)||[]).join(""):(r=this.removePrefixAndSuffix(r),r=this.getFloatString(r)),r)}},{key:"formatWithPattern",value:function(r){for(var i=this.props.format,s=0,o=i.split(""),a=0,l=i.length;a<l;a++)i[a]==="#"&&(o[a]=r[s]||this.getMaskAtIndex(s),s+=1);return o.join("")}},{key:"formatThousand",value:function(r,i,s){var o=void 0;switch(s){case it.thousandGroupSpacing.two:o=/(\d)(?=(\d{2})+(?!\d))/g;break;case it.thousandGroupSpacing.twoScaled:o=/(\d)(?=(((\d{2})+)(\d{1})(?!\d)))/g;break;case it.thousandGroupSpacing.four:o=/(\d)(?=(\d{4})+(?!\d))/g;break;default:o=/(\d)(?=(\d{3})+(?!\d))/g}return r.replace(o,"$1"+i)}},{key:"formatAsNumber",value:function(r){var i=this.props,s=i.decimalScale,o=i.fixedDecimalScale,a=i.prefix,l=i.suffix,d=this.getSeparators(),f=d.thousandSeparator,p=d.decimalSeparator,v=d.thousandSpacing,w=r.indexOf(".")!==-1||s&&o,I=this.splitDecimal(r),A=I.beforeDecimal,k=I.afterDecimal,b=I.addNegation;return s!==void 0&&(k=(0,it.limitToScale)(k,s,o)),f&&(A=this.formatThousand(A,f,v)),a&&(A=a+A),l&&(k=k+l),b&&(A="-"+A),r=A+(w&&p||"")+k,r}},{key:"formatNumString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=this.props.format,s=r;return r===""?s="":r==="-"&&!i?(s="-",r=""):typeof i=="string"?s=this.formatWithPattern(s):typeof i=="function"?s=i(s):s=this.formatAsNumber(s),s}},{key:"formatValueProp",value:function(){var r=this.props,i=r.format,s=r.decimalScale,o=r.fixedDecimalScale,a=this.props,l=a.value,d=a.isNumericString;if(l===void 0)return"";typeof l=="number"&&(l=l.toString(),d=!0),d&&!i&&typeof s=="number"&&(l=(0,it.roundToPrecision)(l,s,o));var f=d?this.formatNumString(l):this.formatInput(l);return f}},{key:"formatNegation",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=this.props.allowNegative,s=new RegExp("(-)"),o=new RegExp("(-)(.)*(-)"),a=s.test(r),l=o.test(r);return r=r.replace(/-/g,""),a&&!l&&i&&(r="-"+r),r}},{key:"formatInput",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=this.props.format;return i||(r=this.formatNegation(r)),r=this.removeFormatting(r),this.formatNumString(r)}},{key:"isCharacterAFormat",value:function(r,i){var s=this.props,o=s.format,a=s.prefix,l=s.suffix,d=s.decimalScale,f=s.fixedDecimalScale,p=this.getSeparators(),v=p.decimalSeparator;return!!(typeof o=="string"&&o[r]!=="#"||!o&&(r<a.length||r>=i.length-l.length||d&&f&&i[r]===v))}},{key:"checkIfFormatGotDeleted",value:function(r,i,s){for(var o=r;o<i;o++)if(this.isCharacterAFormat(o,s))return!0;return!1}},{key:"correctInputValue",value:function(r,i,s){var o=this.props.format,a=this.state.numAsString||"";if(s.length>=i.length||!s.length)return s;var l=r,d=(0,it.splitString)(i,r),f=(0,it.splitString)(s,r),p=d[1].lastIndexOf(f[1]),v=p!==-1?d[1].substring(0,p):"",w=l+v.length;if(this.checkIfFormatGotDeleted(l,w,i)&&(s=i),!o){var I=this.removeFormatting(s),A=this.splitDecimal(I),k=A.beforeDecimal,b=A.afterDecimal,R=A.addNegation;if(I.length<a.length&&k===""&&!parseFloat(b))return R?"-":""}return s}},{key:"onChange",value:function(r){r.persist();var i=r.target,s=i.value,o=this.state,a=this.props,l=a.isAllowed,d=o.value||"",f=Math.max(i.selectionStart,i.selectionEnd);s=this.correctInputValue(f,d,s);var p=this.formatInput(s)||"",v=this.removeFormatting(p),w={formattedValue:p,value:v,floatValue:parseFloat(v)};l(w)||(p=d),i.value=p;var I=this.getCaretPosition(s,p,f);this.setPatchedCaretPosition(i,I,p),p!==d?this.setState({value:p,numAsString:v},function(){a.onValueChange(w),a.onChange(r)}):a.onChange(r)}},{key:"onBlur",value:function(r){var i=this.props,s=this.state,o=i.format,a=i.onBlur,l=s.numAsString,d=s.value;if(!o){l=(0,it.fixLeadingZero)(l);var f=this.formatNumString(l),p={formattedValue:f,value:l,floatValue:parseFloat(l)};if(f!==d){r.persist(),this.setState({value:f,numAsString:l},function(){i.onValueChange(p),a(r)});return}}a(r)}},{key:"onKeyDown",value:function(r){var i=r.target,s=r.key,o=i.selectionEnd,a=i.value,l=i.selectionStart,d=void 0,f=this.props,p=f.decimalScale,v=f.fixedDecimalScale,w=f.prefix,I=f.suffix,A=f.format,k=f.onKeyDown,b=p!==void 0&&v,R=this.getNumberRegex(!1,b),P=new RegExp("-"),U=typeof A=="string";if(s==="ArrowLeft"||s==="Backspace"?d=l-1:s==="ArrowRight"?d=l+1:s==="Delete"&&(d=l),d===void 0||l!==o){k(r);return}var B=d,G=U?A.indexOf("#"):w.length,C=U?A.lastIndexOf("#")+1:a.length-I.length;if(s==="ArrowLeft"||s==="ArrowRight"){var T=s==="ArrowLeft"?"left":"right";B=this.correctCaretPosition(a,d,T)}else if(s==="Delete"&&!R.test(a[d])&&!P.test(a[d]))for(;!R.test(a[B])&&B<C;)B++;else if(s==="Backspace"&&!R.test(a[d])&&!P.test(a[d])){for(;!R.test(a[B-1])&&B>G;)B--;B=this.correctCaretPosition(a,B,"left")}(B!==d||d<G||d>C)&&(r.preventDefault(),this.setPatchedCaretPosition(i,B,a)),r.isUnitTestRun&&this.setPatchedCaretPosition(i,B,a),this.props.onKeyDown(r)}},{key:"onMouseUp",value:function(r){var i=r.target,s=i.selectionStart,o=i.selectionEnd,a=i.value;if(s===o){var l=this.correctCaretPosition(a,s);l!==s&&this.setPatchedCaretPosition(i,l,a)}this.props.onMouseUp(r)}},{key:"onFocus",value:function(r){var i=this;r.persist(),setTimeout(function(){var s=r.target,o=s.selectionStart,a=s.value,l=i.correctCaretPosition(a,o);l!==o&&i.setPatchedCaretPosition(s,l,a),i.props.onFocus(r)})}},{key:"render",value:function(){var r=this.props,i=r.type,s=r.displayType,o=r.customInput,a=r.renderText,l=this.state.value,d=(0,it.omit)(this.props,UD),f=pH({},d,{type:i,value:l,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if(s==="text")return a?a(l)||null:If.default.createElement("span",d,l);if(o){var p=o;return If.default.createElement(p,f)}return If.default.createElement("input",f)}}]),e}(If.default.Component);UE.propTypes=UD;UE.defaultProps=EH;var IH=UE;const jE=kd(IH);function SH(){const[{basket:t},e]=Gs(),n=i=>i==null?void 0:i.reduce((s,o)=>s+o.price,0),r=pm();return O.jsxs("div",{className:"subtotal",children:[O.jsx(jE,{renderText:i=>O.jsx("div",{children:O.jsxs("p",{children:["Subtotal (",t.length," items): ",O.jsx("strong",{children:i}),O.jsxs("small",{className:"subtotal_gift",children:[O.jsx("input",{type:"checkbox"})," This order contain a gift"]})]})}),decimalScale:2,value:n(t),displayType:"text",thousandSeparator:!0,prefix:"ETB"}),O.jsx("button",{onClick:i=>r("/payment"),children:"Proceed to Checkout"})]})}function BE({id:t,image:e,title:n,price:r,rating:i,hideButton:s}){const[{basket:o},a]=Gs(),l=()=>{a({type:"REMOVE_FROM_BASKET",id:t})};return O.jsxs("div",{className:"checkoutProduct",children:[O.jsx("img",{className:"checkoutProduct__image",src:e}),O.jsxs("div",{className:"checkoutProduct__info",children:[O.jsx("p",{className:"checkoutProduct__title",children:n}),O.jsxs("p",{className:"checkoutProduct__price",children:[O.jsx("small",{children:"ETB"}),O.jsx("strong",{children:r})]}),O.jsx("div",{className:"checkoutProduct__rating",children:Array(i).fill().map((d,f)=>O.jsx("p",{children:""}))}),!s&&O.jsx("button",{onClick:l,children:"Remove from Basket"})," "]})]})}function TH(){const[{basket:t},e]=Gs();return O.jsx(O.Fragment,{children:O.jsxs("div",{className:"checkout",children:[O.jsxs("div",{className:"checkout_left",children:[O.jsx("img",{className:"chekout_ad",src:iH,alt:""}),O.jsx("h3",{children:"Hello"}),O.jsx("h2",{className:"chekout_title",children:" Your Shopping Basket"}),t.map(n=>O.jsx(BE,{id:n.id,title:n.title,image:n.img,price:n.price,rating:n.rating}))]}),O.jsx("div",{className:"checkout_right",children:O.jsx(SH,{})})]})})}function jD(t,e){return function(){return t.apply(e,arguments)}}const{toString:RH}=Object.prototype,{getPrototypeOf:zE}=Object,dg=(t=>e=>{const n=RH.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Mr=t=>(t=t.toLowerCase(),e=>dg(e)===t),hg=t=>e=>typeof e===t,{isArray:wu}=Array,bd=hg("undefined");function PH(t){return t!==null&&!bd(t)&&t.constructor!==null&&!bd(t.constructor)&&ur(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const BD=Mr("ArrayBuffer");function AH(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&BD(t.buffer),e}const bH=hg("string"),ur=hg("function"),zD=hg("number"),fg=t=>t!==null&&typeof t=="object",kH=t=>t===!0||t===!1,Yf=t=>{if(dg(t)!=="object")return!1;const e=zE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},CH=Mr("Date"),xH=Mr("File"),DH=Mr("Blob"),NH=Mr("FileList"),OH=t=>fg(t)&&ur(t.pipe),MH=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ur(t.append)&&((e=dg(t))==="formdata"||e==="object"&&ur(t.toString)&&t.toString()==="[object FormData]"))},VH=Mr("URLSearchParams"),[LH,FH,UH,jH]=["ReadableStream","Request","Response","Headers"].map(Mr),BH=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),wu(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function $D(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const WD=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qD=t=>!bd(t)&&t!==WD;function Y_(){const{caseless:t}=qD(this)&&this||{},e={},n=(r,i)=>{const s=t&&$D(e,i)||i;Yf(e[s])&&Yf(r)?e[s]=Y_(e[s],r):Yf(r)?e[s]=Y_({},r):wu(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&nh(arguments[r],n);return e}const zH=(t,e,n,{allOwnKeys:r}={})=>(nh(e,(i,s)=>{n&&ur(i)?t[s]=jD(i,n):t[s]=i},{allOwnKeys:r}),t),$H=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),WH=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},qH=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&zE(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},GH=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},HH=t=>{if(!t)return null;if(wu(t))return t;let e=t.length;if(!zD(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},KH=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&zE(Uint8Array)),YH=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},QH=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},JH=Mr("HTMLFormElement"),XH=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),rR=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ZH=Mr("RegExp"),GD=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};nh(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},e8=t=>{GD(t,(e,n)=>{if(ur(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ur(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},t8=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return wu(t)?r(t):r(String(t).split(e)),n},n8=()=>{},r8=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Yy="abcdefghijklmnopqrstuvwxyz",iR="0123456789",HD={DIGIT:iR,ALPHA:Yy,ALPHA_DIGIT:Yy+Yy.toUpperCase()+iR},i8=(t=16,e=HD.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function s8(t){return!!(t&&ur(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const o8=t=>{const e=new Array(10),n=(r,i)=>{if(fg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=wu(r)?[]:{};return nh(r,(o,a)=>{const l=n(o,i+1);!bd(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},a8=Mr("AsyncFunction"),l8=t=>t&&(fg(t)||ur(t))&&ur(t.then)&&ur(t.catch),q={isArray:wu,isArrayBuffer:BD,isBuffer:PH,isFormData:MH,isArrayBufferView:AH,isString:bH,isNumber:zD,isBoolean:kH,isObject:fg,isPlainObject:Yf,isReadableStream:LH,isRequest:FH,isResponse:UH,isHeaders:jH,isUndefined:bd,isDate:CH,isFile:xH,isBlob:DH,isRegExp:ZH,isFunction:ur,isStream:OH,isURLSearchParams:VH,isTypedArray:KH,isFileList:NH,forEach:nh,merge:Y_,extend:zH,trim:BH,stripBOM:$H,inherits:WH,toFlatObject:qH,kindOf:dg,kindOfTest:Mr,endsWith:GH,toArray:HH,forEachEntry:YH,matchAll:QH,isHTMLForm:JH,hasOwnProperty:rR,hasOwnProp:rR,reduceDescriptors:GD,freezeMethods:e8,toObjectSet:t8,toCamelCase:XH,noop:n8,toFiniteNumber:r8,findKey:$D,global:WD,isContextDefined:qD,ALPHABET:HD,generateString:i8,isSpecCompliantForm:s8,toJSONObject:o8,isAsyncFn:a8,isThenable:l8};function ve(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}q.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const KD=ve.prototype,YD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{YD[t]={value:t}});Object.defineProperties(ve,YD);Object.defineProperty(KD,"isAxiosError",{value:!0});ve.from=(t,e,n,r,i,s)=>{const o=Object.create(KD);return q.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ve.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const u8=null;function Q_(t){return q.isPlainObject(t)||q.isArray(t)}function QD(t){return q.endsWith(t,"[]")?t.slice(0,-2):t}function sR(t,e,n){return t?t.concat(e).map(function(i,s){return i=QD(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function c8(t){return q.isArray(t)&&!t.some(Q_)}const d8=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});function pg(t,e,n){if(!q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,k){return!q.isUndefined(k[A])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(e);if(!q.isFunction(i))throw new TypeError("visitor must be a function");function d(I){if(I===null)return"";if(q.isDate(I))return I.toISOString();if(!l&&q.isBlob(I))throw new ve("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(I)||q.isTypedArray(I)?l&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function f(I,A,k){let b=I;if(I&&!k&&typeof I=="object"){if(q.endsWith(A,"{}"))A=r?A:A.slice(0,-2),I=JSON.stringify(I);else if(q.isArray(I)&&c8(I)||(q.isFileList(I)||q.endsWith(A,"[]"))&&(b=q.toArray(I)))return A=QD(A),b.forEach(function(P,U){!(q.isUndefined(P)||P===null)&&e.append(o===!0?sR([A],U,s):o===null?A:A+"[]",d(P))}),!1}return Q_(I)?!0:(e.append(sR(k,A,s),d(I)),!1)}const p=[],v=Object.assign(d8,{defaultVisitor:f,convertValue:d,isVisitable:Q_});function w(I,A){if(!q.isUndefined(I)){if(p.indexOf(I)!==-1)throw Error("Circular reference detected in "+A.join("."));p.push(I),q.forEach(I,function(b,R){(!(q.isUndefined(b)||b===null)&&i.call(e,b,q.isString(R)?R.trim():R,A,v))===!0&&w(b,A?A.concat(R):[R])}),p.pop()}}if(!q.isObject(t))throw new TypeError("data must be an object");return w(t),e}function oR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function $E(t,e){this._pairs=[],t&&pg(t,this,e)}const JD=$E.prototype;JD.append=function(e,n){this._pairs.push([e,n])};JD.toString=function(e){const n=e?function(r){return e.call(this,r,oR)}:oR;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function h8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function XD(t,e,n){if(!e)return t;const r=n&&n.encode||h8,i=n&&n.serialize;let s;if(i?s=i(e,n):s=q.isURLSearchParams(e)?e.toString():new $E(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class aR{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(r){r!==null&&e(r)})}}const ZD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},f8=typeof URLSearchParams<"u"?URLSearchParams:$E,p8=typeof FormData<"u"?FormData:null,m8=typeof Blob<"u"?Blob:null,g8={isBrowser:!0,classes:{URLSearchParams:f8,FormData:p8,Blob:m8},protocols:["http","https","file","blob","url","data"]},WE=typeof window<"u"&&typeof document<"u",y8=(t=>WE&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),v8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_8=WE&&window.location.href||"http://localhost",w8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:WE,hasStandardBrowserEnv:y8,hasStandardBrowserWebWorkerEnv:v8,origin:_8},Symbol.toStringTag,{value:"Module"})),xr={...w8,...g8};function E8(t,e){return pg(t,new xr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return xr.isNode&&q.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function I8(t){return q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function S8(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function eN(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&q.isArray(i)?i.length:o,l?(q.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!q.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&q.isArray(i[o])&&(i[o]=S8(i[o])),!a)}if(q.isFormData(t)&&q.isFunction(t.entries)){const n={};return q.forEachEntry(t,(r,i)=>{e(I8(r),i,n,0)}),n}return null}function T8(t,e,n){if(q.isString(t))try{return(e||JSON.parse)(t),q.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const rh={transitional:ZD,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=q.isObject(e);if(s&&q.isHTMLForm(e)&&(e=new FormData(e)),q.isFormData(e))return i?JSON.stringify(eN(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return E8(e,this.formSerializer).toString();if((a=q.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return pg(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),T8(e)):e}],transformResponse:[function(e){const n=this.transitional||rh.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ve.from(a,ve.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xr.classes.FormData,Blob:xr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],t=>{rh.headers[t]={}});const R8=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),P8=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&R8[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},lR=Symbol("internals");function uc(t){return t&&String(t).trim().toLowerCase()}function Qf(t){return t===!1||t==null?t:q.isArray(t)?t.map(Qf):String(t)}function A8(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const b8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Qy(t,e,n,r,i){if(q.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!q.isString(e)){if(q.isString(r))return e.indexOf(r)!==-1;if(q.isRegExp(r))return r.test(e)}}function k8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function C8(t,e){const n=q.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Fn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,d){const f=uc(l);if(!f)throw new Error("header name must be a non-empty string");const p=q.findKey(i,f);(!p||i[p]===void 0||d===!0||d===void 0&&i[p]!==!1)&&(i[p||l]=Qf(a))}const o=(a,l)=>q.forEach(a,(d,f)=>s(d,f,l));if(q.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(q.isString(e)&&(e=e.trim())&&!b8(e))o(P8(e),n);else if(q.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=uc(e),e){const r=q.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return A8(i);if(q.isFunction(n))return n.call(this,i,r);if(q.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=uc(e),e){const r=q.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Qy(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=uc(o),o){const a=q.findKey(r,o);a&&(!n||Qy(r,r[a],a,n))&&(delete r[a],i=!0)}}return q.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Qy(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return q.forEach(this,(i,s)=>{const o=q.findKey(r,s);if(o){n[o]=Qf(i),delete n[s];return}const a=e?k8(s):String(s).trim();a!==s&&delete n[s],n[a]=Qf(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return q.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&q.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[lR]=this[lR]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=uc(o);r[a]||(C8(i,o),r[a]=!0)}return q.isArray(e)?e.forEach(s):s(e),this}}Fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(Fn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});q.freezeMethods(Fn);function Jy(t,e){const n=this||rh,r=e||n,i=Fn.from(r.headers);let s=r.data;return q.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function tN(t){return!!(t&&t.__CANCEL__)}function Eu(t,e,n){ve.call(this,t??"canceled",ve.ERR_CANCELED,e,n),this.name="CanceledError"}q.inherits(Eu,ve,{__CANCEL__:!0});function nN(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ve("Request failed with status code "+n.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function x8(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function D8(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const d=Date.now(),f=r[s];o||(o=d),n[i]=l,r[i]=d;let p=s,v=0;for(;p!==i;)v+=n[p++],p=p%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-o<e)return;const w=f&&d-f;return w?Math.round(v*1e3/w):void 0}}function N8(t,e){let n=0;const r=1e3/e;let i=null;return function(){const o=this===!0,a=Date.now();if(o||a-n>r)return i&&(clearTimeout(i),i=null),n=a,t.apply(null,arguments);i||(i=setTimeout(()=>(i=null,n=Date.now(),t.apply(null,arguments)),r-(a-n)))}}const Kp=(t,e,n=3)=>{let r=0;const i=D8(50,250);return N8(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,d=i(l),f=o<=a;r=o;const p={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:d||void 0,estimated:d&&a&&f?(a-o)/d:void 0,event:s,lengthComputable:a!=null};p[e?"download":"upload"]=!0,t(p)},n)},O8=xr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=q.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),M8=xr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];q.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),q.isString(r)&&o.push("path="+r),q.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function V8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function L8(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function rN(t,e){return t&&!V8(e)?L8(t,e):e}const uR=t=>t instanceof Fn?{...t}:t;function ia(t,e){e=e||{};const n={};function r(d,f,p){return q.isPlainObject(d)&&q.isPlainObject(f)?q.merge.call({caseless:p},d,f):q.isPlainObject(f)?q.merge({},f):q.isArray(f)?f.slice():f}function i(d,f,p){if(q.isUndefined(f)){if(!q.isUndefined(d))return r(void 0,d,p)}else return r(d,f,p)}function s(d,f){if(!q.isUndefined(f))return r(void 0,f)}function o(d,f){if(q.isUndefined(f)){if(!q.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function a(d,f,p){if(p in e)return r(d,f);if(p in t)return r(void 0,d)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(d,f)=>i(uR(d),uR(f),!0)};return q.forEach(Object.keys(Object.assign({},t,e)),function(f){const p=l[f]||i,v=p(t[f],e[f],f);q.isUndefined(v)&&p!==a||(n[f]=v)}),n}const iN=t=>{const e=ia({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Fn.from(o),e.url=XD(rN(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(q.isFormData(n)){if(xr.hasStandardBrowserEnv||xr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[d,...f]=l?l.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...f].join("; "))}}if(xr.hasStandardBrowserEnv&&(r&&q.isFunction(r)&&(r=r(e)),r||r!==!1&&O8(e.url))){const d=i&&s&&M8.read(s);d&&o.set(i,d)}return e},F8=typeof XMLHttpRequest<"u",U8=F8&&function(t){return new Promise(function(n,r){const i=iN(t);let s=i.data;const o=Fn.from(i.headers).normalize();let{responseType:a}=i,l;function d(){i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let f=new XMLHttpRequest;f.open(i.method.toUpperCase(),i.url,!0),f.timeout=i.timeout;function p(){if(!f)return;const w=Fn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),A={data:!a||a==="text"||a==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:w,config:t,request:f};nN(function(b){n(b),d()},function(b){r(b),d()},A),f=null}"onloadend"in f?f.onloadend=p:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(p)},f.onabort=function(){f&&(r(new ve("Request aborted",ve.ECONNABORTED,i,f)),f=null)},f.onerror=function(){r(new ve("Network Error",ve.ERR_NETWORK,i,f)),f=null},f.ontimeout=function(){let I=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||ZD;i.timeoutErrorMessage&&(I=i.timeoutErrorMessage),r(new ve(I,A.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,i,f)),f=null},s===void 0&&o.setContentType(null),"setRequestHeader"in f&&q.forEach(o.toJSON(),function(I,A){f.setRequestHeader(A,I)}),q.isUndefined(i.withCredentials)||(f.withCredentials=!!i.withCredentials),a&&a!=="json"&&(f.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&f.addEventListener("progress",Kp(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",Kp(i.onUploadProgress)),(i.cancelToken||i.signal)&&(l=w=>{f&&(r(!w||w.type?new Eu(null,t,f):w),f.abort(),f=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const v=x8(i.url);if(v&&xr.protocols.indexOf(v)===-1){r(new ve("Unsupported protocol "+v+":",ve.ERR_BAD_REQUEST,t));return}f.send(s||null)})},j8=(t,e)=>{let n=new AbortController,r;const i=function(l){if(!r){r=!0,o();const d=l instanceof Error?l:this.reason;n.abort(d instanceof ve?d:new Eu(d instanceof Error?d.message:d))}};let s=e&&setTimeout(()=>{i(new ve(`timeout ${e} of ms exceeded`,ve.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:a}=n;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},B8=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},z8=async function*(t,e,n){for await(const r of t)yield*B8(ArrayBuffer.isView(r)?r:await n(String(r)),e)},cR=(t,e,n,r,i)=>{const s=z8(t,e,i);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:l,value:d}=await s.next();if(l){a.close(),r();return}let f=d.byteLength;n&&n(o+=f),a.enqueue(new Uint8Array(d))},cancel(a){return r(a),s.return()}},{highWaterMark:2})},dR=(t,e)=>{const n=t!=null;return r=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:r}))},mg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sN=mg&&typeof ReadableStream=="function",J_=mg&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),$8=sN&&(()=>{let t=!1;const e=new Request(xr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),hR=64*1024,X_=sN&&!!(()=>{try{return q.isReadableStream(new Response("").body)}catch{}})(),Yp={stream:X_&&(t=>t.body)};mg&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Yp[e]&&(Yp[e]=q.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ve(`Response type '${e}' is not supported`,ve.ERR_NOT_SUPPORT,r)})})})(new Response);const W8=async t=>{if(t==null)return 0;if(q.isBlob(t))return t.size;if(q.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(q.isArrayBufferView(t))return t.byteLength;if(q.isURLSearchParams(t)&&(t=t+""),q.isString(t))return(await J_(t)).byteLength},q8=async(t,e)=>{const n=q.toFiniteNumber(t.getContentLength());return n??W8(e)},G8=mg&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:d,headers:f,withCredentials:p="same-origin",fetchOptions:v}=iN(t);d=d?(d+"").toLowerCase():"text";let[w,I]=i||s||o?j8([i,s],o):[],A,k;const b=()=>{!A&&setTimeout(()=>{w&&w.unsubscribe()}),A=!0};let R;try{if(l&&$8&&n!=="get"&&n!=="head"&&(R=await q8(f,r))!==0){let G=new Request(e,{method:"POST",body:r,duplex:"half"}),C;q.isFormData(r)&&(C=G.headers.get("content-type"))&&f.setContentType(C),G.body&&(r=cR(G.body,hR,dR(R,Kp(l)),null,J_))}q.isString(p)||(p=p?"cors":"omit"),k=new Request(e,{...v,signal:w,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",withCredentials:p});let P=await fetch(k);const U=X_&&(d==="stream"||d==="response");if(X_&&(a||U)){const G={};["status","statusText","headers"].forEach(T=>{G[T]=P[T]});const C=q.toFiniteNumber(P.headers.get("content-length"));P=new Response(cR(P.body,hR,a&&dR(C,Kp(a,!0)),U&&b,J_),G)}d=d||"text";let B=await Yp[q.findKey(Yp,d)||"text"](P,t);return!U&&b(),I&&I(),await new Promise((G,C)=>{nN(G,C,{data:B,headers:Fn.from(P.headers),status:P.status,statusText:P.statusText,config:t,request:k})})}catch(P){throw b(),P&&P.name==="TypeError"&&/fetch/i.test(P.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,t,k),{cause:P.cause||P}):ve.from(P,P&&P.code,t,k)}}),Z_={http:u8,xhr:U8,fetch:G8};q.forEach(Z_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const fR=t=>`- ${t}`,H8=t=>q.isFunction(t)||t===null||t===!1,oN={getAdapter:t=>{t=q.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!H8(n)&&(r=Z_[(o=String(n)).toLowerCase()],r===void 0))throw new ve(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(fR).join(`
`):" "+fR(s[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Z_};function Xy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Eu(null,t)}function pR(t){return Xy(t),t.headers=Fn.from(t.headers),t.data=Jy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),oN.getAdapter(t.adapter||rh.adapter)(t).then(function(r){return Xy(t),r.data=Jy.call(t,t.transformResponse,r),r.headers=Fn.from(r.headers),r},function(r){return tN(r)||(Xy(t),r&&r.response&&(r.response.data=Jy.call(t,t.transformResponse,r.response),r.response.headers=Fn.from(r.response.headers))),Promise.reject(r)})}const aN="1.7.2",qE={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{qE[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const mR={};qE.transitional=function(e,n,r){function i(s,o){return"[Axios v"+aN+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ve(i(o," has been removed"+(n?" in "+n:"")),ve.ERR_DEPRECATED);return n&&!mR[o]&&(mR[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function K8(t,e,n){if(typeof t!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ve("option "+s+" must be "+l,ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ve("Unknown option "+s,ve.ERR_BAD_OPTION)}}const e0={assertOptions:K8,validators:qE},ns=e0.validators;class jo{constructor(e){this.defaults=e,this.interceptors={request:new aR,response:new aR}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ia(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&e0.assertOptions(r,{silentJSONParsing:ns.transitional(ns.boolean),forcedJSONParsing:ns.transitional(ns.boolean),clarifyTimeoutError:ns.transitional(ns.boolean)},!1),i!=null&&(q.isFunction(i)?n.paramsSerializer={serialize:i}:e0.assertOptions(i,{encode:ns.function,serialize:ns.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&q.merge(s.common,s[n.method]);s&&q.forEach(["delete","get","head","post","put","patch","common"],I=>{delete s[I]}),n.headers=Fn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(n)===!1||(l=l&&A.synchronous,a.unshift(A.fulfilled,A.rejected))});const d=[];this.interceptors.response.forEach(function(A){d.push(A.fulfilled,A.rejected)});let f,p=0,v;if(!l){const I=[pR.bind(this),void 0];for(I.unshift.apply(I,a),I.push.apply(I,d),v=I.length,f=Promise.resolve(n);p<v;)f=f.then(I[p++],I[p++]);return f}v=a.length;let w=n;for(p=0;p<v;){const I=a[p++],A=a[p++];try{w=I(w)}catch(k){A.call(this,k);break}}try{f=pR.call(this,w)}catch(I){return Promise.reject(I)}for(p=0,v=d.length;p<v;)f=f.then(d[p++],d[p++]);return f}getUri(e){e=ia(this.defaults,e);const n=rN(e.baseURL,e.url);return XD(n,e.params,e.paramsSerializer)}}q.forEach(["delete","get","head","options"],function(e){jo.prototype[e]=function(n,r){return this.request(ia(r||{},{method:e,url:n,data:(r||{}).data}))}});q.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(ia(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}jo.prototype[e]=n(),jo.prototype[e+"Form"]=n(!0)});class GE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Eu(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new GE(function(i){e=i}),cancel:e}}}function Y8(t){return function(n){return t.apply(null,n)}}function Q8(t){return q.isObject(t)&&t.isAxiosError===!0}const t0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(t0).forEach(([t,e])=>{t0[e]=t});function lN(t){const e=new jo(t),n=jD(jo.prototype.request,e);return q.extend(n,jo.prototype,e,{allOwnKeys:!0}),q.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return lN(ia(t,i))},n}const xt=lN(rh);xt.Axios=jo;xt.CanceledError=Eu;xt.CancelToken=GE;xt.isCancel=tN;xt.VERSION=aN;xt.toFormData=pg;xt.AxiosError=ve;xt.Cancel=xt.CanceledError;xt.all=function(e){return Promise.all(e)};xt.spread=Y8;xt.isAxiosError=Q8;xt.mergeConfig=ia;xt.AxiosHeaders=Fn;xt.formToJSON=t=>eN(q.isHTMLForm(t)?new FormData(t):t);xt.getAdapter=oN.getAdapter;xt.HttpStatusCode=t0;xt.default=xt;const J8=xt.create({baseURL:"http://127.0.0.1:5001/tona-shopping/us-central1/api"});function X8(){const[{basket:t,user:e},n]=Gs(),r=PF(),i=EF(),s=P=>P==null?void 0:P.reduce((U,B)=>U+B.price,0),[o,a]=Q.useState(null),[l,d]=Q.useState(!0),[f,p]=Q.useState(!1),[v,w]=Q.useState(""),[I,A]=Q.useState(),k=pm();Q.useEffect(()=>{(async()=>{const U=await J8({method:"Post",url:`/payments/create?total=${s(t)*100}`});A(U.data.clientSecret)})()},[t]),console.log(" client sectrer",I);const b=async P=>{P.preventDefault(),w(!0);try{const U=await r.confirmCardPayment(I,{payment_method:{card:i.getElement(FS)}}).then(({paymentIntent:B})=>{Zx.collection("users").doc(e==null?void 0:e.uid).collection("orders").doc(B==null?void 0:B.id).set({basket:t,amount:B.amount,created:B.created}),p(!0),w(!1),a(null),n({type:"EMPTY_BASKET"}),k("/orders")})}catch(U){console.log(U.message)}},R=P=>{d(P.empty),a(P.error?P.error.message:"")};return O.jsxs("div",{className:"payment",children:["hh",O.jsxs("div",{className:"container_payment",children:[O.jsxs("h1",{className:"chekout_paymnet",children:["Chekout(",O.jsxs(cl,{to:"/checkouts",children:[t==null?void 0:t.length," items"]}),")"]}),O.jsxs("div",{className:"payment_section",children:[O.jsx("div",{className:"payment_titel",children:O.jsx("h3",{children:"Deliver Address"})}),O.jsxs("div",{className:"payment_adress",children:[O.jsx("p",{children:e==null?void 0:e.email}),O.jsx("p",{children:"123 line adress"}),O.jsx("p",{children:"WOLAITA SODDO"})]})]}),O.jsxs("div",{className:"payment_section",children:[O.jsx("div",{className:"payment_titel",children:O.jsx("h3",{children:"Reveiw item and Delivery"})}),O.jsx("div",{className:"paymnet_items",children:t.map(P=>O.jsx(BE,{id:P.id,title:P.title,image:P.img,price:P.price,rating:P.rating}))})]}),O.jsxs("div",{className:"payment_section",children:[O.jsx("div",{className:"payment_titel",children:O.jsx("h3",{children:"Payment Methode"})}),O.jsx("div",{className:"payment_detail",children:O.jsxs("form",{onSubmit:b,children:[O.jsx(FS,{onChange:R}),O.jsx(jE,{renderText:P=>O.jsxs("h3",{children:["Order Total: ",P]}),decimalScale:2,value:s(t),displayType:"text",thousandSeparator:!0,prefix:"$"}),O.jsx("button",{className:"paymnet_butn",disabled:l||v||f,children:O.jsx("span",{children:v?O.jsx("p",{children:"processing"}):"Buy Now"})}),o&&O.jsx("div",{children:o})]})})]})]}),O.jsxs("div",{className:"bank",children:[O.jsx("h1",{children:"Account Number"}),O.jsxs("ul",{className:"lists",children:[O.jsx("li",{children:"Awash:027145563900"}),O.jsx("li",{children:"Cbe:1000464789131"}),O.jsx("li",{children:"Telebirr:0939637379"}),O.jsx("li",{children:"cbebirr:0939637379"})]}),O.jsxs("p",{className:"file",children:["please provide us screenshot of your payment:",O.jsx("input",{type:"file",id:"myFile",name:"filename"}),O.jsx("p",{className:"sub",children:O.jsx("input",{type:"submit"})})]})]})]})}function Z8(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var uN={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(SM,function(){var n;function r(){return n.apply(null,arguments)}function i(u){n=u}function s(u){return u instanceof Array||Object.prototype.toString.call(u)==="[object Array]"}function o(u){return u!=null&&Object.prototype.toString.call(u)==="[object Object]"}function a(u,h){return Object.prototype.hasOwnProperty.call(u,h)}function l(u){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(u).length===0;var h;for(h in u)if(a(u,h))return!1;return!0}function d(u){return u===void 0}function f(u){return typeof u=="number"||Object.prototype.toString.call(u)==="[object Number]"}function p(u){return u instanceof Date||Object.prototype.toString.call(u)==="[object Date]"}function v(u,h){var g=[],y,E=u.length;for(y=0;y<E;++y)g.push(h(u[y],y));return g}function w(u,h){for(var g in h)a(h,g)&&(u[g]=h[g]);return a(h,"toString")&&(u.toString=h.toString),a(h,"valueOf")&&(u.valueOf=h.valueOf),u}function I(u,h,g,y){return fi(u,h,g,y,!0).utc()}function A(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function k(u){return u._pf==null&&(u._pf=A()),u._pf}var b;Array.prototype.some?b=Array.prototype.some:b=function(u){var h=Object(this),g=h.length>>>0,y;for(y=0;y<g;y++)if(y in h&&u.call(this,h[y],y,h))return!0;return!1};function R(u){var h=null,g=!1,y=u._d&&!isNaN(u._d.getTime());if(y&&(h=k(u),g=b.call(h.parsedDateParts,function(E){return E!=null}),y=h.overflow<0&&!h.empty&&!h.invalidEra&&!h.invalidMonth&&!h.invalidWeekday&&!h.weekdayMismatch&&!h.nullInput&&!h.invalidFormat&&!h.userInvalidated&&(!h.meridiem||h.meridiem&&g),u._strict&&(y=y&&h.charsLeftOver===0&&h.unusedTokens.length===0&&h.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(u))u._isValid=y;else return y;return u._isValid}function P(u){var h=I(NaN);return u!=null?w(k(h),u):k(h).userInvalidated=!0,h}var U=r.momentProperties=[],B=!1;function G(u,h){var g,y,E,M=U.length;if(d(h._isAMomentObject)||(u._isAMomentObject=h._isAMomentObject),d(h._i)||(u._i=h._i),d(h._f)||(u._f=h._f),d(h._l)||(u._l=h._l),d(h._strict)||(u._strict=h._strict),d(h._tzm)||(u._tzm=h._tzm),d(h._isUTC)||(u._isUTC=h._isUTC),d(h._offset)||(u._offset=h._offset),d(h._pf)||(u._pf=k(h)),d(h._locale)||(u._locale=h._locale),M>0)for(g=0;g<M;g++)y=U[g],E=h[y],d(E)||(u[y]=E);return u}function C(u){G(this,u),this._d=new Date(u._d!=null?u._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),B===!1&&(B=!0,r.updateOffset(this),B=!1)}function T(u){return u instanceof C||u!=null&&u._isAMomentObject!=null}function x(u){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+u)}function D(u,h){var g=!0;return w(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,u),g){var y=[],E,M,W,se=arguments.length;for(M=0;M<se;M++){if(E="",typeof arguments[M]=="object"){E+=`
[`+M+"] ";for(W in arguments[0])a(arguments[0],W)&&(E+=W+": "+arguments[0][W]+", ");E=E.slice(0,-2)}else E=arguments[M];y.push(E)}x(u+`
Arguments: `+Array.prototype.slice.call(y).join("")+`
`+new Error().stack),g=!1}return h.apply(this,arguments)},h)}var V={};function L(u,h){r.deprecationHandler!=null&&r.deprecationHandler(u,h),V[u]||(x(h),V[u]=!0)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;function N(u){return typeof Function<"u"&&u instanceof Function||Object.prototype.toString.call(u)==="[object Function]"}function Xt(u){var h,g;for(g in u)a(u,g)&&(h=u[g],N(h)?this[g]=h:this["_"+g]=h);this._config=u,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ke(u,h){var g=w({},u),y;for(y in h)a(h,y)&&(o(u[y])&&o(h[y])?(g[y]={},w(g[y],u[y]),w(g[y],h[y])):h[y]!=null?g[y]=h[y]:delete g[y]);for(y in u)a(u,y)&&!a(h,y)&&o(u[y])&&(g[y]=w({},g[y]));return g}function fr(u){u!=null&&this.set(u)}var gt;Object.keys?gt=Object.keys:gt=function(u){var h,g=[];for(h in u)a(u,h)&&g.push(h);return g};var ne={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function pe(u,h,g){var y=this._calendar[u]||this._calendar.sameElse;return N(y)?y.call(h,g):y}function de(u,h,g){var y=""+Math.abs(u),E=h-y.length,M=u>=0;return(M?g?"+":"":"-")+Math.pow(10,Math.max(0,E)).toString().substr(1)+y}var Ie=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ve=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Xe={},sn={};function le(u,h,g,y){var E=y;typeof y=="string"&&(E=function(){return this[y]()}),u&&(sn[u]=E),h&&(sn[h[0]]=function(){return de(E.apply(this,arguments),h[1],h[2])}),g&&(sn[g]=function(){return this.localeData().ordinal(E.apply(this,arguments),u)})}function pr(u){return u.match(/\[[\s\S]/)?u.replace(/^\[|\]$/g,""):u.replace(/\\/g,"")}function mr(u){var h=u.match(Ie),g,y;for(g=0,y=h.length;g<y;g++)sn[h[g]]?h[g]=sn[h[g]]:h[g]=pr(h[g]);return function(E){var M="",W;for(W=0;W<y;W++)M+=N(h[W])?h[W].call(E,u):h[W];return M}}function ma(u,h){return u.isValid()?(h=ih(h,u.localeData()),Xe[h]=Xe[h]||mr(h),Xe[h](u)):u.localeData().invalidDate()}function ih(u,h){var g=5;function y(E){return h.longDateFormat(E)||E}for(Ve.lastIndex=0;g>=0&&Ve.test(u);)u=u.replace(Ve,y),Ve.lastIndex=0,g-=1;return u}var ga={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ya(u){var h=this._longDateFormat[u],g=this._longDateFormat[u.toUpperCase()];return h||!g?h:(this._longDateFormat[u]=g.match(Ie).map(function(y){return y==="MMMM"||y==="MM"||y==="DD"||y==="dddd"?y.slice(1):y}).join(""),this._longDateFormat[u])}var Iu="Invalid date";function Su(){return this._invalidDate}var Tu="%d",Ru=/\d{1,2}/;function sh(u){return this._ordinal.replace("%d",u)}var gg={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function yg(u,h,g,y){var E=this._relativeTime[g];return N(E)?E(u,h,g,y):E.replace(/%d/i,u)}function oh(u,h){var g=this._relativeTime[u>0?"future":"past"];return N(g)?g(h):g.replace(/%s/i,h)}var va={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function dn(u){return typeof u=="string"?va[u]||va[u.toLowerCase()]:void 0}function Pu(u){var h={},g,y;for(y in u)a(u,y)&&(g=dn(y),g&&(h[g]=u[y]));return h}var Au={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function bu(u){var h=[],g;for(g in u)a(u,g)&&h.push({unit:g,priority:Au[g]});return h.sort(function(y,E){return y.priority-E.priority}),h}var ku=/\d/,Ue=/\d\d/,jt=/\d{3}/,Bi=/\d{4}/,Zs=/[+-]?\d{6}/,We=/\d\d?/,ah=/\d\d\d\d?/,zi=/\d\d\d\d\d\d?/,eo=/\d{1,3}/,_a=/\d{1,4}/,$i=/[+-]?\d{1,6}/,Wi=/\d+/,wa=/[+-]?\d+/,Cu=/Z|[+-]\d\d:?\d\d/gi,to=/Z|[+-]\d\d(?::?\d\d)?/gi,lh=/[+-]?\d+(\.\d{1,3})?/,gr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Vr=/^[1-9]\d?/,no=/^([1-9]\d|\d)/,Xn;Xn={};function ie(u,h,g){Xn[u]=N(h)?h:function(y,E){return y&&g?g:h}}function Ea(u,h){return a(Xn,u)?Xn[u](h._strict,h._locale):new RegExp(uh(u))}function uh(u){return hn(u.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(h,g,y,E,M){return g||y||E||M}))}function hn(u){return u.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function fn(u){return u<0?Math.ceil(u)||0:Math.floor(u)}function fe(u){var h=+u,g=0;return h!==0&&isFinite(h)&&(g=fn(h)),g}var Ia={};function ke(u,h){var g,y=h,E;for(typeof u=="string"&&(u=[u]),f(h)&&(y=function(M,W){W[h]=fe(M)}),E=u.length,g=0;g<E;g++)Ia[u[g]]=y}function yr(u,h){ke(u,function(g,y,E,M){E._w=E._w||{},h(g,E._w,E,M)})}function vg(u,h,g){h!=null&&a(Ia,u)&&Ia[u](h,g._a,g,u)}function Sa(u){return u%4===0&&u%100!==0||u%400===0}var ct=0,vr=1,Zn=2,nt=3,Pn=4,Un=5,er=6,Lr=7,ch=8;le("Y",0,0,function(){var u=this.year();return u<=9999?de(u,4):"+"+u}),le(0,["YY",2],0,function(){return this.year()%100}),le(0,["YYYY",4],0,"year"),le(0,["YYYYY",5],0,"year"),le(0,["YYYYYY",6,!0],0,"year"),ie("Y",wa),ie("YY",We,Ue),ie("YYYY",_a,Bi),ie("YYYYY",$i,Zs),ie("YYYYYY",$i,Zs),ke(["YYYYY","YYYYYY"],ct),ke("YYYY",function(u,h){h[ct]=u.length===2?r.parseTwoDigitYear(u):fe(u)}),ke("YY",function(u,h){h[ct]=r.parseTwoDigitYear(u)}),ke("Y",function(u,h){h[ct]=parseInt(u,10)});function qi(u){return Sa(u)?366:365}r.parseTwoDigitYear=function(u){return fe(u)+(fe(u)>68?1900:2e3)};var Ta=ai("FullYear",!0);function xu(){return Sa(this.year())}function ai(u,h){return function(g){return g!=null?(dh(this,u,g),r.updateOffset(this,h),this):Gi(this,u)}}function Gi(u,h){if(!u.isValid())return NaN;var g=u._d,y=u._isUTC;switch(h){case"Milliseconds":return y?g.getUTCMilliseconds():g.getMilliseconds();case"Seconds":return y?g.getUTCSeconds():g.getSeconds();case"Minutes":return y?g.getUTCMinutes():g.getMinutes();case"Hours":return y?g.getUTCHours():g.getHours();case"Date":return y?g.getUTCDate():g.getDate();case"Day":return y?g.getUTCDay():g.getDay();case"Month":return y?g.getUTCMonth():g.getMonth();case"FullYear":return y?g.getUTCFullYear():g.getFullYear();default:return NaN}}function dh(u,h,g){var y,E,M,W,se;if(!(!u.isValid()||isNaN(g))){switch(y=u._d,E=u._isUTC,h){case"Milliseconds":return void(E?y.setUTCMilliseconds(g):y.setMilliseconds(g));case"Seconds":return void(E?y.setUTCSeconds(g):y.setSeconds(g));case"Minutes":return void(E?y.setUTCMinutes(g):y.setMinutes(g));case"Hours":return void(E?y.setUTCHours(g):y.setHours(g));case"Date":return void(E?y.setUTCDate(g):y.setDate(g));case"FullYear":break;default:return}M=g,W=u.month(),se=u.date(),se=se===29&&W===1&&!Sa(M)?28:se,E?y.setUTCFullYear(M,W,se):y.setFullYear(M,W,se)}}function Ra(u){return u=dn(u),N(this[u])?this[u]():this}function hh(u,h){if(typeof u=="object"){u=Pu(u);var g=bu(u),y,E=g.length;for(y=0;y<E;y++)this[g[y].unit](u[g[y].unit])}else if(u=dn(u),N(this[u]))return this[u](h);return this}function Du(u,h){return(u%h+h)%h}var Ge;Array.prototype.indexOf?Ge=Array.prototype.indexOf:Ge=function(u){var h;for(h=0;h<this.length;++h)if(this[h]===u)return h;return-1};function _r(u,h){if(isNaN(u)||isNaN(h))return NaN;var g=Du(h,12);return u+=(h-g)/12,g===1?Sa(u)?29:28:31-g%7%2}le("M",["MM",2],"Mo",function(){return this.month()+1}),le("MMM",0,0,function(u){return this.localeData().monthsShort(this,u)}),le("MMMM",0,0,function(u){return this.localeData().months(this,u)}),ie("M",We,Vr),ie("MM",We,Ue),ie("MMM",function(u,h){return h.monthsShortRegex(u)}),ie("MMMM",function(u,h){return h.monthsRegex(u)}),ke(["M","MM"],function(u,h){h[vr]=fe(u)-1}),ke(["MMM","MMMM"],function(u,h,g,y){var E=g._locale.monthsParse(u,y,g._strict);E!=null?h[vr]=E:k(g).invalidMonth=u});var Nu="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fh="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ou=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ph=gr,mh=gr;function Mu(u,h){return u?s(this._months)?this._months[u.month()]:this._months[(this._months.isFormat||Ou).test(h)?"format":"standalone"][u.month()]:s(this._months)?this._months:this._months.standalone}function Vu(u,h){return u?s(this._monthsShort)?this._monthsShort[u.month()]:this._monthsShort[Ou.test(h)?"format":"standalone"][u.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function gh(u,h,g){var y,E,M,W=u.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],y=0;y<12;++y)M=I([2e3,y]),this._shortMonthsParse[y]=this.monthsShort(M,"").toLocaleLowerCase(),this._longMonthsParse[y]=this.months(M,"").toLocaleLowerCase();return g?h==="MMM"?(E=Ge.call(this._shortMonthsParse,W),E!==-1?E:null):(E=Ge.call(this._longMonthsParse,W),E!==-1?E:null):h==="MMM"?(E=Ge.call(this._shortMonthsParse,W),E!==-1?E:(E=Ge.call(this._longMonthsParse,W),E!==-1?E:null)):(E=Ge.call(this._longMonthsParse,W),E!==-1?E:(E=Ge.call(this._shortMonthsParse,W),E!==-1?E:null))}function yh(u,h,g){var y,E,M;if(this._monthsParseExact)return gh.call(this,u,h,g);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),y=0;y<12;y++){if(E=I([2e3,y]),g&&!this._longMonthsParse[y]&&(this._longMonthsParse[y]=new RegExp("^"+this.months(E,"").replace(".","")+"$","i"),this._shortMonthsParse[y]=new RegExp("^"+this.monthsShort(E,"").replace(".","")+"$","i")),!g&&!this._monthsParse[y]&&(M="^"+this.months(E,"")+"|^"+this.monthsShort(E,""),this._monthsParse[y]=new RegExp(M.replace(".",""),"i")),g&&h==="MMMM"&&this._longMonthsParse[y].test(u))return y;if(g&&h==="MMM"&&this._shortMonthsParse[y].test(u))return y;if(!g&&this._monthsParse[y].test(u))return y}}function vh(u,h){if(!u.isValid())return u;if(typeof h=="string"){if(/^\d+$/.test(h))h=fe(h);else if(h=u.localeData().monthsParse(h),!f(h))return u}var g=h,y=u.date();return y=y<29?y:Math.min(y,_r(u.year(),g)),u._isUTC?u._d.setUTCMonth(g,y):u._d.setMonth(g,y),u}function _h(u){return u!=null?(vh(this,u),r.updateOffset(this,!0),this):Gi(this,"Month")}function wh(){return _r(this.year(),this.month())}function Eh(u){return this._monthsParseExact?(a(this,"_monthsRegex")||Fr.call(this),u?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=ph),this._monthsShortStrictRegex&&u?this._monthsShortStrictRegex:this._monthsShortRegex)}function _g(u){return this._monthsParseExact?(a(this,"_monthsRegex")||Fr.call(this),u?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=mh),this._monthsStrictRegex&&u?this._monthsStrictRegex:this._monthsRegex)}function Fr(){function u(me,be){return be.length-me.length}var h=[],g=[],y=[],E,M,W,se;for(E=0;E<12;E++)M=I([2e3,E]),W=hn(this.monthsShort(M,"")),se=hn(this.months(M,"")),h.push(W),g.push(se),y.push(se),y.push(W);h.sort(u),g.sort(u),y.sort(u),this._monthsRegex=new RegExp("^("+y.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+g.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+h.join("|")+")","i")}function wr(u,h,g,y,E,M,W){var se;return u<100&&u>=0?(se=new Date(u+400,h,g,y,E,M,W),isFinite(se.getFullYear())&&se.setFullYear(u)):se=new Date(u,h,g,y,E,M,W),se}function Ur(u){var h,g;return u<100&&u>=0?(g=Array.prototype.slice.call(arguments),g[0]=u+400,h=new Date(Date.UTC.apply(null,g)),isFinite(h.getUTCFullYear())&&h.setUTCFullYear(u)):h=new Date(Date.UTC.apply(null,arguments)),h}function li(u,h,g){var y=7+h-g,E=(7+Ur(u,0,y).getUTCDay()-h)%7;return-E+y-1}function Lu(u,h,g,y,E){var M=(7+g-y)%7,W=li(u,y,E),se=1+7*(h-1)+M+W,me,be;return se<=0?(me=u-1,be=qi(me)+se):se>qi(u)?(me=u+1,be=se-qi(u)):(me=u,be=se),{year:me,dayOfYear:be}}function Fe(u,h,g){var y=li(u.year(),h,g),E=Math.floor((u.dayOfYear()-y-1)/7)+1,M,W;return E<1?(W=u.year()-1,M=E+An(W,h,g)):E>An(u.year(),h,g)?(M=E-An(u.year(),h,g),W=u.year()+1):(W=u.year(),M=E),{week:M,year:W}}function An(u,h,g){var y=li(u,h,g),E=li(u+1,h,g);return(qi(u)-y+E)/7}le("w",["ww",2],"wo","week"),le("W",["WW",2],"Wo","isoWeek"),ie("w",We,Vr),ie("ww",We,Ue),ie("W",We,Vr),ie("WW",We,Ue),yr(["w","ww","W","WW"],function(u,h,g,y){h[y.substr(0,1)]=fe(u)});function ro(u){return Fe(u,this._week.dow,this._week.doy).week}var io={dow:0,doy:6};function wg(){return this._week.dow}function Ih(){return this._week.doy}function Eg(u){var h=this.localeData().week(this);return u==null?h:this.add((u-h)*7,"d")}function Ig(u){var h=Fe(this,1,4).week;return u==null?h:this.add((u-h)*7,"d")}le("d",0,"do","day"),le("dd",0,0,function(u){return this.localeData().weekdaysMin(this,u)}),le("ddd",0,0,function(u){return this.localeData().weekdaysShort(this,u)}),le("dddd",0,0,function(u){return this.localeData().weekdays(this,u)}),le("e",0,0,"weekday"),le("E",0,0,"isoWeekday"),ie("d",We),ie("e",We),ie("E",We),ie("dd",function(u,h){return h.weekdaysMinRegex(u)}),ie("ddd",function(u,h){return h.weekdaysShortRegex(u)}),ie("dddd",function(u,h){return h.weekdaysRegex(u)}),yr(["dd","ddd","dddd"],function(u,h,g,y){var E=g._locale.weekdaysParse(u,y,g._strict);E!=null?h.d=E:k(g).invalidWeekday=u}),yr(["d","e","E"],function(u,h,g,y){h[y]=fe(u)});function Sg(u,h){return typeof u!="string"?u:isNaN(u)?(u=h.weekdaysParse(u),typeof u=="number"?u:null):parseInt(u,10)}function Tg(u,h){return typeof u=="string"?h.weekdaysParse(u)%7||7:isNaN(u)?null:u}function ui(u,h){return u.slice(h,7).concat(u.slice(0,h))}var jr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fu="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Sh="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Th=gr,Hi=gr,Rg=gr;function Pg(u,h){var g=s(this._weekdays)?this._weekdays:this._weekdays[u&&u!==!0&&this._weekdays.isFormat.test(h)?"format":"standalone"];return u===!0?ui(g,this._week.dow):u?g[u.day()]:g}function Ag(u){return u===!0?ui(this._weekdaysShort,this._week.dow):u?this._weekdaysShort[u.day()]:this._weekdaysShort}function Br(u){return u===!0?ui(this._weekdaysMin,this._week.dow):u?this._weekdaysMin[u.day()]:this._weekdaysMin}function bg(u,h,g){var y,E,M,W=u.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],y=0;y<7;++y)M=I([2e3,1]).day(y),this._minWeekdaysParse[y]=this.weekdaysMin(M,"").toLocaleLowerCase(),this._shortWeekdaysParse[y]=this.weekdaysShort(M,"").toLocaleLowerCase(),this._weekdaysParse[y]=this.weekdays(M,"").toLocaleLowerCase();return g?h==="dddd"?(E=Ge.call(this._weekdaysParse,W),E!==-1?E:null):h==="ddd"?(E=Ge.call(this._shortWeekdaysParse,W),E!==-1?E:null):(E=Ge.call(this._minWeekdaysParse,W),E!==-1?E:null):h==="dddd"?(E=Ge.call(this._weekdaysParse,W),E!==-1||(E=Ge.call(this._shortWeekdaysParse,W),E!==-1)?E:(E=Ge.call(this._minWeekdaysParse,W),E!==-1?E:null)):h==="ddd"?(E=Ge.call(this._shortWeekdaysParse,W),E!==-1||(E=Ge.call(this._weekdaysParse,W),E!==-1)?E:(E=Ge.call(this._minWeekdaysParse,W),E!==-1?E:null)):(E=Ge.call(this._minWeekdaysParse,W),E!==-1||(E=Ge.call(this._weekdaysParse,W),E!==-1)?E:(E=Ge.call(this._shortWeekdaysParse,W),E!==-1?E:null))}function kg(u,h,g){var y,E,M;if(this._weekdaysParseExact)return bg.call(this,u,h,g);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),y=0;y<7;y++){if(E=I([2e3,1]).day(y),g&&!this._fullWeekdaysParse[y]&&(this._fullWeekdaysParse[y]=new RegExp("^"+this.weekdays(E,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[y]=new RegExp("^"+this.weekdaysShort(E,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[y]=new RegExp("^"+this.weekdaysMin(E,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[y]||(M="^"+this.weekdays(E,"")+"|^"+this.weekdaysShort(E,"")+"|^"+this.weekdaysMin(E,""),this._weekdaysParse[y]=new RegExp(M.replace(".",""),"i")),g&&h==="dddd"&&this._fullWeekdaysParse[y].test(u))return y;if(g&&h==="ddd"&&this._shortWeekdaysParse[y].test(u))return y;if(g&&h==="dd"&&this._minWeekdaysParse[y].test(u))return y;if(!g&&this._weekdaysParse[y].test(u))return y}}function so(u){if(!this.isValid())return u!=null?this:NaN;var h=Gi(this,"Day");return u!=null?(u=Sg(u,this.localeData()),this.add(u-h,"d")):h}function Pa(u){if(!this.isValid())return u!=null?this:NaN;var h=(this.day()+7-this.localeData()._week.dow)%7;return u==null?h:this.add(u-h,"d")}function Rh(u){if(!this.isValid())return u!=null?this:NaN;if(u!=null){var h=Tg(u,this.localeData());return this.day(this.day()%7?h:h-7)}else return this.day()||7}function oo(u){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||lo.call(this),u?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Th),this._weekdaysStrictRegex&&u?this._weekdaysStrictRegex:this._weekdaysRegex)}function ao(u){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||lo.call(this),u?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Hi),this._weekdaysShortStrictRegex&&u?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ph(u){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||lo.call(this),u?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Rg),this._weekdaysMinStrictRegex&&u?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function lo(){function u(mn,yi){return yi.length-mn.length}var h=[],g=[],y=[],E=[],M,W,se,me,be;for(M=0;M<7;M++)W=I([2e3,1]).day(M),se=hn(this.weekdaysMin(W,"")),me=hn(this.weekdaysShort(W,"")),be=hn(this.weekdays(W,"")),h.push(se),g.push(me),y.push(be),E.push(se),E.push(me),E.push(be);h.sort(u),g.sort(u),y.sort(u),E.sort(u),this._weekdaysRegex=new RegExp("^("+E.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+y.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+h.join("|")+")","i")}function Ye(){return this.hours()%12||12}function Cg(){return this.hours()||24}le("H",["HH",2],0,"hour"),le("h",["hh",2],0,Ye),le("k",["kk",2],0,Cg),le("hmm",0,0,function(){return""+Ye.apply(this)+de(this.minutes(),2)}),le("hmmss",0,0,function(){return""+Ye.apply(this)+de(this.minutes(),2)+de(this.seconds(),2)}),le("Hmm",0,0,function(){return""+this.hours()+de(this.minutes(),2)}),le("Hmmss",0,0,function(){return""+this.hours()+de(this.minutes(),2)+de(this.seconds(),2)});function Ah(u,h){le(u,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),h)})}Ah("a",!0),Ah("A",!1);function Uu(u,h){return h._meridiemParse}ie("a",Uu),ie("A",Uu),ie("H",We,no),ie("h",We,Vr),ie("k",We,Vr),ie("HH",We,Ue),ie("hh",We,Ue),ie("kk",We,Ue),ie("hmm",ah),ie("hmmss",zi),ie("Hmm",ah),ie("Hmmss",zi),ke(["H","HH"],nt),ke(["k","kk"],function(u,h,g){var y=fe(u);h[nt]=y===24?0:y}),ke(["a","A"],function(u,h,g){g._isPm=g._locale.isPM(u),g._meridiem=u}),ke(["h","hh"],function(u,h,g){h[nt]=fe(u),k(g).bigHour=!0}),ke("hmm",function(u,h,g){var y=u.length-2;h[nt]=fe(u.substr(0,y)),h[Pn]=fe(u.substr(y)),k(g).bigHour=!0}),ke("hmmss",function(u,h,g){var y=u.length-4,E=u.length-2;h[nt]=fe(u.substr(0,y)),h[Pn]=fe(u.substr(y,2)),h[Un]=fe(u.substr(E)),k(g).bigHour=!0}),ke("Hmm",function(u,h,g){var y=u.length-2;h[nt]=fe(u.substr(0,y)),h[Pn]=fe(u.substr(y))}),ke("Hmmss",function(u,h,g){var y=u.length-4,E=u.length-2;h[nt]=fe(u.substr(0,y)),h[Pn]=fe(u.substr(y,2)),h[Un]=fe(u.substr(E))});function bh(u){return(u+"").toLowerCase().charAt(0)==="p"}var kh=/[ap]\.?m?\.?/i,Aa=ai("Hours",!0);function Ch(u,h,g){return u>11?g?"pm":"PM":g?"am":"AM"}var tr={calendar:ne,longDateFormat:ga,invalidDate:Iu,ordinal:Tu,dayOfMonthOrdinalParse:Ru,relativeTime:gg,months:Nu,monthsShort:fh,week:io,weekdays:jr,weekdaysMin:Sh,weekdaysShort:Fu,meridiemParse:kh},He={},uo={},Er;function xh(u,h){var g,y=Math.min(u.length,h.length);for(g=0;g<y;g+=1)if(u[g]!==h[g])return g;return y}function ba(u){return u&&u.toLowerCase().replace("_","-")}function ka(u){for(var h=0,g,y,E,M;h<u.length;){for(M=ba(u[h]).split("-"),g=M.length,y=ba(u[h+1]),y=y?y.split("-"):null;g>0;){if(E=ci(M.slice(0,g).join("-")),E)return E;if(y&&y.length>=g&&xh(M,y)>=g-1)break;g--}h++}return Er}function Dh(u){return!!(u&&u.match("^[^/\\\\]*$"))}function ci(u){var h=null,g;if(He[u]===void 0&&t&&t.exports&&Dh(u))try{h=Er._abbr,g=Z8,g("./locale/"+u),zr(h)}catch{He[u]=null}return He[u]}function zr(u,h){var g;return u&&(d(h)?g=nr(u):g=Ca(u,h),g?Er=g:typeof console<"u"&&console.warn&&console.warn("Locale "+u+" not found. Did you forget to load it?")),Er._abbr}function Ca(u,h){if(h!==null){var g,y=tr;if(h.abbr=u,He[u]!=null)L("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),y=He[u]._config;else if(h.parentLocale!=null)if(He[h.parentLocale]!=null)y=He[h.parentLocale]._config;else if(g=ci(h.parentLocale),g!=null)y=g._config;else return uo[h.parentLocale]||(uo[h.parentLocale]=[]),uo[h.parentLocale].push({name:u,config:h}),null;return He[u]=new fr(Ke(y,h)),uo[u]&&uo[u].forEach(function(E){Ca(E.name,E.config)}),zr(u),He[u]}else return delete He[u],null}function co(u,h){if(h!=null){var g,y,E=tr;He[u]!=null&&He[u].parentLocale!=null?He[u].set(Ke(He[u]._config,h)):(y=ci(u),y!=null&&(E=y._config),h=Ke(E,h),y==null&&(h.abbr=u),g=new fr(h),g.parentLocale=He[u],He[u]=g),zr(u)}else He[u]!=null&&(He[u].parentLocale!=null?(He[u]=He[u].parentLocale,u===zr()&&zr(u)):He[u]!=null&&delete He[u]);return He[u]}function nr(u){var h;if(u&&u._locale&&u._locale._abbr&&(u=u._locale._abbr),!u)return Er;if(!s(u)){if(h=ci(u),h)return h;u=[u]}return ka(u)}function Nh(){return gt(He)}function ho(u){var h,g=u._a;return g&&k(u).overflow===-2&&(h=g[vr]<0||g[vr]>11?vr:g[Zn]<1||g[Zn]>_r(g[ct],g[vr])?Zn:g[nt]<0||g[nt]>24||g[nt]===24&&(g[Pn]!==0||g[Un]!==0||g[er]!==0)?nt:g[Pn]<0||g[Pn]>59?Pn:g[Un]<0||g[Un]>59?Un:g[er]<0||g[er]>999?er:-1,k(u)._overflowDayOfYear&&(h<ct||h>Zn)&&(h=Zn),k(u)._overflowWeeks&&h===-1&&(h=Lr),k(u)._overflowWeekday&&h===-1&&(h=ch),k(u).overflow=h),u}var ju=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Oh=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xa=/Z|[+-]\d\d(?::?\d\d)?/,fo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Da=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],di=/^\/?Date\((-?\d+)/i,Mh=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Vh={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Bu(u){var h,g,y=u._i,E=ju.exec(y)||Oh.exec(y),M,W,se,me,be=fo.length,mn=Da.length;if(E){for(k(u).iso=!0,h=0,g=be;h<g;h++)if(fo[h][1].exec(E[1])){W=fo[h][0],M=fo[h][2]!==!1;break}if(W==null){u._isValid=!1;return}if(E[3]){for(h=0,g=mn;h<g;h++)if(Da[h][1].exec(E[3])){se=(E[2]||" ")+Da[h][0];break}if(se==null){u._isValid=!1;return}}if(!M&&se!=null){u._isValid=!1;return}if(E[4])if(xa.exec(E[4]))me="Z";else{u._isValid=!1;return}u._f=W+(se||"")+(me||""),z(u)}else u._isValid=!1}function Lh(u,h,g,y,E,M){var W=[Na(u),fh.indexOf(h),parseInt(g,10),parseInt(y,10),parseInt(E,10)];return M&&W.push(parseInt(M,10)),W}function Na(u){var h=parseInt(u,10);return h<=49?2e3+h:h<=999?1900+h:h}function pn(u){return u.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Fh(u,h,g){if(u){var y=Fu.indexOf(u),E=new Date(h[0],h[1],h[2]).getDay();if(y!==E)return k(g).weekdayMismatch=!0,g._isValid=!1,!1}return!0}function Uh(u,h,g){if(u)return Vh[u];if(h)return 0;var y=parseInt(g,10),E=y%100,M=(y-E)/100;return M*60+E}function hi(u){var h=Mh.exec(pn(u._i)),g;if(h){if(g=Lh(h[4],h[3],h[2],h[5],h[6],h[7]),!Fh(h[1],g,u))return;u._a=g,u._tzm=Uh(h[8],h[9],h[10]),u._d=Ur.apply(null,u._a),u._d.setUTCMinutes(u._d.getUTCMinutes()-u._tzm),k(u).rfc2822=!0}else u._isValid=!1}function c(u){var h=di.exec(u._i);if(h!==null){u._d=new Date(+h[1]);return}if(Bu(u),u._isValid===!1)delete u._isValid;else return;if(hi(u),u._isValid===!1)delete u._isValid;else return;u._strict?u._isValid=!1:r.createFromInputFallback(u)}r.createFromInputFallback=D("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(u){u._d=new Date(u._i+(u._useUTC?" UTC":""))});function m(u,h,g){return u??h??g}function _(u){var h=new Date(r.now());return u._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()]}function S(u){var h,g,y=[],E,M,W;if(!u._d){for(E=_(u),u._w&&u._a[Zn]==null&&u._a[vr]==null&&F(u),u._dayOfYear!=null&&(W=m(u._a[ct],E[ct]),(u._dayOfYear>qi(W)||u._dayOfYear===0)&&(k(u)._overflowDayOfYear=!0),g=Ur(W,0,u._dayOfYear),u._a[vr]=g.getUTCMonth(),u._a[Zn]=g.getUTCDate()),h=0;h<3&&u._a[h]==null;++h)u._a[h]=y[h]=E[h];for(;h<7;h++)u._a[h]=y[h]=u._a[h]==null?h===2?1:0:u._a[h];u._a[nt]===24&&u._a[Pn]===0&&u._a[Un]===0&&u._a[er]===0&&(u._nextDay=!0,u._a[nt]=0),u._d=(u._useUTC?Ur:wr).apply(null,y),M=u._useUTC?u._d.getUTCDay():u._d.getDay(),u._tzm!=null&&u._d.setUTCMinutes(u._d.getUTCMinutes()-u._tzm),u._nextDay&&(u._a[nt]=24),u._w&&typeof u._w.d<"u"&&u._w.d!==M&&(k(u).weekdayMismatch=!0)}}function F(u){var h,g,y,E,M,W,se,me,be;h=u._w,h.GG!=null||h.W!=null||h.E!=null?(M=1,W=4,g=m(h.GG,u._a[ct],Fe(Se(),1,4).year),y=m(h.W,1),E=m(h.E,1),(E<1||E>7)&&(me=!0)):(M=u._locale._week.dow,W=u._locale._week.doy,be=Fe(Se(),M,W),g=m(h.gg,u._a[ct],be.year),y=m(h.w,be.week),h.d!=null?(E=h.d,(E<0||E>6)&&(me=!0)):h.e!=null?(E=h.e+M,(h.e<0||h.e>6)&&(me=!0)):E=M),y<1||y>An(g,M,W)?k(u)._overflowWeeks=!0:me!=null?k(u)._overflowWeekday=!0:(se=Lu(g,y,E,M,W),u._a[ct]=se.year,u._dayOfYear=se.dayOfYear)}r.ISO_8601=function(){},r.RFC_2822=function(){};function z(u){if(u._f===r.ISO_8601){Bu(u);return}if(u._f===r.RFC_2822){hi(u);return}u._a=[],k(u).empty=!0;var h=""+u._i,g,y,E,M,W,se=h.length,me=0,be,mn;for(E=ih(u._f,u._locale).match(Ie)||[],mn=E.length,g=0;g<mn;g++)M=E[g],y=(h.match(Ea(M,u))||[])[0],y&&(W=h.substr(0,h.indexOf(y)),W.length>0&&k(u).unusedInput.push(W),h=h.slice(h.indexOf(y)+y.length),me+=y.length),sn[M]?(y?k(u).empty=!1:k(u).unusedTokens.push(M),vg(M,y,u)):u._strict&&!y&&k(u).unusedTokens.push(M);k(u).charsLeftOver=se-me,h.length>0&&k(u).unusedInput.push(h),u._a[nt]<=12&&k(u).bigHour===!0&&u._a[nt]>0&&(k(u).bigHour=void 0),k(u).parsedDateParts=u._a.slice(0),k(u).meridiem=u._meridiem,u._a[nt]=ee(u._locale,u._a[nt],u._meridiem),be=k(u).era,be!==null&&(u._a[ct]=u._locale.erasConvertYear(be,u._a[ct])),S(u),ho(u)}function ee(u,h,g){var y;return g==null?h:u.meridiemHour!=null?u.meridiemHour(h,g):(u.isPM!=null&&(y=u.isPM(g),y&&h<12&&(h+=12),!y&&h===12&&(h=0)),h)}function je(u){var h,g,y,E,M,W,se=!1,me=u._f.length;if(me===0){k(u).invalidFormat=!0,u._d=new Date(NaN);return}for(E=0;E<me;E++)M=0,W=!1,h=G({},u),u._useUTC!=null&&(h._useUTC=u._useUTC),h._f=u._f[E],z(h),R(h)&&(W=!0),M+=k(h).charsLeftOver,M+=k(h).unusedTokens.length*10,k(h).score=M,se?M<y&&(y=M,g=h):(y==null||M<y||W)&&(y=M,g=h,W&&(se=!0));w(u,g||h)}function Dt(u){if(!u._d){var h=Pu(u._i),g=h.day===void 0?h.date:h.day;u._a=v([h.year,h.month,g,h.hour,h.minute,h.second,h.millisecond],function(y){return y&&parseInt(y,10)}),S(u)}}function Ce(u){var h=new C(ho(Nt(u)));return h._nextDay&&(h.add(1,"d"),h._nextDay=void 0),h}function Nt(u){var h=u._i,g=u._f;return u._locale=u._locale||nr(u._l),h===null||g===void 0&&h===""?P({nullInput:!0}):(typeof h=="string"&&(u._i=h=u._locale.preparse(h)),T(h)?new C(ho(h)):(p(h)?u._d=h:s(g)?je(u):g?z(u):Bt(u),R(u)||(u._d=null),u))}function Bt(u){var h=u._i;d(h)?u._d=new Date(r.now()):p(h)?u._d=new Date(h.valueOf()):typeof h=="string"?c(u):s(h)?(u._a=v(h.slice(0),function(g){return parseInt(g,10)}),S(u)):o(h)?Dt(u):f(h)?u._d=new Date(h):r.createFromInputFallback(u)}function fi(u,h,g,y,E){var M={};return(h===!0||h===!1)&&(y=h,h=void 0),(g===!0||g===!1)&&(y=g,g=void 0),(o(u)&&l(u)||s(u)&&u.length===0)&&(u=void 0),M._isAMomentObject=!0,M._useUTC=M._isUTC=E,M._l=g,M._i=u,M._f=h,M._strict=y,Ce(M)}function Se(u,h,g,y){return fi(u,h,g,y,!1)}var Oa=D("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var u=Se.apply(null,arguments);return this.isValid()&&u.isValid()?u<this?this:u:P()}),zu=D("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var u=Se.apply(null,arguments);return this.isValid()&&u.isValid()?u>this?this:u:P()});function HE(u,h){var g,y;if(h.length===1&&s(h[0])&&(h=h[0]),!h.length)return Se();for(g=h[0],y=1;y<h.length;++y)(!h[y].isValid()||h[y][u](g))&&(g=h[y]);return g}function cN(){var u=[].slice.call(arguments,0);return HE("isBefore",u)}function dN(){var u=[].slice.call(arguments,0);return HE("isAfter",u)}var hN=function(){return Date.now?Date.now():+new Date},$u=["year","quarter","month","week","day","hour","minute","second","millisecond"];function fN(u){var h,g=!1,y,E=$u.length;for(h in u)if(a(u,h)&&!(Ge.call($u,h)!==-1&&(u[h]==null||!isNaN(u[h]))))return!1;for(y=0;y<E;++y)if(u[$u[y]]){if(g)return!1;parseFloat(u[$u[y]])!==fe(u[$u[y]])&&(g=!0)}return!0}function pN(){return this._isValid}function mN(){return Ir(NaN)}function jh(u){var h=Pu(u),g=h.year||0,y=h.quarter||0,E=h.month||0,M=h.week||h.isoWeek||0,W=h.day||0,se=h.hour||0,me=h.minute||0,be=h.second||0,mn=h.millisecond||0;this._isValid=fN(h),this._milliseconds=+mn+be*1e3+me*6e4+se*1e3*60*60,this._days=+W+M*7,this._months=+E+y*3+g*12,this._data={},this._locale=nr(),this._bubble()}function Bh(u){return u instanceof jh}function xg(u){return u<0?Math.round(-1*u)*-1:Math.round(u)}function gN(u,h,g){var y=Math.min(u.length,h.length),E=Math.abs(u.length-h.length),M=0,W;for(W=0;W<y;W++)fe(u[W])!==fe(h[W])&&M++;return M+E}function KE(u,h){le(u,0,0,function(){var g=this.utcOffset(),y="+";return g<0&&(g=-g,y="-"),y+de(~~(g/60),2)+h+de(~~g%60,2)})}KE("Z",":"),KE("ZZ",""),ie("Z",to),ie("ZZ",to),ke(["Z","ZZ"],function(u,h,g){g._useUTC=!0,g._tzm=Dg(to,u)});var yN=/([\+\-]|\d\d)/gi;function Dg(u,h){var g=(h||"").match(u),y,E,M;return g===null?null:(y=g[g.length-1]||[],E=(y+"").match(yN)||["-",0,0],M=+(E[1]*60)+fe(E[2]),M===0?0:E[0]==="+"?M:-M)}function Ng(u,h){var g,y;return h._isUTC?(g=h.clone(),y=(T(u)||p(u)?u.valueOf():Se(u).valueOf())-g.valueOf(),g._d.setTime(g._d.valueOf()+y),r.updateOffset(g,!1),g):Se(u).local()}function Og(u){return-Math.round(u._d.getTimezoneOffset())}r.updateOffset=function(){};function vN(u,h,g){var y=this._offset||0,E;if(!this.isValid())return u!=null?this:NaN;if(u!=null){if(typeof u=="string"){if(u=Dg(to,u),u===null)return this}else Math.abs(u)<16&&!g&&(u=u*60);return!this._isUTC&&h&&(E=Og(this)),this._offset=u,this._isUTC=!0,E!=null&&this.add(E,"m"),y!==u&&(!h||this._changeInProgress?XE(this,Ir(u-y,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?y:Og(this)}function _N(u,h){return u!=null?(typeof u!="string"&&(u=-u),this.utcOffset(u,h),this):-this.utcOffset()}function wN(u){return this.utcOffset(0,u)}function EN(u){return this._isUTC&&(this.utcOffset(0,u),this._isUTC=!1,u&&this.subtract(Og(this),"m")),this}function IN(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var u=Dg(Cu,this._i);u!=null?this.utcOffset(u):this.utcOffset(0,!0)}return this}function SN(u){return this.isValid()?(u=u?Se(u).utcOffset():0,(this.utcOffset()-u)%60===0):!1}function TN(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function RN(){if(!d(this._isDSTShifted))return this._isDSTShifted;var u={},h;return G(u,this),u=Nt(u),u._a?(h=u._isUTC?I(u._a):Se(u._a),this._isDSTShifted=this.isValid()&&gN(u._a,h.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function PN(){return this.isValid()?!this._isUTC:!1}function AN(){return this.isValid()?this._isUTC:!1}function YE(){return this.isValid()?this._isUTC&&this._offset===0:!1}var bN=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,kN=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ir(u,h){var g=u,y=null,E,M,W;return Bh(u)?g={ms:u._milliseconds,d:u._days,M:u._months}:f(u)||!isNaN(+u)?(g={},h?g[h]=+u:g.milliseconds=+u):(y=bN.exec(u))?(E=y[1]==="-"?-1:1,g={y:0,d:fe(y[Zn])*E,h:fe(y[nt])*E,m:fe(y[Pn])*E,s:fe(y[Un])*E,ms:fe(xg(y[er]*1e3))*E}):(y=kN.exec(u))?(E=y[1]==="-"?-1:1,g={y:po(y[2],E),M:po(y[3],E),w:po(y[4],E),d:po(y[5],E),h:po(y[6],E),m:po(y[7],E),s:po(y[8],E)}):g==null?g={}:typeof g=="object"&&("from"in g||"to"in g)&&(W=CN(Se(g.from),Se(g.to)),g={},g.ms=W.milliseconds,g.M=W.months),M=new jh(g),Bh(u)&&a(u,"_locale")&&(M._locale=u._locale),Bh(u)&&a(u,"_isValid")&&(M._isValid=u._isValid),M}Ir.fn=jh.prototype,Ir.invalid=mN;function po(u,h){var g=u&&parseFloat(u.replace(",","."));return(isNaN(g)?0:g)*h}function QE(u,h){var g={};return g.months=h.month()-u.month()+(h.year()-u.year())*12,u.clone().add(g.months,"M").isAfter(h)&&--g.months,g.milliseconds=+h-+u.clone().add(g.months,"M"),g}function CN(u,h){var g;return u.isValid()&&h.isValid()?(h=Ng(h,u),u.isBefore(h)?g=QE(u,h):(g=QE(h,u),g.milliseconds=-g.milliseconds,g.months=-g.months),g):{milliseconds:0,months:0}}function JE(u,h){return function(g,y){var E,M;return y!==null&&!isNaN(+y)&&(L(h,"moment()."+h+"(period, number) is deprecated. Please use moment()."+h+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),M=g,g=y,y=M),E=Ir(g,y),XE(this,E,u),this}}function XE(u,h,g,y){var E=h._milliseconds,M=xg(h._days),W=xg(h._months);u.isValid()&&(y=y??!0,W&&vh(u,Gi(u,"Month")+W*g),M&&dh(u,"Date",Gi(u,"Date")+M*g),E&&u._d.setTime(u._d.valueOf()+E*g),y&&r.updateOffset(u,M||W))}var xN=JE(1,"add"),DN=JE(-1,"subtract");function ZE(u){return typeof u=="string"||u instanceof String}function NN(u){return T(u)||p(u)||ZE(u)||f(u)||MN(u)||ON(u)||u===null||u===void 0}function ON(u){var h=o(u)&&!l(u),g=!1,y=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],E,M,W=y.length;for(E=0;E<W;E+=1)M=y[E],g=g||a(u,M);return h&&g}function MN(u){var h=s(u),g=!1;return h&&(g=u.filter(function(y){return!f(y)&&ZE(u)}).length===0),h&&g}function VN(u){var h=o(u)&&!l(u),g=!1,y=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],E,M;for(E=0;E<y.length;E+=1)M=y[E],g=g||a(u,M);return h&&g}function LN(u,h){var g=u.diff(h,"days",!0);return g<-6?"sameElse":g<-1?"lastWeek":g<0?"lastDay":g<1?"sameDay":g<2?"nextDay":g<7?"nextWeek":"sameElse"}function FN(u,h){arguments.length===1&&(arguments[0]?NN(arguments[0])?(u=arguments[0],h=void 0):VN(arguments[0])&&(h=arguments[0],u=void 0):(u=void 0,h=void 0));var g=u||Se(),y=Ng(g,this).startOf("day"),E=r.calendarFormat(this,y)||"sameElse",M=h&&(N(h[E])?h[E].call(this,g):h[E]);return this.format(M||this.localeData().calendar(E,this,Se(g)))}function UN(){return new C(this)}function jN(u,h){var g=T(u)?u:Se(u);return this.isValid()&&g.isValid()?(h=dn(h)||"millisecond",h==="millisecond"?this.valueOf()>g.valueOf():g.valueOf()<this.clone().startOf(h).valueOf()):!1}function BN(u,h){var g=T(u)?u:Se(u);return this.isValid()&&g.isValid()?(h=dn(h)||"millisecond",h==="millisecond"?this.valueOf()<g.valueOf():this.clone().endOf(h).valueOf()<g.valueOf()):!1}function zN(u,h,g,y){var E=T(u)?u:Se(u),M=T(h)?h:Se(h);return this.isValid()&&E.isValid()&&M.isValid()?(y=y||"()",(y[0]==="("?this.isAfter(E,g):!this.isBefore(E,g))&&(y[1]===")"?this.isBefore(M,g):!this.isAfter(M,g))):!1}function $N(u,h){var g=T(u)?u:Se(u),y;return this.isValid()&&g.isValid()?(h=dn(h)||"millisecond",h==="millisecond"?this.valueOf()===g.valueOf():(y=g.valueOf(),this.clone().startOf(h).valueOf()<=y&&y<=this.clone().endOf(h).valueOf())):!1}function WN(u,h){return this.isSame(u,h)||this.isAfter(u,h)}function qN(u,h){return this.isSame(u,h)||this.isBefore(u,h)}function GN(u,h,g){var y,E,M;if(!this.isValid())return NaN;if(y=Ng(u,this),!y.isValid())return NaN;switch(E=(y.utcOffset()-this.utcOffset())*6e4,h=dn(h),h){case"year":M=zh(this,y)/12;break;case"month":M=zh(this,y);break;case"quarter":M=zh(this,y)/3;break;case"second":M=(this-y)/1e3;break;case"minute":M=(this-y)/6e4;break;case"hour":M=(this-y)/36e5;break;case"day":M=(this-y-E)/864e5;break;case"week":M=(this-y-E)/6048e5;break;default:M=this-y}return g?M:fn(M)}function zh(u,h){if(u.date()<h.date())return-zh(h,u);var g=(h.year()-u.year())*12+(h.month()-u.month()),y=u.clone().add(g,"months"),E,M;return h-y<0?(E=u.clone().add(g-1,"months"),M=(h-y)/(y-E)):(E=u.clone().add(g+1,"months"),M=(h-y)/(E-y)),-(g+M)||0}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function HN(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function KN(u){if(!this.isValid())return null;var h=u!==!0,g=h?this.clone().utc():this;return g.year()<0||g.year()>9999?ma(g,h?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?h?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ma(g,"Z")):ma(g,h?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function YN(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var u="moment",h="",g,y,E,M;return this.isLocal()||(u=this.utcOffset()===0?"moment.utc":"moment.parseZone",h="Z"),g="["+u+'("]',y=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",E="-MM-DD[T]HH:mm:ss.SSS",M=h+'[")]',this.format(g+y+E+M)}function QN(u){u||(u=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var h=ma(this,u);return this.localeData().postformat(h)}function JN(u,h){return this.isValid()&&(T(u)&&u.isValid()||Se(u).isValid())?Ir({to:this,from:u}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function XN(u){return this.from(Se(),u)}function ZN(u,h){return this.isValid()&&(T(u)&&u.isValid()||Se(u).isValid())?Ir({from:this,to:u}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function eO(u){return this.to(Se(),u)}function eI(u){var h;return u===void 0?this._locale._abbr:(h=nr(u),h!=null&&(this._locale=h),this)}var tI=D("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(u){return u===void 0?this.localeData():this.locale(u)});function nI(){return this._locale}var $h=1e3,Ma=60*$h,Wh=60*Ma,rI=(365*400+97)*24*Wh;function Va(u,h){return(u%h+h)%h}function iI(u,h,g){return u<100&&u>=0?new Date(u+400,h,g)-rI:new Date(u,h,g).valueOf()}function sI(u,h,g){return u<100&&u>=0?Date.UTC(u+400,h,g)-rI:Date.UTC(u,h,g)}function tO(u){var h,g;if(u=dn(u),u===void 0||u==="millisecond"||!this.isValid())return this;switch(g=this._isUTC?sI:iI,u){case"year":h=g(this.year(),0,1);break;case"quarter":h=g(this.year(),this.month()-this.month()%3,1);break;case"month":h=g(this.year(),this.month(),1);break;case"week":h=g(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":h=g(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":h=g(this.year(),this.month(),this.date());break;case"hour":h=this._d.valueOf(),h-=Va(h+(this._isUTC?0:this.utcOffset()*Ma),Wh);break;case"minute":h=this._d.valueOf(),h-=Va(h,Ma);break;case"second":h=this._d.valueOf(),h-=Va(h,$h);break}return this._d.setTime(h),r.updateOffset(this,!0),this}function nO(u){var h,g;if(u=dn(u),u===void 0||u==="millisecond"||!this.isValid())return this;switch(g=this._isUTC?sI:iI,u){case"year":h=g(this.year()+1,0,1)-1;break;case"quarter":h=g(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":h=g(this.year(),this.month()+1,1)-1;break;case"week":h=g(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":h=g(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":h=g(this.year(),this.month(),this.date()+1)-1;break;case"hour":h=this._d.valueOf(),h+=Wh-Va(h+(this._isUTC?0:this.utcOffset()*Ma),Wh)-1;break;case"minute":h=this._d.valueOf(),h+=Ma-Va(h,Ma)-1;break;case"second":h=this._d.valueOf(),h+=$h-Va(h,$h)-1;break}return this._d.setTime(h),r.updateOffset(this,!0),this}function rO(){return this._d.valueOf()-(this._offset||0)*6e4}function iO(){return Math.floor(this.valueOf()/1e3)}function sO(){return new Date(this.valueOf())}function oO(){var u=this;return[u.year(),u.month(),u.date(),u.hour(),u.minute(),u.second(),u.millisecond()]}function aO(){var u=this;return{years:u.year(),months:u.month(),date:u.date(),hours:u.hours(),minutes:u.minutes(),seconds:u.seconds(),milliseconds:u.milliseconds()}}function lO(){return this.isValid()?this.toISOString():null}function uO(){return R(this)}function cO(){return w({},k(this))}function dO(){return k(this).overflow}function hO(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}le("N",0,0,"eraAbbr"),le("NN",0,0,"eraAbbr"),le("NNN",0,0,"eraAbbr"),le("NNNN",0,0,"eraName"),le("NNNNN",0,0,"eraNarrow"),le("y",["y",1],"yo","eraYear"),le("y",["yy",2],0,"eraYear"),le("y",["yyy",3],0,"eraYear"),le("y",["yyyy",4],0,"eraYear"),ie("N",Mg),ie("NN",Mg),ie("NNN",Mg),ie("NNNN",SO),ie("NNNNN",TO),ke(["N","NN","NNN","NNNN","NNNNN"],function(u,h,g,y){var E=g._locale.erasParse(u,y,g._strict);E?k(g).era=E:k(g).invalidEra=u}),ie("y",Wi),ie("yy",Wi),ie("yyy",Wi),ie("yyyy",Wi),ie("yo",RO),ke(["y","yy","yyy","yyyy"],ct),ke(["yo"],function(u,h,g,y){var E;g._locale._eraYearOrdinalRegex&&(E=u.match(g._locale._eraYearOrdinalRegex)),g._locale.eraYearOrdinalParse?h[ct]=g._locale.eraYearOrdinalParse(u,E):h[ct]=parseInt(u,10)});function fO(u,h){var g,y,E,M=this._eras||nr("en")._eras;for(g=0,y=M.length;g<y;++g){switch(typeof M[g].since){case"string":E=r(M[g].since).startOf("day"),M[g].since=E.valueOf();break}switch(typeof M[g].until){case"undefined":M[g].until=1/0;break;case"string":E=r(M[g].until).startOf("day").valueOf(),M[g].until=E.valueOf();break}}return M}function pO(u,h,g){var y,E,M=this.eras(),W,se,me;for(u=u.toUpperCase(),y=0,E=M.length;y<E;++y)if(W=M[y].name.toUpperCase(),se=M[y].abbr.toUpperCase(),me=M[y].narrow.toUpperCase(),g)switch(h){case"N":case"NN":case"NNN":if(se===u)return M[y];break;case"NNNN":if(W===u)return M[y];break;case"NNNNN":if(me===u)return M[y];break}else if([W,se,me].indexOf(u)>=0)return M[y]}function mO(u,h){var g=u.since<=u.until?1:-1;return h===void 0?r(u.since).year():r(u.since).year()+(h-u.offset)*g}function gO(){var u,h,g,y=this.localeData().eras();for(u=0,h=y.length;u<h;++u)if(g=this.clone().startOf("day").valueOf(),y[u].since<=g&&g<=y[u].until||y[u].until<=g&&g<=y[u].since)return y[u].name;return""}function yO(){var u,h,g,y=this.localeData().eras();for(u=0,h=y.length;u<h;++u)if(g=this.clone().startOf("day").valueOf(),y[u].since<=g&&g<=y[u].until||y[u].until<=g&&g<=y[u].since)return y[u].narrow;return""}function vO(){var u,h,g,y=this.localeData().eras();for(u=0,h=y.length;u<h;++u)if(g=this.clone().startOf("day").valueOf(),y[u].since<=g&&g<=y[u].until||y[u].until<=g&&g<=y[u].since)return y[u].abbr;return""}function _O(){var u,h,g,y,E=this.localeData().eras();for(u=0,h=E.length;u<h;++u)if(g=E[u].since<=E[u].until?1:-1,y=this.clone().startOf("day").valueOf(),E[u].since<=y&&y<=E[u].until||E[u].until<=y&&y<=E[u].since)return(this.year()-r(E[u].since).year())*g+E[u].offset;return this.year()}function wO(u){return a(this,"_erasNameRegex")||Vg.call(this),u?this._erasNameRegex:this._erasRegex}function EO(u){return a(this,"_erasAbbrRegex")||Vg.call(this),u?this._erasAbbrRegex:this._erasRegex}function IO(u){return a(this,"_erasNarrowRegex")||Vg.call(this),u?this._erasNarrowRegex:this._erasRegex}function Mg(u,h){return h.erasAbbrRegex(u)}function SO(u,h){return h.erasNameRegex(u)}function TO(u,h){return h.erasNarrowRegex(u)}function RO(u,h){return h._eraYearOrdinalRegex||Wi}function Vg(){var u=[],h=[],g=[],y=[],E,M,W,se,me,be=this.eras();for(E=0,M=be.length;E<M;++E)W=hn(be[E].name),se=hn(be[E].abbr),me=hn(be[E].narrow),h.push(W),u.push(se),g.push(me),y.push(W),y.push(se),y.push(me);this._erasRegex=new RegExp("^("+y.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+h.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+u.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+g.join("|")+")","i")}le(0,["gg",2],0,function(){return this.weekYear()%100}),le(0,["GG",2],0,function(){return this.isoWeekYear()%100});function qh(u,h){le(0,[u,u.length],0,h)}qh("gggg","weekYear"),qh("ggggg","weekYear"),qh("GGGG","isoWeekYear"),qh("GGGGG","isoWeekYear"),ie("G",wa),ie("g",wa),ie("GG",We,Ue),ie("gg",We,Ue),ie("GGGG",_a,Bi),ie("gggg",_a,Bi),ie("GGGGG",$i,Zs),ie("ggggg",$i,Zs),yr(["gggg","ggggg","GGGG","GGGGG"],function(u,h,g,y){h[y.substr(0,2)]=fe(u)}),yr(["gg","GG"],function(u,h,g,y){h[y]=r.parseTwoDigitYear(u)});function PO(u){return oI.call(this,u,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function AO(u){return oI.call(this,u,this.isoWeek(),this.isoWeekday(),1,4)}function bO(){return An(this.year(),1,4)}function kO(){return An(this.isoWeekYear(),1,4)}function CO(){var u=this.localeData()._week;return An(this.year(),u.dow,u.doy)}function xO(){var u=this.localeData()._week;return An(this.weekYear(),u.dow,u.doy)}function oI(u,h,g,y,E){var M;return u==null?Fe(this,y,E).year:(M=An(u,y,E),h>M&&(h=M),DO.call(this,u,h,g,y,E))}function DO(u,h,g,y,E){var M=Lu(u,h,g,y,E),W=Ur(M.year,0,M.dayOfYear);return this.year(W.getUTCFullYear()),this.month(W.getUTCMonth()),this.date(W.getUTCDate()),this}le("Q",0,"Qo","quarter"),ie("Q",ku),ke("Q",function(u,h){h[vr]=(fe(u)-1)*3});function NO(u){return u==null?Math.ceil((this.month()+1)/3):this.month((u-1)*3+this.month()%3)}le("D",["DD",2],"Do","date"),ie("D",We,Vr),ie("DD",We,Ue),ie("Do",function(u,h){return u?h._dayOfMonthOrdinalParse||h._ordinalParse:h._dayOfMonthOrdinalParseLenient}),ke(["D","DD"],Zn),ke("Do",function(u,h){h[Zn]=fe(u.match(We)[0])});var aI=ai("Date",!0);le("DDD",["DDDD",3],"DDDo","dayOfYear"),ie("DDD",eo),ie("DDDD",jt),ke(["DDD","DDDD"],function(u,h,g){g._dayOfYear=fe(u)});function OO(u){var h=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return u==null?h:this.add(u-h,"d")}le("m",["mm",2],0,"minute"),ie("m",We,no),ie("mm",We,Ue),ke(["m","mm"],Pn);var MO=ai("Minutes",!1);le("s",["ss",2],0,"second"),ie("s",We,no),ie("ss",We,Ue),ke(["s","ss"],Un);var VO=ai("Seconds",!1);le("S",0,0,function(){return~~(this.millisecond()/100)}),le(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),le(0,["SSS",3],0,"millisecond"),le(0,["SSSS",4],0,function(){return this.millisecond()*10}),le(0,["SSSSS",5],0,function(){return this.millisecond()*100}),le(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),le(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),le(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),le(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),ie("S",eo,ku),ie("SS",eo,Ue),ie("SSS",eo,jt);var Ki,lI;for(Ki="SSSS";Ki.length<=9;Ki+="S")ie(Ki,Wi);function LO(u,h){h[er]=fe(("0."+u)*1e3)}for(Ki="S";Ki.length<=9;Ki+="S")ke(Ki,LO);lI=ai("Milliseconds",!1),le("z",0,0,"zoneAbbr"),le("zz",0,0,"zoneName");function FO(){return this._isUTC?"UTC":""}function UO(){return this._isUTC?"Coordinated Universal Time":""}var X=C.prototype;X.add=xN,X.calendar=FN,X.clone=UN,X.diff=GN,X.endOf=nO,X.format=QN,X.from=JN,X.fromNow=XN,X.to=ZN,X.toNow=eO,X.get=Ra,X.invalidAt=dO,X.isAfter=jN,X.isBefore=BN,X.isBetween=zN,X.isSame=$N,X.isSameOrAfter=WN,X.isSameOrBefore=qN,X.isValid=uO,X.lang=tI,X.locale=eI,X.localeData=nI,X.max=zu,X.min=Oa,X.parsingFlags=cO,X.set=hh,X.startOf=tO,X.subtract=DN,X.toArray=oO,X.toObject=aO,X.toDate=sO,X.toISOString=KN,X.inspect=YN,typeof Symbol<"u"&&Symbol.for!=null&&(X[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),X.toJSON=lO,X.toString=HN,X.unix=iO,X.valueOf=rO,X.creationData=hO,X.eraName=gO,X.eraNarrow=yO,X.eraAbbr=vO,X.eraYear=_O,X.year=Ta,X.isLeapYear=xu,X.weekYear=PO,X.isoWeekYear=AO,X.quarter=X.quarters=NO,X.month=_h,X.daysInMonth=wh,X.week=X.weeks=Eg,X.isoWeek=X.isoWeeks=Ig,X.weeksInYear=CO,X.weeksInWeekYear=xO,X.isoWeeksInYear=bO,X.isoWeeksInISOWeekYear=kO,X.date=aI,X.day=X.days=so,X.weekday=Pa,X.isoWeekday=Rh,X.dayOfYear=OO,X.hour=X.hours=Aa,X.minute=X.minutes=MO,X.second=X.seconds=VO,X.millisecond=X.milliseconds=lI,X.utcOffset=vN,X.utc=wN,X.local=EN,X.parseZone=IN,X.hasAlignedHourOffset=SN,X.isDST=TN,X.isLocal=PN,X.isUtcOffset=AN,X.isUtc=YE,X.isUTC=YE,X.zoneAbbr=FO,X.zoneName=UO,X.dates=D("dates accessor is deprecated. Use date instead.",aI),X.months=D("months accessor is deprecated. Use month instead",_h),X.years=D("years accessor is deprecated. Use year instead",Ta),X.zone=D("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",_N),X.isDSTShifted=D("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",RN);function jO(u){return Se(u*1e3)}function BO(){return Se.apply(null,arguments).parseZone()}function uI(u){return u}var Le=fr.prototype;Le.calendar=pe,Le.longDateFormat=ya,Le.invalidDate=Su,Le.ordinal=sh,Le.preparse=uI,Le.postformat=uI,Le.relativeTime=yg,Le.pastFuture=oh,Le.set=Xt,Le.eras=fO,Le.erasParse=pO,Le.erasConvertYear=mO,Le.erasAbbrRegex=EO,Le.erasNameRegex=wO,Le.erasNarrowRegex=IO,Le.months=Mu,Le.monthsShort=Vu,Le.monthsParse=yh,Le.monthsRegex=_g,Le.monthsShortRegex=Eh,Le.week=ro,Le.firstDayOfYear=Ih,Le.firstDayOfWeek=wg,Le.weekdays=Pg,Le.weekdaysMin=Br,Le.weekdaysShort=Ag,Le.weekdaysParse=kg,Le.weekdaysRegex=oo,Le.weekdaysShortRegex=ao,Le.weekdaysMinRegex=Ph,Le.isPM=bh,Le.meridiem=Ch;function Gh(u,h,g,y){var E=nr(),M=I().set(y,h);return E[g](M,u)}function cI(u,h,g){if(f(u)&&(h=u,u=void 0),u=u||"",h!=null)return Gh(u,h,g,"month");var y,E=[];for(y=0;y<12;y++)E[y]=Gh(u,y,g,"month");return E}function Lg(u,h,g,y){typeof u=="boolean"?(f(h)&&(g=h,h=void 0),h=h||""):(h=u,g=h,u=!1,f(h)&&(g=h,h=void 0),h=h||"");var E=nr(),M=u?E._week.dow:0,W,se=[];if(g!=null)return Gh(h,(g+M)%7,y,"day");for(W=0;W<7;W++)se[W]=Gh(h,(W+M)%7,y,"day");return se}function zO(u,h){return cI(u,h,"months")}function $O(u,h){return cI(u,h,"monthsShort")}function WO(u,h,g){return Lg(u,h,g,"weekdays")}function qO(u,h,g){return Lg(u,h,g,"weekdaysShort")}function GO(u,h,g){return Lg(u,h,g,"weekdaysMin")}zr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(u){var h=u%10,g=fe(u%100/10)===1?"th":h===1?"st":h===2?"nd":h===3?"rd":"th";return u+g}}),r.lang=D("moment.lang is deprecated. Use moment.locale instead.",zr),r.langData=D("moment.langData is deprecated. Use moment.localeData instead.",nr);var pi=Math.abs;function HO(){var u=this._data;return this._milliseconds=pi(this._milliseconds),this._days=pi(this._days),this._months=pi(this._months),u.milliseconds=pi(u.milliseconds),u.seconds=pi(u.seconds),u.minutes=pi(u.minutes),u.hours=pi(u.hours),u.months=pi(u.months),u.years=pi(u.years),this}function dI(u,h,g,y){var E=Ir(h,g);return u._milliseconds+=y*E._milliseconds,u._days+=y*E._days,u._months+=y*E._months,u._bubble()}function KO(u,h){return dI(this,u,h,1)}function YO(u,h){return dI(this,u,h,-1)}function hI(u){return u<0?Math.floor(u):Math.ceil(u)}function QO(){var u=this._milliseconds,h=this._days,g=this._months,y=this._data,E,M,W,se,me;return u>=0&&h>=0&&g>=0||u<=0&&h<=0&&g<=0||(u+=hI(Fg(g)+h)*864e5,h=0,g=0),y.milliseconds=u%1e3,E=fn(u/1e3),y.seconds=E%60,M=fn(E/60),y.minutes=M%60,W=fn(M/60),y.hours=W%24,h+=fn(W/24),me=fn(fI(h)),g+=me,h-=hI(Fg(me)),se=fn(g/12),g%=12,y.days=h,y.months=g,y.years=se,this}function fI(u){return u*4800/146097}function Fg(u){return u*146097/4800}function JO(u){if(!this.isValid())return NaN;var h,g,y=this._milliseconds;if(u=dn(u),u==="month"||u==="quarter"||u==="year")switch(h=this._days+y/864e5,g=this._months+fI(h),u){case"month":return g;case"quarter":return g/3;case"year":return g/12}else switch(h=this._days+Math.round(Fg(this._months)),u){case"week":return h/7+y/6048e5;case"day":return h+y/864e5;case"hour":return h*24+y/36e5;case"minute":return h*1440+y/6e4;case"second":return h*86400+y/1e3;case"millisecond":return Math.floor(h*864e5)+y;default:throw new Error("Unknown unit "+u)}}function mi(u){return function(){return this.as(u)}}var pI=mi("ms"),XO=mi("s"),ZO=mi("m"),eM=mi("h"),tM=mi("d"),nM=mi("w"),rM=mi("M"),iM=mi("Q"),sM=mi("y"),oM=pI;function aM(){return Ir(this)}function lM(u){return u=dn(u),this.isValid()?this[u+"s"]():NaN}function mo(u){return function(){return this.isValid()?this._data[u]:NaN}}var uM=mo("milliseconds"),cM=mo("seconds"),dM=mo("minutes"),hM=mo("hours"),fM=mo("days"),pM=mo("months"),mM=mo("years");function gM(){return fn(this.days()/7)}var gi=Math.round,La={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function yM(u,h,g,y,E){return E.relativeTime(h||1,!!g,u,y)}function vM(u,h,g,y){var E=Ir(u).abs(),M=gi(E.as("s")),W=gi(E.as("m")),se=gi(E.as("h")),me=gi(E.as("d")),be=gi(E.as("M")),mn=gi(E.as("w")),yi=gi(E.as("y")),Yi=M<=g.ss&&["s",M]||M<g.s&&["ss",M]||W<=1&&["m"]||W<g.m&&["mm",W]||se<=1&&["h"]||se<g.h&&["hh",se]||me<=1&&["d"]||me<g.d&&["dd",me];return g.w!=null&&(Yi=Yi||mn<=1&&["w"]||mn<g.w&&["ww",mn]),Yi=Yi||be<=1&&["M"]||be<g.M&&["MM",be]||yi<=1&&["y"]||["yy",yi],Yi[2]=h,Yi[3]=+u>0,Yi[4]=y,yM.apply(null,Yi)}function _M(u){return u===void 0?gi:typeof u=="function"?(gi=u,!0):!1}function wM(u,h){return La[u]===void 0?!1:h===void 0?La[u]:(La[u]=h,u==="s"&&(La.ss=h-1),!0)}function EM(u,h){if(!this.isValid())return this.localeData().invalidDate();var g=!1,y=La,E,M;return typeof u=="object"&&(h=u,u=!1),typeof u=="boolean"&&(g=u),typeof h=="object"&&(y=Object.assign({},La,h),h.s!=null&&h.ss==null&&(y.ss=h.s-1)),E=this.localeData(),M=vM(this,!g,y,E),g&&(M=E.pastFuture(+this,M)),E.postformat(M)}var Ug=Math.abs;function Fa(u){return(u>0)-(u<0)||+u}function Hh(){if(!this.isValid())return this.localeData().invalidDate();var u=Ug(this._milliseconds)/1e3,h=Ug(this._days),g=Ug(this._months),y,E,M,W,se=this.asSeconds(),me,be,mn,yi;return se?(y=fn(u/60),E=fn(y/60),u%=60,y%=60,M=fn(g/12),g%=12,W=u?u.toFixed(3).replace(/\.?0+$/,""):"",me=se<0?"-":"",be=Fa(this._months)!==Fa(se)?"-":"",mn=Fa(this._days)!==Fa(se)?"-":"",yi=Fa(this._milliseconds)!==Fa(se)?"-":"",me+"P"+(M?be+M+"Y":"")+(g?be+g+"M":"")+(h?mn+h+"D":"")+(E||y||u?"T":"")+(E?yi+E+"H":"")+(y?yi+y+"M":"")+(u?yi+W+"S":"")):"P0D"}var xe=jh.prototype;xe.isValid=pN,xe.abs=HO,xe.add=KO,xe.subtract=YO,xe.as=JO,xe.asMilliseconds=pI,xe.asSeconds=XO,xe.asMinutes=ZO,xe.asHours=eM,xe.asDays=tM,xe.asWeeks=nM,xe.asMonths=rM,xe.asQuarters=iM,xe.asYears=sM,xe.valueOf=oM,xe._bubble=QO,xe.clone=aM,xe.get=lM,xe.milliseconds=uM,xe.seconds=cM,xe.minutes=dM,xe.hours=hM,xe.days=fM,xe.weeks=gM,xe.months=pM,xe.years=mM,xe.humanize=EM,xe.toISOString=Hh,xe.toString=Hh,xe.toJSON=Hh,xe.locale=eI,xe.localeData=nI,xe.toIsoString=D("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hh),xe.lang=tI,le("X",0,0,"unix"),le("x",0,0,"valueOf"),ie("x",wa),ie("X",lh),ke("X",function(u,h,g){g._d=new Date(parseFloat(u)*1e3)}),ke("x",function(u,h,g){g._d=new Date(fe(u))});//! moment.js
return r.version="2.30.1",i(Se),r.fn=X,r.min=cN,r.max=dN,r.now=hN,r.utc=I,r.unix=jO,r.months=zO,r.isDate=p,r.locale=zr,r.invalid=P,r.duration=Ir,r.isMoment=T,r.weekdays=WO,r.parseZone=BO,r.localeData=nr,r.isDuration=Bh,r.monthsShort=$O,r.weekdaysMin=GO,r.defineLocale=Ca,r.updateLocale=co,r.locales=Nh,r.weekdaysShort=qO,r.normalizeUnits=dn,r.relativeTimeRounding=_M,r.relativeTimeThreshold=wM,r.calendarFormat=LN,r.prototype=X,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r})})(uN);var eK=uN.exports;const tK=kd(eK);function nK({order:t}){var e;return O.jsxs("div",{className:"order",children:[O.jsx("h1",{children:"Order"}),O.jsx("p",{children:tK.unix(t.data.created).format("MMM Do YYY,h:mma")}),O.jsx("p",{className:"order_id",children:O.jsx("small",{children:t.id})}),(e=t.data.basket)==null?void 0:e.map(n=>O.jsx(BE,{id:n.id,title:n.title,image:n.img,price:n.price,rating:n.rating,hideButton:!0})),O.jsx(jE,{renderText:n=>O.jsxs("h3",{className:"order_total",children:["Order Total: ",n]}),decimalScale:2,value:t.data.amount/100,displayType:"text",thousandSeparator:!0,prefix:"ETB"})]})}function rK(){const[{basket:t,user:e},n]=Gs(),[r,i]=Q.useState([]);return Q.useEffect(()=>{e?Zx.collection("users").doc(e==null?void 0:e.uid).collection("orders").orderBy("created","desc").onSnapshot(s=>{i(s.docs.map(o=>({id:o.id,data:o.data()})))}):i([])},[e]),O.jsxs("div",{className:"orders",children:["jj",O.jsx("h1",{children:"your orders"}),O.jsx("div",{className:"order_ORDERS",children:r==null?void 0:r.map(s=>O.jsx(nK,{order:s}))})]})}function iK(){return O.jsx("div",{className:"",children:O.jsx("footer",{className:"footer",children:O.jsxs("div",{className:"container",children:[O.jsxs("div",{className:"row",children:[O.jsx("div",{className:"col-lg-3 col-md-6 col-sm-6",children:O.jsxs("div",{className:"footer__about",children:[O.jsx("div",{className:"footer__logo",children:O.jsx("a",{href:"#",children:O.jsx("img",{src:"img/footer-logo.png",alt:""})})}),O.jsx("p",{children:"The customer is at the heart of our unique business model, which includes shopping."}),O.jsx("a",{href:"#",children:O.jsx("img",{src:"img/payment.png",alt:""})})]})}),O.jsx("div",{className:"col-lg-2 offset-lg-1 col-md-3 col-sm-6",children:O.jsxs("div",{className:"footer__widget",children:[O.jsx("h6",{children:"Shopping"}),O.jsxs("ul",{children:[O.jsx("li",{children:O.jsx("a",{href:"#",children:"Clothing Store"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Trending Shoes"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Accessories"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Sale"})})]})]})}),O.jsx("div",{className:"col-lg-2 col-md-3 col-sm-6",children:O.jsxs("div",{className:"footer__widget",children:[O.jsx("h6",{children:"Shopping"}),O.jsxs("ul",{children:[O.jsx("li",{children:O.jsx("a",{href:"#",children:"Payment Methods"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Delivary"})}),O.jsx("li",{children:O.jsx("a",{href:"#",children:"Return & Exchanges"})})]})]})}),O.jsx("div",{className:"col-lg-3 offset-lg-1 col-md-6 col-sm-6",children:O.jsxs("div",{className:"footer__widget",children:[O.jsx("h6",{children:"NewLetter"}),O.jsx("div",{className:"footer__newslatter",children:O.jsx("p",{children:"Be the first to know about new arrivals, look books, sales & promos!"})})]})})]}),O.jsx("div",{className:"row",children:O.jsx("div",{className:"col-lg-12 text-center",children:O.jsx("div",{className:"footer__copyright__text",children:O.jsxs("p",{children:["Copyright ",O.jsx("script",{children:"document.write(new Date().getFullYear());"}),"2024 All rights reserved | This website  is made with ",O.jsx("i",{className:"fa fa-heart-o","aria-hidden":"true"})," by ",O.jsx("a",{href:"https://omarmifta.netlify.app/",target:"_blank",children:"Group 5"})]})})})})]})})})}function sK(){const t=oF("pk_test_51PL7ynLk6A9w0TYBTgR9rQ08Wkq34EVYS9x21vnEhJFwDoXuTIODlKqxwAEPpLQrMnMBufhnScMqyNcF0d2KOGYN00TEQbrZun"),[{},e]=Gs();return Q.useEffect(()=>{Wp.onAuthStateChanged(n=>{e(n?{type:"SET_USER",user:n}:{type:"SET_USER",user:null})})},[]),O.jsxs(KL,{children:[O.jsx(BL,{children:O.jsxs(_o,{path:"/",element:O.jsx(eH,{}),children:[O.jsx(_o,{path:"/checkouts",element:O.jsx(TH,{})}),O.jsx(_o,{path:"/login",element:O.jsx(rH,{})}),O.jsx(_o,{path:"payment",element:O.jsx(ZA,{stripe:t,children:O.jsx(X8,{})})}),O.jsx(_o,{path:"/",element:O.jsx(tH,{})}),O.jsx(_o,{path:"/orders",element:O.jsx(rK,{})})]})}),O.jsx(iK,{})]})}const oK={basket:[],user:""},aK=(t,e)=>{switch(e.type){case"ADD_TO_BASKET":return{...t,basket:[...t.basket,e.item]};case"EMPTY_BASKET":return{...t,basket:[]};case"REMOVE_FROM_BASKET":const n=t.basket.findIndex(i=>i.id===e.id);let r=[...t.basket];return n>=0?r.splice(n,1):console.warn(`Cant remove product (id: ${e.id}) as its not in basket!`),{...t,basket:r};case"SET_USER":return{...t,user:e.user};default:return t}};Zy.createRoot(document.getElementById("root")).render(O.jsx(ge.StrictMode,{children:O.jsx(XL,{initialState:oK,reducer:aK,children:O.jsx(sK,{})})}));
